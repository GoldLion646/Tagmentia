var Zz=Object.defineProperty;var X_=e=>{throw TypeError(e)};var Xz=(e,t,r)=>t in e?Zz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Fa=(e,t,r)=>Xz(e,typeof t!="symbol"?t+"":t,r),Yy=(e,t,r)=>t.has(e)||X_("Cannot "+r);var ue=(e,t,r)=>(Yy(e,t,"read from private field"),r?r.call(e):t.get(e)),ot=(e,t,r)=>t.has(e)?X_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ue=(e,t,r,n)=>(Yy(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Br=(e,t,r)=>(Yy(e,t,"access private method"),r);var vm=(e,t,r,n)=>({set _(a){Ue(e,t,a,r)},get _(){return ue(e,t,n)}});function e9(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var ms=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ua(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t9(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var TO={exports:{}},Cx={},OO={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jh=Symbol.for("react.element"),r9=Symbol.for("react.portal"),n9=Symbol.for("react.fragment"),s9=Symbol.for("react.strict_mode"),a9=Symbol.for("react.profiler"),i9=Symbol.for("react.provider"),o9=Symbol.for("react.context"),l9=Symbol.for("react.forward_ref"),c9=Symbol.for("react.suspense"),d9=Symbol.for("react.memo"),u9=Symbol.for("react.lazy"),e2=Symbol.iterator;function f9(e){return e===null||typeof e!="object"?null:(e=e2&&e[e2]||e["@@iterator"],typeof e=="function"?e:null)}var RO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DO=Object.assign,IO={};function Yd(e,t,r){this.props=e,this.context=t,this.refs=IO,this.updater=r||RO}Yd.prototype.isReactComponent={};Yd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function MO(){}MO.prototype=Yd.prototype;function CN(e,t,r){this.props=e,this.context=t,this.refs=IO,this.updater=r||RO}var _N=CN.prototype=new MO;_N.constructor=CN;DO(_N,Yd.prototype);_N.isPureReactComponent=!0;var t2=Array.isArray,LO=Object.prototype.hasOwnProperty,kN={current:null},$O={key:!0,ref:!0,__self:!0,__source:!0};function FO(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)LO.call(t,n)&&!$O.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:jh,type:e,key:i,ref:o,props:a,_owner:kN.current}}function h9(e,t){return{$$typeof:jh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function EN(e){return typeof e=="object"&&e!==null&&e.$$typeof===jh}function m9(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var r2=/\/+/g;function Qy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?m9(""+e.key):t.toString(36)}function pp(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case jh:case r9:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Qy(o,0):n,t2(a)?(r="",e!=null&&(r=e.replace(r2,"$&/")+"/"),pp(a,t,r,"",function(d){return d})):a!=null&&(EN(a)&&(a=h9(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(r2,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",t2(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Qy(i,l);o+=pp(i,t,r,c,a)}else if(c=f9(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Qy(i,l++),o+=pp(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ym(e,t,r){if(e==null)return e;var n=[],a=0;return pp(e,n,"","",function(i){return t.call(r,i,a++)}),n}function p9(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dn={current:null},gp={transition:null},g9={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:gp,ReactCurrentOwner:kN};function UO(){throw Error("act(...) is not supported in production builds of React.")}Je.Children={map:ym,forEach:function(e,t,r){ym(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ym(e,function(){t++}),t},toArray:function(e){return ym(e,function(t){return t})||[]},only:function(e){if(!EN(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Je.Component=Yd;Je.Fragment=n9;Je.Profiler=a9;Je.PureComponent=CN;Je.StrictMode=s9;Je.Suspense=c9;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g9;Je.act=UO;Je.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=DO({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=kN.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)LO.call(t,c)&&!$O.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:jh,type:e.type,key:a,ref:i,props:n,_owner:o}};Je.createContext=function(e){return e={$$typeof:o9,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:i9,_context:e},e.Consumer=e};Je.createElement=FO;Je.createFactory=function(e){var t=FO.bind(null,e);return t.type=e,t};Je.createRef=function(){return{current:null}};Je.forwardRef=function(e){return{$$typeof:l9,render:e}};Je.isValidElement=EN;Je.lazy=function(e){return{$$typeof:u9,_payload:{_status:-1,_result:e},_init:p9}};Je.memo=function(e,t){return{$$typeof:d9,type:e,compare:t===void 0?null:t}};Je.startTransition=function(e){var t=gp.transition;gp.transition={};try{e()}finally{gp.transition=t}};Je.unstable_act=UO;Je.useCallback=function(e,t){return dn.current.useCallback(e,t)};Je.useContext=function(e){return dn.current.useContext(e)};Je.useDebugValue=function(){};Je.useDeferredValue=function(e){return dn.current.useDeferredValue(e)};Je.useEffect=function(e,t){return dn.current.useEffect(e,t)};Je.useId=function(){return dn.current.useId()};Je.useImperativeHandle=function(e,t,r){return dn.current.useImperativeHandle(e,t,r)};Je.useInsertionEffect=function(e,t){return dn.current.useInsertionEffect(e,t)};Je.useLayoutEffect=function(e,t){return dn.current.useLayoutEffect(e,t)};Je.useMemo=function(e,t){return dn.current.useMemo(e,t)};Je.useReducer=function(e,t,r){return dn.current.useReducer(e,t,r)};Je.useRef=function(e){return dn.current.useRef(e)};Je.useState=function(e){return dn.current.useState(e)};Je.useSyncExternalStore=function(e,t,r){return dn.current.useSyncExternalStore(e,t,r)};Je.useTransition=function(){return dn.current.useTransition()};Je.version="18.3.1";OO.exports=Je;var h=OO.exports;const fe=ua(h),_x=e9({__proto__:null,default:fe},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x9=h,v9=Symbol.for("react.element"),y9=Symbol.for("react.fragment"),b9=Object.prototype.hasOwnProperty,w9=x9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,j9={key:!0,ref:!0,__self:!0,__source:!0};function BO(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)b9.call(t,n)&&!j9.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:v9,type:e,key:i,ref:o,props:a,_owner:w9.current}}Cx.Fragment=y9;Cx.jsx=BO;Cx.jsxs=BO;TO.exports=Cx;var s=TO.exports,zO={exports:{}},Kn={},VO={exports:{}},WO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,V){var F=z.length;z.push(V);e:for(;0<F;){var W=F-1>>>1,D=z[W];if(0<a(D,V))z[W]=V,z[F]=D,F=W;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var V=z[0],F=z.pop();if(F!==V){z[0]=F;e:for(var W=0,D=z.length,L=D>>>1;W<L;){var J=2*(W+1)-1,U=z[J],ee=J+1,G=z[ee];if(0>a(U,F))ee<D&&0>a(G,U)?(z[W]=G,z[ee]=F,W=ee):(z[W]=U,z[J]=F,W=J);else if(ee<D&&0>a(G,F))z[W]=G,z[ee]=F,W=ee;else break e}}return V}function a(z,V){var F=z.sortIndex-V.sortIndex;return F!==0?F:z.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,m=3,p=!1,x=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var V=r(d);V!==null;){if(V.callback===null)n(d);else if(V.startTime<=z)n(d),V.sortIndex=V.expirationTime,t(c,V);else break;V=r(d)}}function j(z){if(g=!1,b(z),!x)if(r(c)!==null)x=!0,B(N);else{var V=r(d);V!==null&&K(j,V.startTime-z)}}function N(z,V){x=!1,g&&(g=!1,y(k),k=-1),p=!0;var F=m;try{for(b(V),f=r(c);f!==null&&(!(f.expirationTime>V)||z&&!_());){var W=f.callback;if(typeof W=="function"){f.callback=null,m=f.priorityLevel;var D=W(f.expirationTime<=V);V=e.unstable_now(),typeof D=="function"?f.callback=D:f===r(c)&&n(c),b(V)}else n(c);f=r(c)}if(f!==null)var L=!0;else{var J=r(d);J!==null&&K(j,J.startTime-V),L=!1}return L}finally{f=null,m=F,p=!1}}var S=!1,C=null,k=-1,A=5,P=-1;function _(){return!(e.unstable_now()-P<A)}function E(){if(C!==null){var z=e.unstable_now();P=z;var V=!0;try{V=C(!0,z)}finally{V?M():(S=!1,C=null)}}else S=!1}var M;if(typeof v=="function")M=function(){v(E)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,T=R.port2;R.port1.onmessage=E,M=function(){T.postMessage(null)}}else M=function(){w(E,0)};function B(z){C=z,S||(S=!0,M())}function K(z,V){k=w(function(){z(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,B(N))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(z){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var F=m;m=V;try{return z()}finally{m=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,V){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var F=m;m=z;try{return V()}finally{m=F}},e.unstable_scheduleCallback=function(z,V,F){var W=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?W+F:W):F=W,z){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=F+D,z={id:u++,callback:V,priorityLevel:z,startTime:F,expirationTime:D,sortIndex:-1},F>W?(z.sortIndex=F,t(d,z),r(c)===null&&z===r(d)&&(g?(y(k),k=-1):g=!0,K(j,F-W))):(z.sortIndex=D,t(c,z),x||p||(x=!0,B(N))),z},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(z){var V=m;return function(){var F=m;m=V;try{return z.apply(this,arguments)}finally{m=F}}}})(WO);VO.exports=WO;var N9=VO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S9=h,Vn=N9;function me(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qO=new Set,Cf={};function ec(e,t){hd(e,t),hd(e+"Capture",t)}function hd(e,t){for(Cf[e]=t,e=0;e<t.length;e++)qO.add(t[e])}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$0=Object.prototype.hasOwnProperty,C9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,n2={},s2={};function _9(e){return $0.call(s2,e)?!0:$0.call(n2,e)?!1:C9.test(e)?s2[e]=!0:(n2[e]=!0,!1)}function k9(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E9(e,t,r,n){if(t===null||typeof t>"u"||k9(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function un(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ir[e]=new un(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ir[t]=new un(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ir[e]=new un(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ir[e]=new un(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ir[e]=new un(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ir[e]=new un(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ir[e]=new un(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ir[e]=new un(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ir[e]=new un(e,5,!1,e.toLowerCase(),null,!1,!1)});var PN=/[\-:]([a-z])/g;function AN(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(PN,AN);Ir[t]=new un(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(PN,AN);Ir[t]=new un(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(PN,AN);Ir[t]=new un(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ir[e]=new un(e,1,!1,e.toLowerCase(),null,!1,!1)});Ir.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ir[e]=new un(e,1,!1,e.toLowerCase(),null,!0,!0)});function TN(e,t,r,n){var a=Ir.hasOwnProperty(t)?Ir[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(E9(t,r,a,n)&&(r=null),n||a===null?_9(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var gi=S9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bm=Symbol.for("react.element"),Rc=Symbol.for("react.portal"),Dc=Symbol.for("react.fragment"),ON=Symbol.for("react.strict_mode"),F0=Symbol.for("react.profiler"),HO=Symbol.for("react.provider"),GO=Symbol.for("react.context"),RN=Symbol.for("react.forward_ref"),U0=Symbol.for("react.suspense"),B0=Symbol.for("react.suspense_list"),DN=Symbol.for("react.memo"),Bi=Symbol.for("react.lazy"),KO=Symbol.for("react.offscreen"),a2=Symbol.iterator;function _u(e){return e===null||typeof e!="object"?null:(e=a2&&e[a2]||e["@@iterator"],typeof e=="function"?e:null)}var Kt=Object.assign,Jy;function Qu(e){if(Jy===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Jy=t&&t[1]||""}return`
`+Jy+e}var Zy=!1;function Xy(e,t){if(!e||Zy)return"";Zy=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Zy=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Qu(e):""}function P9(e){switch(e.tag){case 5:return Qu(e.type);case 16:return Qu("Lazy");case 13:return Qu("Suspense");case 19:return Qu("SuspenseList");case 0:case 2:case 15:return e=Xy(e.type,!1),e;case 11:return e=Xy(e.type.render,!1),e;case 1:return e=Xy(e.type,!0),e;default:return""}}function z0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dc:return"Fragment";case Rc:return"Portal";case F0:return"Profiler";case ON:return"StrictMode";case U0:return"Suspense";case B0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case GO:return(e.displayName||"Context")+".Consumer";case HO:return(e._context.displayName||"Context")+".Provider";case RN:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case DN:return t=e.displayName||null,t!==null?t:z0(e.type)||"Memo";case Bi:t=e._payload,e=e._init;try{return z0(e(t))}catch{}}return null}function A9(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z0(t);case 8:return t===ON?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function bo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function YO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function T9(e){var t=YO(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wm(e){e._valueTracker||(e._valueTracker=T9(e))}function QO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=YO(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Fp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function V0(e,t){var r=t.checked;return Kt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function i2(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=bo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function JO(e,t){t=t.checked,t!=null&&TN(e,"checked",t,!1)}function W0(e,t){JO(e,t);var r=bo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?q0(e,t.type,r):t.hasOwnProperty("defaultValue")&&q0(e,t.type,bo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function o2(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function q0(e,t,r){(t!=="number"||Fp(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ju=Array.isArray;function Gc(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+bo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function H0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(me(91));return Kt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function l2(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(me(92));if(Ju(r)){if(1<r.length)throw Error(me(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:bo(r)}}function ZO(e,t){var r=bo(t.value),n=bo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function c2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function XO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function G0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?XO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jm,e4=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jm=jm||document.createElement("div"),jm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _f(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var lf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},O9=["Webkit","ms","Moz","O"];Object.keys(lf).forEach(function(e){O9.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lf[t]=lf[e]})});function t4(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||lf.hasOwnProperty(e)&&lf[e]?(""+t).trim():t+"px"}function r4(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=t4(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var R9=Kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function K0(e,t){if(t){if(R9[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(me(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(me(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(me(61))}if(t.style!=null&&typeof t.style!="object")throw Error(me(62))}}function Y0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Q0=null;function IN(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var J0=null,Kc=null,Yc=null;function d2(e){if(e=Ch(e)){if(typeof J0!="function")throw Error(me(280));var t=e.stateNode;t&&(t=Tx(t),J0(e.stateNode,e.type,t))}}function n4(e){Kc?Yc?Yc.push(e):Yc=[e]:Kc=e}function s4(){if(Kc){var e=Kc,t=Yc;if(Yc=Kc=null,d2(e),t)for(e=0;e<t.length;e++)d2(t[e])}}function a4(e,t){return e(t)}function i4(){}var eb=!1;function o4(e,t,r){if(eb)return e(t,r);eb=!0;try{return a4(e,t,r)}finally{eb=!1,(Kc!==null||Yc!==null)&&(i4(),s4())}}function kf(e,t){var r=e.stateNode;if(r===null)return null;var n=Tx(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(me(231,t,typeof r));return r}var Z0=!1;if(si)try{var ku={};Object.defineProperty(ku,"passive",{get:function(){Z0=!0}}),window.addEventListener("test",ku,ku),window.removeEventListener("test",ku,ku)}catch{Z0=!1}function D9(e,t,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var cf=!1,Up=null,Bp=!1,X0=null,I9={onError:function(e){cf=!0,Up=e}};function M9(e,t,r,n,a,i,o,l,c){cf=!1,Up=null,D9.apply(I9,arguments)}function L9(e,t,r,n,a,i,o,l,c){if(M9.apply(this,arguments),cf){if(cf){var d=Up;cf=!1,Up=null}else throw Error(me(198));Bp||(Bp=!0,X0=d)}}function tc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function l4(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function u2(e){if(tc(e)!==e)throw Error(me(188))}function $9(e){var t=e.alternate;if(!t){if(t=tc(e),t===null)throw Error(me(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return u2(a),e;if(i===n)return u2(a),t;i=i.sibling}throw Error(me(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(me(189))}}if(r.alternate!==n)throw Error(me(190))}if(r.tag!==3)throw Error(me(188));return r.stateNode.current===r?e:t}function c4(e){return e=$9(e),e!==null?d4(e):null}function d4(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=d4(e);if(t!==null)return t;e=e.sibling}return null}var u4=Vn.unstable_scheduleCallback,f2=Vn.unstable_cancelCallback,F9=Vn.unstable_shouldYield,U9=Vn.unstable_requestPaint,nr=Vn.unstable_now,B9=Vn.unstable_getCurrentPriorityLevel,MN=Vn.unstable_ImmediatePriority,f4=Vn.unstable_UserBlockingPriority,zp=Vn.unstable_NormalPriority,z9=Vn.unstable_LowPriority,h4=Vn.unstable_IdlePriority,kx=null,_a=null;function V9(e){if(_a&&typeof _a.onCommitFiberRoot=="function")try{_a.onCommitFiberRoot(kx,e,void 0,(e.current.flags&128)===128)}catch{}}var ea=Math.clz32?Math.clz32:H9,W9=Math.log,q9=Math.LN2;function H9(e){return e>>>=0,e===0?32:31-(W9(e)/q9|0)|0}var Nm=64,Sm=4194304;function Zu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vp(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Zu(l):(i&=o,i!==0&&(n=Zu(i)))}else o=r&~a,o!==0?n=Zu(o):i!==0&&(n=Zu(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ea(t),a=1<<r,n|=e[r],t&=~a;return n}function G9(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function K9(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ea(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=G9(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function ew(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function m4(){var e=Nm;return Nm<<=1,!(Nm&4194240)&&(Nm=64),e}function tb(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Nh(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ea(t),e[t]=r}function Y9(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ea(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function LN(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ea(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var pt=0;function p4(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var g4,$N,x4,v4,y4,tw=!1,Cm=[],oo=null,lo=null,co=null,Ef=new Map,Pf=new Map,Gi=[],Q9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h2(e,t){switch(e){case"focusin":case"focusout":oo=null;break;case"dragenter":case"dragleave":lo=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":Ef.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pf.delete(t.pointerId)}}function Eu(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Ch(t),t!==null&&$N(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function J9(e,t,r,n,a){switch(t){case"focusin":return oo=Eu(oo,e,t,r,n,a),!0;case"dragenter":return lo=Eu(lo,e,t,r,n,a),!0;case"mouseover":return co=Eu(co,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Ef.set(i,Eu(Ef.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Pf.set(i,Eu(Pf.get(i)||null,e,t,r,n,a)),!0}return!1}function b4(e){var t=hl(e.target);if(t!==null){var r=tc(t);if(r!==null){if(t=r.tag,t===13){if(t=l4(r),t!==null){e.blockedOn=t,y4(e.priority,function(){x4(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=rw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Q0=n,r.target.dispatchEvent(n),Q0=null}else return t=Ch(r),t!==null&&$N(t),e.blockedOn=r,!1;t.shift()}return!0}function m2(e,t,r){xp(e)&&r.delete(t)}function Z9(){tw=!1,oo!==null&&xp(oo)&&(oo=null),lo!==null&&xp(lo)&&(lo=null),co!==null&&xp(co)&&(co=null),Ef.forEach(m2),Pf.forEach(m2)}function Pu(e,t){e.blockedOn===t&&(e.blockedOn=null,tw||(tw=!0,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,Z9)))}function Af(e){function t(a){return Pu(a,e)}if(0<Cm.length){Pu(Cm[0],e);for(var r=1;r<Cm.length;r++){var n=Cm[r];n.blockedOn===e&&(n.blockedOn=null)}}for(oo!==null&&Pu(oo,e),lo!==null&&Pu(lo,e),co!==null&&Pu(co,e),Ef.forEach(t),Pf.forEach(t),r=0;r<Gi.length;r++)n=Gi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Gi.length&&(r=Gi[0],r.blockedOn===null);)b4(r),r.blockedOn===null&&Gi.shift()}var Qc=gi.ReactCurrentBatchConfig,Wp=!0;function X9(e,t,r,n){var a=pt,i=Qc.transition;Qc.transition=null;try{pt=1,FN(e,t,r,n)}finally{pt=a,Qc.transition=i}}function eV(e,t,r,n){var a=pt,i=Qc.transition;Qc.transition=null;try{pt=4,FN(e,t,r,n)}finally{pt=a,Qc.transition=i}}function FN(e,t,r,n){if(Wp){var a=rw(e,t,r,n);if(a===null)ub(e,t,n,qp,r),h2(e,n);else if(J9(a,e,t,r,n))n.stopPropagation();else if(h2(e,n),t&4&&-1<Q9.indexOf(e)){for(;a!==null;){var i=Ch(a);if(i!==null&&g4(i),i=rw(e,t,r,n),i===null&&ub(e,t,n,qp,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else ub(e,t,n,null,r)}}var qp=null;function rw(e,t,r,n){if(qp=null,e=IN(n),e=hl(e),e!==null)if(t=tc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=l4(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qp=e,null}function w4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(B9()){case MN:return 1;case f4:return 4;case zp:case z9:return 16;case h4:return 536870912;default:return 16}default:return 16}}var ro=null,UN=null,vp=null;function j4(){if(vp)return vp;var e,t=UN,r=t.length,n,a="value"in ro?ro.value:ro.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return vp=a.slice(e,1<n?1-n:void 0)}function yp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _m(){return!0}function p2(){return!1}function Yn(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_m:p2,this.isPropagationStopped=p2,this}return Kt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_m)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_m)},persist:function(){},isPersistent:_m}),t}var Qd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},BN=Yn(Qd),Sh=Kt({},Qd,{view:0,detail:0}),tV=Yn(Sh),rb,nb,Au,Ex=Kt({},Sh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zN,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Au&&(Au&&e.type==="mousemove"?(rb=e.screenX-Au.screenX,nb=e.screenY-Au.screenY):nb=rb=0,Au=e),rb)},movementY:function(e){return"movementY"in e?e.movementY:nb}}),g2=Yn(Ex),rV=Kt({},Ex,{dataTransfer:0}),nV=Yn(rV),sV=Kt({},Sh,{relatedTarget:0}),sb=Yn(sV),aV=Kt({},Qd,{animationName:0,elapsedTime:0,pseudoElement:0}),iV=Yn(aV),oV=Kt({},Qd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lV=Yn(oV),cV=Kt({},Qd,{data:0}),x2=Yn(cV),dV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hV(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fV[e])?!!t[e]:!1}function zN(){return hV}var mV=Kt({},Sh,{key:function(e){if(e.key){var t=dV[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uV[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zN,charCode:function(e){return e.type==="keypress"?yp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pV=Yn(mV),gV=Kt({},Ex,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v2=Yn(gV),xV=Kt({},Sh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zN}),vV=Yn(xV),yV=Kt({},Qd,{propertyName:0,elapsedTime:0,pseudoElement:0}),bV=Yn(yV),wV=Kt({},Ex,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jV=Yn(wV),NV=[9,13,27,32],VN=si&&"CompositionEvent"in window,df=null;si&&"documentMode"in document&&(df=document.documentMode);var SV=si&&"TextEvent"in window&&!df,N4=si&&(!VN||df&&8<df&&11>=df),y2=" ",b2=!1;function S4(e,t){switch(e){case"keyup":return NV.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ic=!1;function CV(e,t){switch(e){case"compositionend":return C4(t);case"keypress":return t.which!==32?null:(b2=!0,y2);case"textInput":return e=t.data,e===y2&&b2?null:e;default:return null}}function _V(e,t){if(Ic)return e==="compositionend"||!VN&&S4(e,t)?(e=j4(),vp=UN=ro=null,Ic=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return N4&&t.locale!=="ko"?null:t.data;default:return null}}var kV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kV[e.type]:t==="textarea"}function _4(e,t,r,n){n4(n),t=Hp(t,"onChange"),0<t.length&&(r=new BN("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var uf=null,Tf=null;function EV(e){L4(e,0)}function Px(e){var t=$c(e);if(QO(t))return e}function PV(e,t){if(e==="change")return t}var k4=!1;if(si){var ab;if(si){var ib="oninput"in document;if(!ib){var j2=document.createElement("div");j2.setAttribute("oninput","return;"),ib=typeof j2.oninput=="function"}ab=ib}else ab=!1;k4=ab&&(!document.documentMode||9<document.documentMode)}function N2(){uf&&(uf.detachEvent("onpropertychange",E4),Tf=uf=null)}function E4(e){if(e.propertyName==="value"&&Px(Tf)){var t=[];_4(t,Tf,e,IN(e)),o4(EV,t)}}function AV(e,t,r){e==="focusin"?(N2(),uf=t,Tf=r,uf.attachEvent("onpropertychange",E4)):e==="focusout"&&N2()}function TV(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Px(Tf)}function OV(e,t){if(e==="click")return Px(t)}function RV(e,t){if(e==="input"||e==="change")return Px(t)}function DV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sa=typeof Object.is=="function"?Object.is:DV;function Of(e,t){if(sa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!$0.call(t,a)||!sa(e[a],t[a]))return!1}return!0}function S2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function C2(e,t){var r=S2(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=S2(r)}}function P4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?P4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function A4(){for(var e=window,t=Fp();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Fp(e.document)}return t}function WN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function IV(e){var t=A4(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&P4(r.ownerDocument.documentElement,r)){if(n!==null&&WN(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=C2(r,i);var o=C2(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var MV=si&&"documentMode"in document&&11>=document.documentMode,Mc=null,nw=null,ff=null,sw=!1;function _2(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sw||Mc==null||Mc!==Fp(n)||(n=Mc,"selectionStart"in n&&WN(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ff&&Of(ff,n)||(ff=n,n=Hp(nw,"onSelect"),0<n.length&&(t=new BN("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Mc)))}function km(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Lc={animationend:km("Animation","AnimationEnd"),animationiteration:km("Animation","AnimationIteration"),animationstart:km("Animation","AnimationStart"),transitionend:km("Transition","TransitionEnd")},ob={},T4={};si&&(T4=document.createElement("div").style,"AnimationEvent"in window||(delete Lc.animationend.animation,delete Lc.animationiteration.animation,delete Lc.animationstart.animation),"TransitionEvent"in window||delete Lc.transitionend.transition);function Ax(e){if(ob[e])return ob[e];if(!Lc[e])return e;var t=Lc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in T4)return ob[e]=t[r];return e}var O4=Ax("animationend"),R4=Ax("animationiteration"),D4=Ax("animationstart"),I4=Ax("transitionend"),M4=new Map,k2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ro(e,t){M4.set(e,t),ec(t,[e])}for(var lb=0;lb<k2.length;lb++){var cb=k2[lb],LV=cb.toLowerCase(),$V=cb[0].toUpperCase()+cb.slice(1);Ro(LV,"on"+$V)}Ro(O4,"onAnimationEnd");Ro(R4,"onAnimationIteration");Ro(D4,"onAnimationStart");Ro("dblclick","onDoubleClick");Ro("focusin","onFocus");Ro("focusout","onBlur");Ro(I4,"onTransitionEnd");hd("onMouseEnter",["mouseout","mouseover"]);hd("onMouseLeave",["mouseout","mouseover"]);hd("onPointerEnter",["pointerout","pointerover"]);hd("onPointerLeave",["pointerout","pointerover"]);ec("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ec("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ec("onBeforeInput",["compositionend","keypress","textInput","paste"]);ec("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ec("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ec("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xu));function E2(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,L9(n,t,void 0,e),e.currentTarget=null}function L4(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;E2(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;E2(a,l,d),i=c}}}if(Bp)throw e=X0,Bp=!1,X0=null,e}function Tt(e,t){var r=t[cw];r===void 0&&(r=t[cw]=new Set);var n=e+"__bubble";r.has(n)||($4(t,e,2,!1),r.add(n))}function db(e,t,r){var n=0;t&&(n|=4),$4(r,e,n,t)}var Em="_reactListening"+Math.random().toString(36).slice(2);function Rf(e){if(!e[Em]){e[Em]=!0,qO.forEach(function(r){r!=="selectionchange"&&(FV.has(r)||db(r,!1,e),db(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Em]||(t[Em]=!0,db("selectionchange",!1,t))}}function $4(e,t,r,n){switch(w4(t)){case 1:var a=X9;break;case 4:a=eV;break;default:a=FN}r=a.bind(null,t,r,e),a=void 0,!Z0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function ub(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=hl(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}o4(function(){var d=i,u=IN(r),f=[];e:{var m=M4.get(e);if(m!==void 0){var p=BN,x=e;switch(e){case"keypress":if(yp(r)===0)break e;case"keydown":case"keyup":p=pV;break;case"focusin":x="focus",p=sb;break;case"focusout":x="blur",p=sb;break;case"beforeblur":case"afterblur":p=sb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=g2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=nV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=vV;break;case O4:case R4:case D4:p=iV;break;case I4:p=bV;break;case"scroll":p=tV;break;case"wheel":p=jV;break;case"copy":case"cut":case"paste":p=lV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=v2}var g=(t&4)!==0,w=!g&&e==="scroll",y=g?m!==null?m+"Capture":null:m;g=[];for(var v=d,b;v!==null;){b=v;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,y!==null&&(j=kf(v,y),j!=null&&g.push(Df(v,j,b)))),w)break;v=v.return}0<g.length&&(m=new p(m,x,null,r,u),f.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==Q0&&(x=r.relatedTarget||r.fromElement)&&(hl(x)||x[ai]))break e;if((p||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=d,x=x?hl(x):null,x!==null&&(w=tc(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=d),p!==x)){if(g=g2,j="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=v2,j="onPointerLeave",y="onPointerEnter",v="pointer"),w=p==null?m:$c(p),b=x==null?m:$c(x),m=new g(j,v+"leave",p,r,u),m.target=w,m.relatedTarget=b,j=null,hl(u)===d&&(g=new g(y,v+"enter",x,r,u),g.target=b,g.relatedTarget=w,j=g),w=j,p&&x)t:{for(g=p,y=x,v=0,b=g;b;b=xc(b))v++;for(b=0,j=y;j;j=xc(j))b++;for(;0<v-b;)g=xc(g),v--;for(;0<b-v;)y=xc(y),b--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=xc(g),y=xc(y)}g=null}else g=null;p!==null&&P2(f,m,p,g,!1),x!==null&&w!==null&&P2(f,w,x,g,!0)}}e:{if(m=d?$c(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var N=PV;else if(w2(m))if(k4)N=RV;else{N=TV;var S=AV}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=OV);if(N&&(N=N(e,d))){_4(f,N,r,u);break e}S&&S(e,m,d),e==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&q0(m,"number",m.value)}switch(S=d?$c(d):window,e){case"focusin":(w2(S)||S.contentEditable==="true")&&(Mc=S,nw=d,ff=null);break;case"focusout":ff=nw=Mc=null;break;case"mousedown":sw=!0;break;case"contextmenu":case"mouseup":case"dragend":sw=!1,_2(f,r,u);break;case"selectionchange":if(MV)break;case"keydown":case"keyup":_2(f,r,u)}var C;if(VN)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ic?S4(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(N4&&r.locale!=="ko"&&(Ic||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ic&&(C=j4()):(ro=u,UN="value"in ro?ro.value:ro.textContent,Ic=!0)),S=Hp(d,k),0<S.length&&(k=new x2(k,e,null,r,u),f.push({event:k,listeners:S}),C?k.data=C:(C=C4(r),C!==null&&(k.data=C)))),(C=SV?CV(e,r):_V(e,r))&&(d=Hp(d,"onBeforeInput"),0<d.length&&(u=new x2("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=C))}L4(f,t)})}function Df(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Hp(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=kf(e,r),i!=null&&n.unshift(Df(e,i,a)),i=kf(e,t),i!=null&&n.push(Df(e,i,a))),e=e.return}return n}function xc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function P2(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=kf(r,i),c!=null&&o.unshift(Df(r,c,l))):a||(c=kf(r,i),c!=null&&o.push(Df(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var UV=/\r\n?/g,BV=/\u0000|\uFFFD/g;function A2(e){return(typeof e=="string"?e:""+e).replace(UV,`
`).replace(BV,"")}function Pm(e,t,r){if(t=A2(t),A2(e)!==t&&r)throw Error(me(425))}function Gp(){}var aw=null,iw=null;function ow(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lw=typeof setTimeout=="function"?setTimeout:void 0,zV=typeof clearTimeout=="function"?clearTimeout:void 0,T2=typeof Promise=="function"?Promise:void 0,VV=typeof queueMicrotask=="function"?queueMicrotask:typeof T2<"u"?function(e){return T2.resolve(null).then(e).catch(WV)}:lw;function WV(e){setTimeout(function(){throw e})}function fb(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Af(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Af(t)}function uo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function O2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Jd=Math.random().toString(36).slice(2),wa="__reactFiber$"+Jd,If="__reactProps$"+Jd,ai="__reactContainer$"+Jd,cw="__reactEvents$"+Jd,qV="__reactListeners$"+Jd,HV="__reactHandles$"+Jd;function hl(e){var t=e[wa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ai]||r[wa]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=O2(e);e!==null;){if(r=e[wa])return r;e=O2(e)}return t}e=r,r=e.parentNode}return null}function Ch(e){return e=e[wa]||e[ai],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $c(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(me(33))}function Tx(e){return e[If]||null}var dw=[],Fc=-1;function Do(e){return{current:e}}function Dt(e){0>Fc||(e.current=dw[Fc],dw[Fc]=null,Fc--)}function Pt(e,t){Fc++,dw[Fc]=e.current,e.current=t}var wo={},Jr=Do(wo),jn=Do(!1),Dl=wo;function md(e,t){var r=e.type.contextTypes;if(!r)return wo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Nn(e){return e=e.childContextTypes,e!=null}function Kp(){Dt(jn),Dt(Jr)}function R2(e,t,r){if(Jr.current!==wo)throw Error(me(168));Pt(Jr,t),Pt(jn,r)}function F4(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(me(108,A9(e)||"Unknown",a));return Kt({},r,n)}function Yp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wo,Dl=Jr.current,Pt(Jr,e),Pt(jn,jn.current),!0}function D2(e,t,r){var n=e.stateNode;if(!n)throw Error(me(169));r?(e=F4(e,t,Dl),n.__reactInternalMemoizedMergedChildContext=e,Dt(jn),Dt(Jr),Pt(Jr,e)):Dt(jn),Pt(jn,r)}var qa=null,Ox=!1,hb=!1;function U4(e){qa===null?qa=[e]:qa.push(e)}function GV(e){Ox=!0,U4(e)}function Io(){if(!hb&&qa!==null){hb=!0;var e=0,t=pt;try{var r=qa;for(pt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}qa=null,Ox=!1}catch(a){throw qa!==null&&(qa=qa.slice(e+1)),u4(MN,Io),a}finally{pt=t,hb=!1}}return null}var Uc=[],Bc=0,Qp=null,Jp=0,ns=[],ss=0,Il=null,Ya=1,Qa="";function rl(e,t){Uc[Bc++]=Jp,Uc[Bc++]=Qp,Qp=e,Jp=t}function B4(e,t,r){ns[ss++]=Ya,ns[ss++]=Qa,ns[ss++]=Il,Il=e;var n=Ya;e=Qa;var a=32-ea(n)-1;n&=~(1<<a),r+=1;var i=32-ea(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Ya=1<<32-ea(t)+a|r<<a|n,Qa=i+e}else Ya=1<<i|r<<a|n,Qa=e}function qN(e){e.return!==null&&(rl(e,1),B4(e,1,0))}function HN(e){for(;e===Qp;)Qp=Uc[--Bc],Uc[Bc]=null,Jp=Uc[--Bc],Uc[Bc]=null;for(;e===Il;)Il=ns[--ss],ns[ss]=null,Qa=ns[--ss],ns[ss]=null,Ya=ns[--ss],ns[ss]=null}var Un=null,Fn=null,Mt=!1,Ys=null;function z4(e,t){var r=is(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function I2(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Un=e,Fn=uo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Un=e,Fn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Il!==null?{id:Ya,overflow:Qa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=is(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Un=e,Fn=null,!0):!1;default:return!1}}function uw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fw(e){if(Mt){var t=Fn;if(t){var r=t;if(!I2(e,t)){if(uw(e))throw Error(me(418));t=uo(r.nextSibling);var n=Un;t&&I2(e,t)?z4(n,r):(e.flags=e.flags&-4097|2,Mt=!1,Un=e)}}else{if(uw(e))throw Error(me(418));e.flags=e.flags&-4097|2,Mt=!1,Un=e}}}function M2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Un=e}function Am(e){if(e!==Un)return!1;if(!Mt)return M2(e),Mt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ow(e.type,e.memoizedProps)),t&&(t=Fn)){if(uw(e))throw V4(),Error(me(418));for(;t;)z4(e,t),t=uo(t.nextSibling)}if(M2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(me(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Fn=uo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Fn=null}}else Fn=Un?uo(e.stateNode.nextSibling):null;return!0}function V4(){for(var e=Fn;e;)e=uo(e.nextSibling)}function pd(){Fn=Un=null,Mt=!1}function GN(e){Ys===null?Ys=[e]:Ys.push(e)}var KV=gi.ReactCurrentBatchConfig;function Tu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(me(309));var n=r.stateNode}if(!n)throw Error(me(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(me(284));if(!r._owner)throw Error(me(290,e))}return e}function Tm(e,t){throw e=Object.prototype.toString.call(t),Error(me(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function L2(e){var t=e._init;return t(e._payload)}function W4(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function a(y,v){return y=po(y,v),y.index=0,y.sibling=null,y}function i(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,b,j){return v===null||v.tag!==6?(v=bb(b,y.mode,j),v.return=y,v):(v=a(v,b),v.return=y,v)}function c(y,v,b,j){var N=b.type;return N===Dc?u(y,v,b.props.children,j,b.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Bi&&L2(N)===v.type)?(j=a(v,b.props),j.ref=Tu(y,v,b),j.return=y,j):(j=_p(b.type,b.key,b.props,null,y.mode,j),j.ref=Tu(y,v,b),j.return=y,j)}function d(y,v,b,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=wb(b,y.mode,j),v.return=y,v):(v=a(v,b.children||[]),v.return=y,v)}function u(y,v,b,j,N){return v===null||v.tag!==7?(v=El(b,y.mode,j,N),v.return=y,v):(v=a(v,b),v.return=y,v)}function f(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=bb(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case bm:return b=_p(v.type,v.key,v.props,null,y.mode,b),b.ref=Tu(y,null,v),b.return=y,b;case Rc:return v=wb(v,y.mode,b),v.return=y,v;case Bi:var j=v._init;return f(y,j(v._payload),b)}if(Ju(v)||_u(v))return v=El(v,y.mode,b,null),v.return=y,v;Tm(y,v)}return null}function m(y,v,b,j){var N=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(y,v,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bm:return b.key===N?c(y,v,b,j):null;case Rc:return b.key===N?d(y,v,b,j):null;case Bi:return N=b._init,m(y,v,N(b._payload),j)}if(Ju(b)||_u(b))return N!==null?null:u(y,v,b,j,null);Tm(y,b)}return null}function p(y,v,b,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(b)||null,l(v,y,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case bm:return y=y.get(j.key===null?b:j.key)||null,c(v,y,j,N);case Rc:return y=y.get(j.key===null?b:j.key)||null,d(v,y,j,N);case Bi:var S=j._init;return p(y,v,b,S(j._payload),N)}if(Ju(j)||_u(j))return y=y.get(b)||null,u(v,y,j,N,null);Tm(v,j)}return null}function x(y,v,b,j){for(var N=null,S=null,C=v,k=v=0,A=null;C!==null&&k<b.length;k++){C.index>k?(A=C,C=null):A=C.sibling;var P=m(y,C,b[k],j);if(P===null){C===null&&(C=A);break}e&&C&&P.alternate===null&&t(y,C),v=i(P,v,k),S===null?N=P:S.sibling=P,S=P,C=A}if(k===b.length)return r(y,C),Mt&&rl(y,k),N;if(C===null){for(;k<b.length;k++)C=f(y,b[k],j),C!==null&&(v=i(C,v,k),S===null?N=C:S.sibling=C,S=C);return Mt&&rl(y,k),N}for(C=n(y,C);k<b.length;k++)A=p(C,y,k,b[k],j),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?k:A.key),v=i(A,v,k),S===null?N=A:S.sibling=A,S=A);return e&&C.forEach(function(_){return t(y,_)}),Mt&&rl(y,k),N}function g(y,v,b,j){var N=_u(b);if(typeof N!="function")throw Error(me(150));if(b=N.call(b),b==null)throw Error(me(151));for(var S=N=null,C=v,k=v=0,A=null,P=b.next();C!==null&&!P.done;k++,P=b.next()){C.index>k?(A=C,C=null):A=C.sibling;var _=m(y,C,P.value,j);if(_===null){C===null&&(C=A);break}e&&C&&_.alternate===null&&t(y,C),v=i(_,v,k),S===null?N=_:S.sibling=_,S=_,C=A}if(P.done)return r(y,C),Mt&&rl(y,k),N;if(C===null){for(;!P.done;k++,P=b.next())P=f(y,P.value,j),P!==null&&(v=i(P,v,k),S===null?N=P:S.sibling=P,S=P);return Mt&&rl(y,k),N}for(C=n(y,C);!P.done;k++,P=b.next())P=p(C,y,k,P.value,j),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?k:P.key),v=i(P,v,k),S===null?N=P:S.sibling=P,S=P);return e&&C.forEach(function(E){return t(y,E)}),Mt&&rl(y,k),N}function w(y,v,b,j){if(typeof b=="object"&&b!==null&&b.type===Dc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case bm:e:{for(var N=b.key,S=v;S!==null;){if(S.key===N){if(N=b.type,N===Dc){if(S.tag===7){r(y,S.sibling),v=a(S,b.props.children),v.return=y,y=v;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Bi&&L2(N)===S.type){r(y,S.sibling),v=a(S,b.props),v.ref=Tu(y,S,b),v.return=y,y=v;break e}r(y,S);break}else t(y,S);S=S.sibling}b.type===Dc?(v=El(b.props.children,y.mode,j,b.key),v.return=y,y=v):(j=_p(b.type,b.key,b.props,null,y.mode,j),j.ref=Tu(y,v,b),j.return=y,y=j)}return o(y);case Rc:e:{for(S=b.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(y,v.sibling),v=a(v,b.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=wb(b,y.mode,j),v.return=y,y=v}return o(y);case Bi:return S=b._init,w(y,v,S(b._payload),j)}if(Ju(b))return x(y,v,b,j);if(_u(b))return g(y,v,b,j);Tm(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(y,v.sibling),v=a(v,b),v.return=y,y=v):(r(y,v),v=bb(b,y.mode,j),v.return=y,y=v),o(y)):r(y,v)}return w}var gd=W4(!0),q4=W4(!1),Zp=Do(null),Xp=null,zc=null,KN=null;function YN(){KN=zc=Xp=null}function QN(e){var t=Zp.current;Dt(Zp),e._currentValue=t}function hw(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Jc(e,t){Xp=e,KN=zc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bn=!0),e.firstContext=null)}function ps(e){var t=e._currentValue;if(KN!==e)if(e={context:e,memoizedValue:t,next:null},zc===null){if(Xp===null)throw Error(me(308));zc=e,Xp.dependencies={lanes:0,firstContext:e}}else zc=zc.next=e;return t}var ml=null;function JN(e){ml===null?ml=[e]:ml.push(e)}function H4(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,JN(t)):(r.next=a.next,a.next=r),t.interleaved=r,ii(e,n)}function ii(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zi=!1;function ZN(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function G4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,at&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ii(e,r)}return a=n.interleaved,a===null?(t.next=t,JN(n)):(t.next=a.next,a.next=t),n.interleaved=t,ii(e,r)}function bp(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,LN(e,r)}}function $2(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function eg(e,t,r,n){var a=e.updateQueue;zi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,u=d=c=null,l=i;do{var m=l.lane,p=l.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(m=t,p=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(p,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,m=typeof x=="function"?x.call(p,f,m):x,m==null)break e;f=Kt({},f,m);break e;case 2:zi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=f):u=u.next=p,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Ll|=o,e.lanes=o,e.memoizedState=f}}function F2(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(me(191,a));a.call(n)}}}var _h={},ka=Do(_h),Mf=Do(_h),Lf=Do(_h);function pl(e){if(e===_h)throw Error(me(174));return e}function XN(e,t){switch(Pt(Lf,t),Pt(Mf,e),Pt(ka,_h),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:G0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=G0(t,e)}Dt(ka),Pt(ka,t)}function xd(){Dt(ka),Dt(Mf),Dt(Lf)}function K4(e){pl(Lf.current);var t=pl(ka.current),r=G0(t,e.type);t!==r&&(Pt(Mf,e),Pt(ka,r))}function e1(e){Mf.current===e&&(Dt(ka),Dt(Mf))}var Bt=Do(0);function tg(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mb=[];function t1(){for(var e=0;e<mb.length;e++)mb[e]._workInProgressVersionPrimary=null;mb.length=0}var wp=gi.ReactCurrentDispatcher,pb=gi.ReactCurrentBatchConfig,Ml=0,Ht=null,pr=null,Sr=null,rg=!1,hf=!1,$f=0,YV=0;function zr(){throw Error(me(321))}function r1(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sa(e[r],t[r]))return!1;return!0}function n1(e,t,r,n,a,i){if(Ml=i,Ht=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wp.current=e===null||e.memoizedState===null?XV:e7,e=r(n,a),hf){i=0;do{if(hf=!1,$f=0,25<=i)throw Error(me(301));i+=1,Sr=pr=null,t.updateQueue=null,wp.current=t7,e=r(n,a)}while(hf)}if(wp.current=ng,t=pr!==null&&pr.next!==null,Ml=0,Sr=pr=Ht=null,rg=!1,t)throw Error(me(300));return e}function s1(){var e=$f!==0;return $f=0,e}function ga(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sr===null?Ht.memoizedState=Sr=e:Sr=Sr.next=e,Sr}function gs(){if(pr===null){var e=Ht.alternate;e=e!==null?e.memoizedState:null}else e=pr.next;var t=Sr===null?Ht.memoizedState:Sr.next;if(t!==null)Sr=t,pr=e;else{if(e===null)throw Error(me(310));pr=e,e={memoizedState:pr.memoizedState,baseState:pr.baseState,baseQueue:pr.baseQueue,queue:pr.queue,next:null},Sr===null?Ht.memoizedState=Sr=e:Sr=Sr.next=e}return Sr}function Ff(e,t){return typeof t=="function"?t(e):t}function gb(e){var t=gs(),r=t.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=e;var n=pr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Ml&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Ht.lanes|=u,Ll|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,sa(n,t.memoizedState)||(bn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Ht.lanes|=i,Ll|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function xb(e){var t=gs(),r=t.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);sa(i,t.memoizedState)||(bn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Y4(){}function Q4(e,t){var r=Ht,n=gs(),a=t(),i=!sa(n.memoizedState,a);if(i&&(n.memoizedState=a,bn=!0),n=n.queue,a1(X4.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Sr!==null&&Sr.memoizedState.tag&1){if(r.flags|=2048,Uf(9,Z4.bind(null,r,n,a,t),void 0,null),Cr===null)throw Error(me(349));Ml&30||J4(r,t,a)}return a}function J4(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ht.updateQueue,t===null?(t={lastEffect:null,stores:null},Ht.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Z4(e,t,r,n){t.value=r,t.getSnapshot=n,eR(t)&&tR(e)}function X4(e,t,r){return r(function(){eR(t)&&tR(e)})}function eR(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sa(e,r)}catch{return!0}}function tR(e){var t=ii(e,1);t!==null&&ta(t,e,1,-1)}function U2(e){var t=ga();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ff,lastRenderedState:e},t.queue=e,e=e.dispatch=ZV.bind(null,Ht,e),[t.memoizedState,e]}function Uf(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ht.updateQueue,t===null?(t={lastEffect:null,stores:null},Ht.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function rR(){return gs().memoizedState}function jp(e,t,r,n){var a=ga();Ht.flags|=e,a.memoizedState=Uf(1|t,r,void 0,n===void 0?null:n)}function Rx(e,t,r,n){var a=gs();n=n===void 0?null:n;var i=void 0;if(pr!==null){var o=pr.memoizedState;if(i=o.destroy,n!==null&&r1(n,o.deps)){a.memoizedState=Uf(t,r,i,n);return}}Ht.flags|=e,a.memoizedState=Uf(1|t,r,i,n)}function B2(e,t){return jp(8390656,8,e,t)}function a1(e,t){return Rx(2048,8,e,t)}function nR(e,t){return Rx(4,2,e,t)}function sR(e,t){return Rx(4,4,e,t)}function aR(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function iR(e,t,r){return r=r!=null?r.concat([e]):null,Rx(4,4,aR.bind(null,t,e),r)}function i1(){}function oR(e,t){var r=gs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&r1(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function lR(e,t){var r=gs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&r1(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function cR(e,t,r){return Ml&21?(sa(r,t)||(r=m4(),Ht.lanes|=r,Ll|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bn=!0),e.memoizedState=r)}function QV(e,t){var r=pt;pt=r!==0&&4>r?r:4,e(!0);var n=pb.transition;pb.transition={};try{e(!1),t()}finally{pt=r,pb.transition=n}}function dR(){return gs().memoizedState}function JV(e,t,r){var n=mo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},uR(e))fR(t,r);else if(r=H4(e,t,r,n),r!==null){var a=on();ta(r,e,n,a),hR(r,t,n)}}function ZV(e,t,r){var n=mo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(uR(e))fR(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,sa(l,o)){var c=t.interleaved;c===null?(a.next=a,JN(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=H4(e,t,a,n),r!==null&&(a=on(),ta(r,e,n,a),hR(r,t,n))}}function uR(e){var t=e.alternate;return e===Ht||t!==null&&t===Ht}function fR(e,t){hf=rg=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function hR(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,LN(e,r)}}var ng={readContext:ps,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useInsertionEffect:zr,useLayoutEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useMutableSource:zr,useSyncExternalStore:zr,useId:zr,unstable_isNewReconciler:!1},XV={readContext:ps,useCallback:function(e,t){return ga().memoizedState=[e,t===void 0?null:t],e},useContext:ps,useEffect:B2,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,jp(4194308,4,aR.bind(null,t,e),r)},useLayoutEffect:function(e,t){return jp(4194308,4,e,t)},useInsertionEffect:function(e,t){return jp(4,2,e,t)},useMemo:function(e,t){var r=ga();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ga();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=JV.bind(null,Ht,e),[n.memoizedState,e]},useRef:function(e){var t=ga();return e={current:e},t.memoizedState=e},useState:U2,useDebugValue:i1,useDeferredValue:function(e){return ga().memoizedState=e},useTransition:function(){var e=U2(!1),t=e[0];return e=QV.bind(null,e[1]),ga().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ht,a=ga();if(Mt){if(r===void 0)throw Error(me(407));r=r()}else{if(r=t(),Cr===null)throw Error(me(349));Ml&30||J4(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,B2(X4.bind(null,n,i,e),[e]),n.flags|=2048,Uf(9,Z4.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ga(),t=Cr.identifierPrefix;if(Mt){var r=Qa,n=Ya;r=(n&~(1<<32-ea(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=$f++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=YV++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},e7={readContext:ps,useCallback:oR,useContext:ps,useEffect:a1,useImperativeHandle:iR,useInsertionEffect:nR,useLayoutEffect:sR,useMemo:lR,useReducer:gb,useRef:rR,useState:function(){return gb(Ff)},useDebugValue:i1,useDeferredValue:function(e){var t=gs();return cR(t,pr.memoizedState,e)},useTransition:function(){var e=gb(Ff)[0],t=gs().memoizedState;return[e,t]},useMutableSource:Y4,useSyncExternalStore:Q4,useId:dR,unstable_isNewReconciler:!1},t7={readContext:ps,useCallback:oR,useContext:ps,useEffect:a1,useImperativeHandle:iR,useInsertionEffect:nR,useLayoutEffect:sR,useMemo:lR,useReducer:xb,useRef:rR,useState:function(){return xb(Ff)},useDebugValue:i1,useDeferredValue:function(e){var t=gs();return pr===null?t.memoizedState=e:cR(t,pr.memoizedState,e)},useTransition:function(){var e=xb(Ff)[0],t=gs().memoizedState;return[e,t]},useMutableSource:Y4,useSyncExternalStore:Q4,useId:dR,unstable_isNewReconciler:!1};function Vs(e,t){if(e&&e.defaultProps){t=Kt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function mw(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Kt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Dx={isMounted:function(e){return(e=e._reactInternals)?tc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=on(),a=mo(e),i=Xa(n,a);i.payload=t,r!=null&&(i.callback=r),t=fo(e,i,a),t!==null&&(ta(t,e,a,n),bp(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=on(),a=mo(e),i=Xa(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=fo(e,i,a),t!==null&&(ta(t,e,a,n),bp(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=on(),n=mo(e),a=Xa(r,n);a.tag=2,t!=null&&(a.callback=t),t=fo(e,a,n),t!==null&&(ta(t,e,n,r),bp(t,e,n))}};function z2(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Of(r,n)||!Of(a,i):!0}function mR(e,t,r){var n=!1,a=wo,i=t.contextType;return typeof i=="object"&&i!==null?i=ps(i):(a=Nn(t)?Dl:Jr.current,n=t.contextTypes,i=(n=n!=null)?md(e,a):wo),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dx,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function V2(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Dx.enqueueReplaceState(t,t.state,null)}function pw(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},ZN(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ps(i):(i=Nn(t)?Dl:Jr.current,a.context=md(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(mw(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Dx.enqueueReplaceState(a,a.state,null),eg(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function vd(e,t){try{var r="",n=t;do r+=P9(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function vb(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function gw(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var r7=typeof WeakMap=="function"?WeakMap:Map;function pR(e,t,r){r=Xa(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ag||(ag=!0,_w=n),gw(e,t)},r}function gR(e,t,r){r=Xa(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){gw(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){gw(e,t),typeof n!="function"&&(ho===null?ho=new Set([this]):ho.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function W2(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new r7;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=g7.bind(null,e,t,r),t.then(e,e))}function q2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function H2(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Xa(-1,1),t.tag=2,fo(r,t,1))),r.lanes|=1),e)}var n7=gi.ReactCurrentOwner,bn=!1;function tn(e,t,r,n){t.child=e===null?q4(t,null,r,n):gd(t,e.child,r,n)}function G2(e,t,r,n,a){r=r.render;var i=t.ref;return Jc(t,a),n=n1(e,t,r,n,i,a),r=s1(),e!==null&&!bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,oi(e,t,a)):(Mt&&r&&qN(t),t.flags|=1,tn(e,t,n,a),t.child)}function K2(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!m1(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,xR(e,t,i,n,a)):(e=_p(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Of,r(o,n)&&e.ref===t.ref)return oi(e,t,a)}return t.flags|=1,e=po(i,n),e.ref=t.ref,e.return=t,t.child=e}function xR(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Of(i,n)&&e.ref===t.ref)if(bn=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(bn=!0);else return t.lanes=e.lanes,oi(e,t,a)}return xw(e,t,r,n,a)}function vR(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(Wc,Dn),Dn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pt(Wc,Dn),Dn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Pt(Wc,Dn),Dn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Pt(Wc,Dn),Dn|=n;return tn(e,t,a,r),t.child}function yR(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function xw(e,t,r,n,a){var i=Nn(r)?Dl:Jr.current;return i=md(t,i),Jc(t,a),r=n1(e,t,r,n,i,a),n=s1(),e!==null&&!bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,oi(e,t,a)):(Mt&&n&&qN(t),t.flags|=1,tn(e,t,r,a),t.child)}function Y2(e,t,r,n,a){if(Nn(r)){var i=!0;Yp(t)}else i=!1;if(Jc(t,a),t.stateNode===null)Np(e,t),mR(t,r,n),pw(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=ps(d):(d=Nn(r)?Dl:Jr.current,d=md(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&V2(t,o,n,d),zi=!1;var m=t.memoizedState;o.state=m,eg(t,n,o,a),c=t.memoizedState,l!==n||m!==c||jn.current||zi?(typeof u=="function"&&(mw(t,r,u,n),c=t.memoizedState),(l=zi||z2(t,r,l,n,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,G4(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Vs(t.type,l),o.props=d,f=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ps(c):(c=Nn(r)?Dl:Jr.current,c=md(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&V2(t,o,n,c),zi=!1,m=t.memoizedState,o.state=m,eg(t,n,o,a);var x=t.memoizedState;l!==f||m!==x||jn.current||zi?(typeof p=="function"&&(mw(t,r,p,n),x=t.memoizedState),(d=zi||z2(t,r,d,n,m,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return vw(e,t,r,n,i,a)}function vw(e,t,r,n,a,i){yR(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&D2(t,r,!1),oi(e,t,i);n=t.stateNode,n7.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=gd(t,e.child,null,i),t.child=gd(t,null,l,i)):tn(e,t,l,i),t.memoizedState=n.state,a&&D2(t,r,!0),t.child}function bR(e){var t=e.stateNode;t.pendingContext?R2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&R2(e,t.context,!1),XN(e,t.containerInfo)}function Q2(e,t,r,n,a){return pd(),GN(a),t.flags|=256,tn(e,t,r,n),t.child}var yw={dehydrated:null,treeContext:null,retryLane:0};function bw(e){return{baseLanes:e,cachePool:null,transitions:null}}function wR(e,t,r){var n=t.pendingProps,a=Bt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Pt(Bt,a&1),e===null)return fw(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Lx(o,n,0,null),e=El(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=bw(r),t.memoizedState=yw,e):o1(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return s7(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=po(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=po(l,i):(i=El(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?bw(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=yw,n}return i=e.child,e=i.sibling,n=po(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function o1(e,t){return t=Lx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Om(e,t,r,n){return n!==null&&GN(n),gd(t,e.child,null,r),e=o1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function s7(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=vb(Error(me(422))),Om(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Lx({mode:"visible",children:n.children},a,0,null),i=El(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&gd(t,e.child,null,o),t.child.memoizedState=bw(o),t.memoizedState=yw,i);if(!(t.mode&1))return Om(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(me(419)),n=vb(i,n,void 0),Om(e,t,o,n)}if(l=(o&e.childLanes)!==0,bn||l){if(n=Cr,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ii(e,a),ta(n,e,a,-1))}return h1(),n=vb(Error(me(421))),Om(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=x7.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Fn=uo(a.nextSibling),Un=t,Mt=!0,Ys=null,e!==null&&(ns[ss++]=Ya,ns[ss++]=Qa,ns[ss++]=Il,Ya=e.id,Qa=e.overflow,Il=t),t=o1(t,n.children),t.flags|=4096,t)}function J2(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),hw(e.return,t,r)}function yb(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function jR(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(tn(e,t,n.children,r),n=Bt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&J2(e,r,t);else if(e.tag===19)J2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Pt(Bt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&tg(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),yb(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&tg(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}yb(t,!0,r,null,i);break;case"together":yb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Np(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function oi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ll|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(me(153));if(t.child!==null){for(e=t.child,r=po(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=po(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function a7(e,t,r){switch(t.tag){case 3:bR(t),pd();break;case 5:K4(t);break;case 1:Nn(t.type)&&Yp(t);break;case 4:XN(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Pt(Zp,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Pt(Bt,Bt.current&1),t.flags|=128,null):r&t.child.childLanes?wR(e,t,r):(Pt(Bt,Bt.current&1),e=oi(e,t,r),e!==null?e.sibling:null);Pt(Bt,Bt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return jR(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Pt(Bt,Bt.current),n)break;return null;case 22:case 23:return t.lanes=0,vR(e,t,r)}return oi(e,t,r)}var NR,ww,SR,CR;NR=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ww=function(){};SR=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,pl(ka.current);var i=null;switch(r){case"input":a=V0(e,a),n=V0(e,n),i=[];break;case"select":a=Kt({},a,{value:void 0}),n=Kt({},n,{value:void 0}),i=[];break;case"textarea":a=H0(e,a),n=H0(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Gp)}K0(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Cf.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Cf.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Tt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};CR=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ou(e,t){if(!Mt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Vr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function i7(e,t,r){var n=t.pendingProps;switch(HN(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vr(t),null;case 1:return Nn(t.type)&&Kp(),Vr(t),null;case 3:return n=t.stateNode,xd(),Dt(jn),Dt(Jr),t1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Am(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ys!==null&&(Pw(Ys),Ys=null))),ww(e,t),Vr(t),null;case 5:e1(t);var a=pl(Lf.current);if(r=t.type,e!==null&&t.stateNode!=null)SR(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(me(166));return Vr(t),null}if(e=pl(ka.current),Am(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[wa]=t,n[If]=i,e=(t.mode&1)!==0,r){case"dialog":Tt("cancel",n),Tt("close",n);break;case"iframe":case"object":case"embed":Tt("load",n);break;case"video":case"audio":for(a=0;a<Xu.length;a++)Tt(Xu[a],n);break;case"source":Tt("error",n);break;case"img":case"image":case"link":Tt("error",n),Tt("load",n);break;case"details":Tt("toggle",n);break;case"input":i2(n,i),Tt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Tt("invalid",n);break;case"textarea":l2(n,i),Tt("invalid",n)}K0(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Pm(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Pm(n.textContent,l,e),a=["children",""+l]):Cf.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Tt("scroll",n)}switch(r){case"input":wm(n),o2(n,i,!0);break;case"textarea":wm(n),c2(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Gp)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=XO(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[wa]=t,e[If]=n,NR(e,t,!1,!1),t.stateNode=e;e:{switch(o=Y0(r,n),r){case"dialog":Tt("cancel",e),Tt("close",e),a=n;break;case"iframe":case"object":case"embed":Tt("load",e),a=n;break;case"video":case"audio":for(a=0;a<Xu.length;a++)Tt(Xu[a],e);a=n;break;case"source":Tt("error",e),a=n;break;case"img":case"image":case"link":Tt("error",e),Tt("load",e),a=n;break;case"details":Tt("toggle",e),a=n;break;case"input":i2(e,n),a=V0(e,n),Tt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Kt({},n,{value:void 0}),Tt("invalid",e);break;case"textarea":l2(e,n),a=H0(e,n),Tt("invalid",e);break;default:a=n}K0(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?r4(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&e4(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&_f(e,c):typeof c=="number"&&_f(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Cf.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Tt("scroll",e):c!=null&&TN(e,i,c,o))}switch(r){case"input":wm(e),o2(e,n,!1);break;case"textarea":wm(e),c2(e);break;case"option":n.value!=null&&e.setAttribute("value",""+bo(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Gc(e,!!n.multiple,i,!1):n.defaultValue!=null&&Gc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Gp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vr(t),null;case 6:if(e&&t.stateNode!=null)CR(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(me(166));if(r=pl(Lf.current),pl(ka.current),Am(t)){if(n=t.stateNode,r=t.memoizedProps,n[wa]=t,(i=n.nodeValue!==r)&&(e=Un,e!==null))switch(e.tag){case 3:Pm(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pm(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[wa]=t,t.stateNode=n}return Vr(t),null;case 13:if(Dt(Bt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Mt&&Fn!==null&&t.mode&1&&!(t.flags&128))V4(),pd(),t.flags|=98560,i=!1;else if(i=Am(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(me(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(me(317));i[wa]=t}else pd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vr(t),i=!1}else Ys!==null&&(Pw(Ys),Ys=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Bt.current&1?gr===0&&(gr=3):h1())),t.updateQueue!==null&&(t.flags|=4),Vr(t),null);case 4:return xd(),ww(e,t),e===null&&Rf(t.stateNode.containerInfo),Vr(t),null;case 10:return QN(t.type._context),Vr(t),null;case 17:return Nn(t.type)&&Kp(),Vr(t),null;case 19:if(Dt(Bt),i=t.memoizedState,i===null)return Vr(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Ou(i,!1);else{if(gr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=tg(e),o!==null){for(t.flags|=128,Ou(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Pt(Bt,Bt.current&1|2),t.child}e=e.sibling}i.tail!==null&&nr()>yd&&(t.flags|=128,n=!0,Ou(i,!1),t.lanes=4194304)}else{if(!n)if(e=tg(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ou(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Mt)return Vr(t),null}else 2*nr()-i.renderingStartTime>yd&&r!==1073741824&&(t.flags|=128,n=!0,Ou(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=nr(),t.sibling=null,r=Bt.current,Pt(Bt,n?r&1|2:r&1),t):(Vr(t),null);case 22:case 23:return f1(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Dn&1073741824&&(Vr(t),t.subtreeFlags&6&&(t.flags|=8192)):Vr(t),null;case 24:return null;case 25:return null}throw Error(me(156,t.tag))}function o7(e,t){switch(HN(t),t.tag){case 1:return Nn(t.type)&&Kp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xd(),Dt(jn),Dt(Jr),t1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return e1(t),null;case 13:if(Dt(Bt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(me(340));pd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Dt(Bt),null;case 4:return xd(),null;case 10:return QN(t.type._context),null;case 22:case 23:return f1(),null;case 24:return null;default:return null}}var Rm=!1,Hr=!1,l7=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Vc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Zt(e,t,n)}else r.current=null}function jw(e,t,r){try{r()}catch(n){Zt(e,t,n)}}var Z2=!1;function c7(e,t){if(aw=Wp,e=A4(),WN(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,m=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===r&&++d===a&&(l=o),m===i&&++u===n&&(c=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(iw={focusedElem:e,selectionRange:r},Wp=!1,Ce=t;Ce!==null;)if(t=Ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ce=e;else for(;Ce!==null;){t=Ce;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,w=x.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Vs(t.type,g),w);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(j){Zt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Ce=e;break}Ce=t.return}return x=Z2,Z2=!1,x}function mf(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&jw(t,r,i)}a=a.next}while(a!==n)}}function Ix(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Nw(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function _R(e){var t=e.alternate;t!==null&&(e.alternate=null,_R(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wa],delete t[If],delete t[cw],delete t[qV],delete t[HV])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kR(e){return e.tag===5||e.tag===3||e.tag===4}function X2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kR(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sw(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Gp));else if(n!==4&&(e=e.child,e!==null))for(Sw(e,t,r),e=e.sibling;e!==null;)Sw(e,t,r),e=e.sibling}function Cw(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Cw(e,t,r),e=e.sibling;e!==null;)Cw(e,t,r),e=e.sibling}var Or=null,Gs=!1;function Ti(e,t,r){for(r=r.child;r!==null;)ER(e,t,r),r=r.sibling}function ER(e,t,r){if(_a&&typeof _a.onCommitFiberUnmount=="function")try{_a.onCommitFiberUnmount(kx,r)}catch{}switch(r.tag){case 5:Hr||Vc(r,t);case 6:var n=Or,a=Gs;Or=null,Ti(e,t,r),Or=n,Gs=a,Or!==null&&(Gs?(e=Or,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Or.removeChild(r.stateNode));break;case 18:Or!==null&&(Gs?(e=Or,r=r.stateNode,e.nodeType===8?fb(e.parentNode,r):e.nodeType===1&&fb(e,r),Af(e)):fb(Or,r.stateNode));break;case 4:n=Or,a=Gs,Or=r.stateNode.containerInfo,Gs=!0,Ti(e,t,r),Or=n,Gs=a;break;case 0:case 11:case 14:case 15:if(!Hr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&jw(r,t,o),a=a.next}while(a!==n)}Ti(e,t,r);break;case 1:if(!Hr&&(Vc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Zt(r,t,l)}Ti(e,t,r);break;case 21:Ti(e,t,r);break;case 22:r.mode&1?(Hr=(n=Hr)||r.memoizedState!==null,Ti(e,t,r),Hr=n):Ti(e,t,r);break;default:Ti(e,t,r)}}function ek(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new l7),t.forEach(function(n){var a=v7.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Fs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Or=l.stateNode,Gs=!1;break e;case 3:Or=l.stateNode.containerInfo,Gs=!0;break e;case 4:Or=l.stateNode.containerInfo,Gs=!0;break e}l=l.return}if(Or===null)throw Error(me(160));ER(i,o,a),Or=null,Gs=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Zt(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)PR(t,e),t=t.sibling}function PR(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Fs(t,e),pa(e),n&4){try{mf(3,e,e.return),Ix(3,e)}catch(g){Zt(e,e.return,g)}try{mf(5,e,e.return)}catch(g){Zt(e,e.return,g)}}break;case 1:Fs(t,e),pa(e),n&512&&r!==null&&Vc(r,r.return);break;case 5:if(Fs(t,e),pa(e),n&512&&r!==null&&Vc(r,r.return),e.flags&32){var a=e.stateNode;try{_f(a,"")}catch(g){Zt(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&JO(a,i),Y0(l,o);var d=Y0(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?r4(a,f):u==="dangerouslySetInnerHTML"?e4(a,f):u==="children"?_f(a,f):TN(a,u,f,d)}switch(l){case"input":W0(a,i);break;case"textarea":ZO(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Gc(a,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?Gc(a,!!i.multiple,i.defaultValue,!0):Gc(a,!!i.multiple,i.multiple?[]:"",!1))}a[If]=i}catch(g){Zt(e,e.return,g)}}break;case 6:if(Fs(t,e),pa(e),n&4){if(e.stateNode===null)throw Error(me(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Zt(e,e.return,g)}}break;case 3:if(Fs(t,e),pa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Af(t.containerInfo)}catch(g){Zt(e,e.return,g)}break;case 4:Fs(t,e),pa(e);break;case 13:Fs(t,e),pa(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(d1=nr())),n&4&&ek(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Hr=(d=Hr)||u,Fs(t,e),Hr=d):Fs(t,e),pa(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Ce=e,u=e.child;u!==null;){for(f=Ce=u;Ce!==null;){switch(m=Ce,p=m.child,m.tag){case 0:case 11:case 14:case 15:mf(4,m,m.return);break;case 1:Vc(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){Zt(n,r,g)}}break;case 5:Vc(m,m.return);break;case 22:if(m.memoizedState!==null){rk(f);continue}}p!==null?(p.return=m,Ce=p):rk(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=t4("display",o))}catch(g){Zt(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){Zt(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Fs(t,e),pa(e),n&4&&ek(e);break;case 21:break;default:Fs(t,e),pa(e)}}function pa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(kR(r)){var n=r;break e}r=r.return}throw Error(me(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(_f(a,""),n.flags&=-33);var i=X2(e);Cw(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=X2(e);Sw(e,l,o);break;default:throw Error(me(161))}}catch(c){Zt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function d7(e,t,r){Ce=e,AR(e)}function AR(e,t,r){for(var n=(e.mode&1)!==0;Ce!==null;){var a=Ce,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Rm;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Hr;l=Rm;var d=Hr;if(Rm=o,(Hr=c)&&!d)for(Ce=a;Ce!==null;)o=Ce,c=o.child,o.tag===22&&o.memoizedState!==null?nk(a):c!==null?(c.return=o,Ce=c):nk(a);for(;i!==null;)Ce=i,AR(i),i=i.sibling;Ce=a,Rm=l,Hr=d}tk(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ce=i):tk(e)}}function tk(e){for(;Ce!==null;){var t=Ce;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Hr||Ix(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Hr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Vs(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&F2(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}F2(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Af(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}Hr||t.flags&512&&Nw(t)}catch(m){Zt(t,t.return,m)}}if(t===e){Ce=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ce=r;break}Ce=t.return}}function rk(e){for(;Ce!==null;){var t=Ce;if(t===e){Ce=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ce=r;break}Ce=t.return}}function nk(e){for(;Ce!==null;){var t=Ce;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ix(4,t)}catch(c){Zt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Zt(t,a,c)}}var i=t.return;try{Nw(t)}catch(c){Zt(t,i,c)}break;case 5:var o=t.return;try{Nw(t)}catch(c){Zt(t,o,c)}}}catch(c){Zt(t,t.return,c)}if(t===e){Ce=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ce=l;break}Ce=t.return}}var u7=Math.ceil,sg=gi.ReactCurrentDispatcher,l1=gi.ReactCurrentOwner,ds=gi.ReactCurrentBatchConfig,at=0,Cr=null,or=null,Dr=0,Dn=0,Wc=Do(0),gr=0,Bf=null,Ll=0,Mx=0,c1=0,pf=null,vn=null,d1=0,yd=1/0,Va=null,ag=!1,_w=null,ho=null,Dm=!1,no=null,ig=0,gf=0,kw=null,Sp=-1,Cp=0;function on(){return at&6?nr():Sp!==-1?Sp:Sp=nr()}function mo(e){return e.mode&1?at&2&&Dr!==0?Dr&-Dr:KV.transition!==null?(Cp===0&&(Cp=m4()),Cp):(e=pt,e!==0||(e=window.event,e=e===void 0?16:w4(e.type)),e):1}function ta(e,t,r,n){if(50<gf)throw gf=0,kw=null,Error(me(185));Nh(e,r,n),(!(at&2)||e!==Cr)&&(e===Cr&&(!(at&2)&&(Mx|=r),gr===4&&Ki(e,Dr)),Sn(e,n),r===1&&at===0&&!(t.mode&1)&&(yd=nr()+500,Ox&&Io()))}function Sn(e,t){var r=e.callbackNode;K9(e,t);var n=Vp(e,e===Cr?Dr:0);if(n===0)r!==null&&f2(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&f2(r),t===1)e.tag===0?GV(sk.bind(null,e)):U4(sk.bind(null,e)),VV(function(){!(at&6)&&Io()}),r=null;else{switch(p4(n)){case 1:r=MN;break;case 4:r=f4;break;case 16:r=zp;break;case 536870912:r=h4;break;default:r=zp}r=$R(r,TR.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function TR(e,t){if(Sp=-1,Cp=0,at&6)throw Error(me(327));var r=e.callbackNode;if(Zc()&&e.callbackNode!==r)return null;var n=Vp(e,e===Cr?Dr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=og(e,n);else{t=n;var a=at;at|=2;var i=RR();(Cr!==e||Dr!==t)&&(Va=null,yd=nr()+500,kl(e,t));do try{m7();break}catch(l){OR(e,l)}while(!0);YN(),sg.current=i,at=a,or!==null?t=0:(Cr=null,Dr=0,t=gr)}if(t!==0){if(t===2&&(a=ew(e),a!==0&&(n=a,t=Ew(e,a))),t===1)throw r=Bf,kl(e,0),Ki(e,n),Sn(e,nr()),r;if(t===6)Ki(e,n);else{if(a=e.current.alternate,!(n&30)&&!f7(a)&&(t=og(e,n),t===2&&(i=ew(e),i!==0&&(n=i,t=Ew(e,i))),t===1))throw r=Bf,kl(e,0),Ki(e,n),Sn(e,nr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(me(345));case 2:nl(e,vn,Va);break;case 3:if(Ki(e,n),(n&130023424)===n&&(t=d1+500-nr(),10<t)){if(Vp(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){on(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=lw(nl.bind(null,e,vn,Va),t);break}nl(e,vn,Va);break;case 4:if(Ki(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-ea(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=nr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*u7(n/1960))-n,10<n){e.timeoutHandle=lw(nl.bind(null,e,vn,Va),n);break}nl(e,vn,Va);break;case 5:nl(e,vn,Va);break;default:throw Error(me(329))}}}return Sn(e,nr()),e.callbackNode===r?TR.bind(null,e):null}function Ew(e,t){var r=pf;return e.current.memoizedState.isDehydrated&&(kl(e,t).flags|=256),e=og(e,t),e!==2&&(t=vn,vn=r,t!==null&&Pw(t)),e}function Pw(e){vn===null?vn=e:vn.push.apply(vn,e)}function f7(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!sa(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ki(e,t){for(t&=~c1,t&=~Mx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ea(t),n=1<<r;e[r]=-1,t&=~n}}function sk(e){if(at&6)throw Error(me(327));Zc();var t=Vp(e,0);if(!(t&1))return Sn(e,nr()),null;var r=og(e,t);if(e.tag!==0&&r===2){var n=ew(e);n!==0&&(t=n,r=Ew(e,n))}if(r===1)throw r=Bf,kl(e,0),Ki(e,t),Sn(e,nr()),r;if(r===6)throw Error(me(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,nl(e,vn,Va),Sn(e,nr()),null}function u1(e,t){var r=at;at|=1;try{return e(t)}finally{at=r,at===0&&(yd=nr()+500,Ox&&Io())}}function $l(e){no!==null&&no.tag===0&&!(at&6)&&Zc();var t=at;at|=1;var r=ds.transition,n=pt;try{if(ds.transition=null,pt=1,e)return e()}finally{pt=n,ds.transition=r,at=t,!(at&6)&&Io()}}function f1(){Dn=Wc.current,Dt(Wc)}function kl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,zV(r)),or!==null)for(r=or.return;r!==null;){var n=r;switch(HN(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Kp();break;case 3:xd(),Dt(jn),Dt(Jr),t1();break;case 5:e1(n);break;case 4:xd();break;case 13:Dt(Bt);break;case 19:Dt(Bt);break;case 10:QN(n.type._context);break;case 22:case 23:f1()}r=r.return}if(Cr=e,or=e=po(e.current,null),Dr=Dn=t,gr=0,Bf=null,c1=Mx=Ll=0,vn=pf=null,ml!==null){for(t=0;t<ml.length;t++)if(r=ml[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}ml=null}return e}function OR(e,t){do{var r=or;try{if(YN(),wp.current=ng,rg){for(var n=Ht.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}rg=!1}if(Ml=0,Sr=pr=Ht=null,hf=!1,$f=0,l1.current=null,r===null||r.return===null){gr=1,Bf=t,or=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Dr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=q2(o);if(p!==null){p.flags&=-257,H2(p,o,l,i,t),p.mode&1&&W2(i,d,t),t=p,c=d;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){W2(i,d,t),h1();break e}c=Error(me(426))}}else if(Mt&&l.mode&1){var w=q2(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),H2(w,o,l,i,t),GN(vd(c,l));break e}}i=c=vd(c,l),gr!==4&&(gr=2),pf===null?pf=[i]:pf.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=pR(i,c,t);$2(i,y);break e;case 1:l=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ho===null||!ho.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=gR(i,l,t);$2(i,j);break e}}i=i.return}while(i!==null)}IR(r)}catch(N){t=N,or===r&&r!==null&&(or=r=r.return);continue}break}while(!0)}function RR(){var e=sg.current;return sg.current=ng,e===null?ng:e}function h1(){(gr===0||gr===3||gr===2)&&(gr=4),Cr===null||!(Ll&268435455)&&!(Mx&268435455)||Ki(Cr,Dr)}function og(e,t){var r=at;at|=2;var n=RR();(Cr!==e||Dr!==t)&&(Va=null,kl(e,t));do try{h7();break}catch(a){OR(e,a)}while(!0);if(YN(),at=r,sg.current=n,or!==null)throw Error(me(261));return Cr=null,Dr=0,gr}function h7(){for(;or!==null;)DR(or)}function m7(){for(;or!==null&&!F9();)DR(or)}function DR(e){var t=LR(e.alternate,e,Dn);e.memoizedProps=e.pendingProps,t===null?IR(e):or=t,l1.current=null}function IR(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=o7(r,t),r!==null){r.flags&=32767,or=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gr=6,or=null;return}}else if(r=i7(r,t,Dn),r!==null){or=r;return}if(t=t.sibling,t!==null){or=t;return}or=t=e}while(t!==null);gr===0&&(gr=5)}function nl(e,t,r){var n=pt,a=ds.transition;try{ds.transition=null,pt=1,p7(e,t,r,n)}finally{ds.transition=a,pt=n}return null}function p7(e,t,r,n){do Zc();while(no!==null);if(at&6)throw Error(me(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(me(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Y9(e,i),e===Cr&&(or=Cr=null,Dr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Dm||(Dm=!0,$R(zp,function(){return Zc(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ds.transition,ds.transition=null;var o=pt;pt=1;var l=at;at|=4,l1.current=null,c7(e,r),PR(r,e),IV(iw),Wp=!!aw,iw=aw=null,e.current=r,d7(r),U9(),at=l,pt=o,ds.transition=i}else e.current=r;if(Dm&&(Dm=!1,no=e,ig=a),i=e.pendingLanes,i===0&&(ho=null),V9(r.stateNode),Sn(e,nr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ag)throw ag=!1,e=_w,_w=null,e;return ig&1&&e.tag!==0&&Zc(),i=e.pendingLanes,i&1?e===kw?gf++:(gf=0,kw=e):gf=0,Io(),null}function Zc(){if(no!==null){var e=p4(ig),t=ds.transition,r=pt;try{if(ds.transition=null,pt=16>e?16:e,no===null)var n=!1;else{if(e=no,no=null,ig=0,at&6)throw Error(me(331));var a=at;for(at|=4,Ce=e.current;Ce!==null;){var i=Ce,o=i.child;if(Ce.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Ce=d;Ce!==null;){var u=Ce;switch(u.tag){case 0:case 11:case 15:mf(8,u,i)}var f=u.child;if(f!==null)f.return=u,Ce=f;else for(;Ce!==null;){u=Ce;var m=u.sibling,p=u.return;if(_R(u),u===d){Ce=null;break}if(m!==null){m.return=p,Ce=m;break}Ce=p}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}Ce=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ce=o;else e:for(;Ce!==null;){if(i=Ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:mf(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Ce=y;break e}Ce=i.return}}var v=e.current;for(Ce=v;Ce!==null;){o=Ce;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Ce=b;else e:for(o=v;Ce!==null;){if(l=Ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ix(9,l)}}catch(N){Zt(l,l.return,N)}if(l===o){Ce=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Ce=j;break e}Ce=l.return}}if(at=a,Io(),_a&&typeof _a.onPostCommitFiberRoot=="function")try{_a.onPostCommitFiberRoot(kx,e)}catch{}n=!0}return n}finally{pt=r,ds.transition=t}}return!1}function ak(e,t,r){t=vd(r,t),t=pR(e,t,1),e=fo(e,t,1),t=on(),e!==null&&(Nh(e,1,t),Sn(e,t))}function Zt(e,t,r){if(e.tag===3)ak(e,e,r);else for(;t!==null;){if(t.tag===3){ak(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ho===null||!ho.has(n))){e=vd(r,e),e=gR(t,e,1),t=fo(t,e,1),e=on(),t!==null&&(Nh(t,1,e),Sn(t,e));break}}t=t.return}}function g7(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=on(),e.pingedLanes|=e.suspendedLanes&r,Cr===e&&(Dr&r)===r&&(gr===4||gr===3&&(Dr&130023424)===Dr&&500>nr()-d1?kl(e,0):c1|=r),Sn(e,t)}function MR(e,t){t===0&&(e.mode&1?(t=Sm,Sm<<=1,!(Sm&130023424)&&(Sm=4194304)):t=1);var r=on();e=ii(e,t),e!==null&&(Nh(e,t,r),Sn(e,r))}function x7(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),MR(e,r)}function v7(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(me(314))}n!==null&&n.delete(t),MR(e,r)}var LR;LR=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||jn.current)bn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return bn=!1,a7(e,t,r);bn=!!(e.flags&131072)}else bn=!1,Mt&&t.flags&1048576&&B4(t,Jp,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Np(e,t),e=t.pendingProps;var a=md(t,Jr.current);Jc(t,r),a=n1(null,t,n,e,a,r);var i=s1();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nn(n)?(i=!0,Yp(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ZN(t),a.updater=Dx,t.stateNode=a,a._reactInternals=t,pw(t,n,e,r),t=vw(null,t,n,!0,i,r)):(t.tag=0,Mt&&i&&qN(t),tn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Np(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=b7(n),e=Vs(n,e),a){case 0:t=xw(null,t,n,e,r);break e;case 1:t=Y2(null,t,n,e,r);break e;case 11:t=G2(null,t,n,e,r);break e;case 14:t=K2(null,t,n,Vs(n.type,e),r);break e}throw Error(me(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Vs(n,a),xw(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Vs(n,a),Y2(e,t,n,a,r);case 3:e:{if(bR(t),e===null)throw Error(me(387));n=t.pendingProps,i=t.memoizedState,a=i.element,G4(e,t),eg(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=vd(Error(me(423)),t),t=Q2(e,t,n,r,a);break e}else if(n!==a){a=vd(Error(me(424)),t),t=Q2(e,t,n,r,a);break e}else for(Fn=uo(t.stateNode.containerInfo.firstChild),Un=t,Mt=!0,Ys=null,r=q4(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(pd(),n===a){t=oi(e,t,r);break e}tn(e,t,n,r)}t=t.child}return t;case 5:return K4(t),e===null&&fw(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,ow(n,a)?o=null:i!==null&&ow(n,i)&&(t.flags|=32),yR(e,t),tn(e,t,o,r),t.child;case 6:return e===null&&fw(t),null;case 13:return wR(e,t,r);case 4:return XN(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=gd(t,null,n,r):tn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Vs(n,a),G2(e,t,n,a,r);case 7:return tn(e,t,t.pendingProps,r),t.child;case 8:return tn(e,t,t.pendingProps.children,r),t.child;case 12:return tn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Pt(Zp,n._currentValue),n._currentValue=o,i!==null)if(sa(i.value,o)){if(i.children===a.children&&!jn.current){t=oi(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Xa(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),hw(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(me(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),hw(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}tn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Jc(t,r),a=ps(a),n=n(a),t.flags|=1,tn(e,t,n,r),t.child;case 14:return n=t.type,a=Vs(n,t.pendingProps),a=Vs(n.type,a),K2(e,t,n,a,r);case 15:return xR(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Vs(n,a),Np(e,t),t.tag=1,Nn(n)?(e=!0,Yp(t)):e=!1,Jc(t,r),mR(t,n,a),pw(t,n,a,r),vw(null,t,n,!0,e,r);case 19:return jR(e,t,r);case 22:return vR(e,t,r)}throw Error(me(156,t.tag))};function $R(e,t){return u4(e,t)}function y7(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function is(e,t,r,n){return new y7(e,t,r,n)}function m1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function b7(e){if(typeof e=="function")return m1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===RN)return 11;if(e===DN)return 14}return 2}function po(e,t){var r=e.alternate;return r===null?(r=is(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function _p(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")m1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Dc:return El(r.children,a,i,t);case ON:o=8,a|=8;break;case F0:return e=is(12,r,t,a|2),e.elementType=F0,e.lanes=i,e;case U0:return e=is(13,r,t,a),e.elementType=U0,e.lanes=i,e;case B0:return e=is(19,r,t,a),e.elementType=B0,e.lanes=i,e;case KO:return Lx(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case HO:o=10;break e;case GO:o=9;break e;case RN:o=11;break e;case DN:o=14;break e;case Bi:o=16,n=null;break e}throw Error(me(130,e==null?e:typeof e,""))}return t=is(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function El(e,t,r,n){return e=is(7,e,n,t),e.lanes=r,e}function Lx(e,t,r,n){return e=is(22,e,n,t),e.elementType=KO,e.lanes=r,e.stateNode={isHidden:!1},e}function bb(e,t,r){return e=is(6,e,null,t),e.lanes=r,e}function wb(e,t,r){return t=is(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function w7(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tb(0),this.expirationTimes=tb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tb(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function p1(e,t,r,n,a,i,o,l,c){return e=new w7(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=is(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ZN(i),e}function j7(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function FR(e){if(!e)return wo;e=e._reactInternals;e:{if(tc(e)!==e||e.tag!==1)throw Error(me(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(me(171))}if(e.tag===1){var r=e.type;if(Nn(r))return F4(e,r,t)}return t}function UR(e,t,r,n,a,i,o,l,c){return e=p1(r,n,!0,e,a,i,o,l,c),e.context=FR(null),r=e.current,n=on(),a=mo(r),i=Xa(n,a),i.callback=t??null,fo(r,i,a),e.current.lanes=a,Nh(e,a,n),Sn(e,n),e}function $x(e,t,r,n){var a=t.current,i=on(),o=mo(a);return r=FR(r),t.context===null?t.context=r:t.pendingContext=r,t=Xa(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=fo(a,t,o),e!==null&&(ta(e,a,o,i),bp(e,a,o)),o}function lg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ik(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function g1(e,t){ik(e,t),(e=e.alternate)&&ik(e,t)}function N7(){return null}var BR=typeof reportError=="function"?reportError:function(e){console.error(e)};function x1(e){this._internalRoot=e}Fx.prototype.render=x1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(me(409));$x(e,t,null,null)};Fx.prototype.unmount=x1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$l(function(){$x(null,e,null,null)}),t[ai]=null}};function Fx(e){this._internalRoot=e}Fx.prototype.unstable_scheduleHydration=function(e){if(e){var t=v4();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Gi.length&&t!==0&&t<Gi[r].priority;r++);Gi.splice(r,0,e),r===0&&b4(e)}};function v1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ux(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ok(){}function S7(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=lg(o);i.call(d)}}var o=UR(t,n,e,0,null,!1,!1,"",ok);return e._reactRootContainer=o,e[ai]=o.current,Rf(e.nodeType===8?e.parentNode:e),$l(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=lg(c);l.call(d)}}var c=p1(e,0,!1,null,null,!1,!1,"",ok);return e._reactRootContainer=c,e[ai]=c.current,Rf(e.nodeType===8?e.parentNode:e),$l(function(){$x(t,c,r,n)}),c}function Bx(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=lg(o);l.call(c)}}$x(t,o,e,a)}else o=S7(r,t,e,a,n);return lg(o)}g4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Zu(t.pendingLanes);r!==0&&(LN(t,r|1),Sn(t,nr()),!(at&6)&&(yd=nr()+500,Io()))}break;case 13:$l(function(){var n=ii(e,1);if(n!==null){var a=on();ta(n,e,1,a)}}),g1(e,1)}};$N=function(e){if(e.tag===13){var t=ii(e,134217728);if(t!==null){var r=on();ta(t,e,134217728,r)}g1(e,134217728)}};x4=function(e){if(e.tag===13){var t=mo(e),r=ii(e,t);if(r!==null){var n=on();ta(r,e,t,n)}g1(e,t)}};v4=function(){return pt};y4=function(e,t){var r=pt;try{return pt=e,t()}finally{pt=r}};J0=function(e,t,r){switch(t){case"input":if(W0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Tx(n);if(!a)throw Error(me(90));QO(n),W0(n,a)}}}break;case"textarea":ZO(e,r);break;case"select":t=r.value,t!=null&&Gc(e,!!r.multiple,t,!1)}};a4=u1;i4=$l;var C7={usingClientEntryPoint:!1,Events:[Ch,$c,Tx,n4,s4,u1]},Ru={findFiberByHostInstance:hl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_7={bundleType:Ru.bundleType,version:Ru.version,rendererPackageName:Ru.rendererPackageName,rendererConfig:Ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=c4(e),e===null?null:e.stateNode},findFiberByHostInstance:Ru.findFiberByHostInstance||N7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Im=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Im.isDisabled&&Im.supportsFiber)try{kx=Im.inject(_7),_a=Im}catch{}}Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C7;Kn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v1(t))throw Error(me(200));return j7(e,t,null,r)};Kn.createRoot=function(e,t){if(!v1(e))throw Error(me(299));var r=!1,n="",a=BR;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=p1(e,1,!1,null,null,r,!1,n,a),e[ai]=t.current,Rf(e.nodeType===8?e.parentNode:e),new x1(t)};Kn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(me(188)):(e=Object.keys(e).join(","),Error(me(268,e)));return e=c4(t),e=e===null?null:e.stateNode,e};Kn.flushSync=function(e){return $l(e)};Kn.hydrate=function(e,t,r){if(!Ux(t))throw Error(me(200));return Bx(null,e,t,!0,r)};Kn.hydrateRoot=function(e,t,r){if(!v1(e))throw Error(me(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=BR;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=UR(t,null,e,1,r??null,a,!1,i,o),e[ai]=t.current,Rf(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Fx(t)};Kn.render=function(e,t,r){if(!Ux(t))throw Error(me(200));return Bx(null,e,t,!1,r)};Kn.unmountComponentAtNode=function(e){if(!Ux(e))throw Error(me(40));return e._reactRootContainer?($l(function(){Bx(null,null,e,!1,function(){e._reactRootContainer=null,e[ai]=null})}),!0):!1};Kn.unstable_batchedUpdates=u1;Kn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ux(r))throw Error(me(200));if(e==null||e._reactInternals===void 0)throw Error(me(38));return Bx(e,t,r,!1,n)};Kn.version="18.3.1-next-f1338f8080-20240426";function zR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zR)}catch(e){console.error(e)}}zR(),zO.exports=Kn;var Mo=zO.exports;const VR=ua(Mo);var WR,lk=Mo;WR=lk.createRoot,lk.hydrateRoot;const k7=1,E7=3e3;let jb=0;function P7(){return jb=(jb+1)%Number.MAX_SAFE_INTEGER,jb.toString()}const Nb=new Map,ck=e=>{if(Nb.has(e))return;const t=setTimeout(()=>{Nb.delete(e),xf({type:"REMOVE_TOAST",toastId:e})},E7);Nb.set(e,t)},A7=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,k7)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?ck(r):e.toasts.forEach(n=>{ck(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},kp=[];let Ep={toasts:[]};function xf(e){Ep=A7(Ep,e),kp.forEach(t=>{t(Ep)})}function re({...e}){const t=P7(),r=a=>xf({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>xf({type:"DISMISS_TOAST",toastId:t});return xf({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Ge(){const[e,t]=h.useState(Ep);return h.useEffect(()=>(kp.push(t),()=>{const r=kp.indexOf(t);r>-1&&kp.splice(r,1)}),[e]),{...e,toast:re,dismiss:r=>xf({type:"DISMISS_TOAST",toastId:r})}}function ge(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function dk(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function li(...e){return t=>{let r=!1;const n=e.map(a=>{const i=dk(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():dk(e[a],null)}}}}function De(...e){return h.useCallback(li(...e),e)}function T7(e,t){const r=h.createContext(t),n=i=>{const{children:o,...l}=i,c=h.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=h.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function ur(e,t=[]){let r=[];function n(i,o){const l=h.createContext(o),c=r.length;r=[...r,o];const d=f=>{var y;const{scope:m,children:p,...x}=f,g=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,w=h.useMemo(()=>x,Object.values(x));return s.jsx(g.Provider,{value:w,children:p})};d.displayName=i+"Provider";function u(f,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,x=h.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,O7(a,...t)]}function O7(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function jo(e){const t=R7(e),r=h.forwardRef((n,a)=>{const{children:i,...o}=n,l=h.Children.toArray(i),c=l.find(D7);if(c){const d=c.props.children,u=l.map(f=>f===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:f);return s.jsx(t,{...o,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var Zd=jo("Slot");function R7(e){const t=h.forwardRef((r,n)=>{const{children:a,...i}=r;if(h.isValidElement(a)){const o=M7(a),l=I7(i,a.props);return a.type!==h.Fragment&&(l.ref=n?li(n,o):o),h.cloneElement(a,l)}return h.Children.count(a)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var qR=Symbol("radix.slottable");function HR(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=qR,t}function D7(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qR}function I7(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function M7(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Xd(e){const t=e+"CollectionProvider",[r,n]=ur(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:y}=g,v=fe.useRef(null),b=fe.useRef(new Map).current;return s.jsx(a,{scope:w,itemMap:b,collectionRef:v,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=jo(l),d=fe.forwardRef((g,w)=>{const{scope:y,children:v}=g,b=i(l,y),j=De(w,b.collectionRef);return s.jsx(c,{ref:j,children:v})});d.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",m=jo(u),p=fe.forwardRef((g,w)=>{const{scope:y,children:v,...b}=g,j=fe.useRef(null),N=De(w,j),S=i(u,y);return fe.useEffect(()=>(S.itemMap.set(j,{ref:j,...b}),()=>void S.itemMap.delete(j))),s.jsx(m,{[f]:"",ref:N,children:v})});p.displayName=u;function x(g){const w=i(e+"CollectionConsumer",g);return fe.useCallback(()=>{const v=w.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((S,C)=>b.indexOf(S.ref.current)-b.indexOf(C.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},x,n]}var L7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],we=L7.reduce((e,t)=>{const r=jo(`Primitive.${t}`),n=h.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function y1(e,t){e&&Mo.flushSync(()=>e.dispatchEvent(t))}function zt(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function $7(e,t=globalThis==null?void 0:globalThis.document){const r=zt(e);h.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var F7="DismissableLayer",Aw="dismissableLayer.update",U7="dismissableLayer.pointerDownOutside",B7="dismissableLayer.focusOutside",uk,GR=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rc=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=h.useContext(GR),[u,f]=h.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),x=De(t,C=>f(C)),g=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(w),v=u?g.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,j=v>=y,N=V7(C=>{const k=C.target,A=[...d.branches].some(P=>P.contains(k));!j||A||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},m),S=W7(C=>{const k=C.target;[...d.branches].some(P=>P.contains(k))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},m);return $7(C=>{v===d.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),h.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(uk=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),fk(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=uk)}},[u,m,r,d]),h.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),fk())},[u,d]),h.useEffect(()=>{const C=()=>p({});return document.addEventListener(Aw,C),()=>document.removeEventListener(Aw,C)},[]),s.jsx(we.div,{...c,ref:x,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:ge(e.onFocusCapture,S.onFocusCapture),onBlurCapture:ge(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ge(e.onPointerDownCapture,N.onPointerDownCapture)})});rc.displayName=F7;var z7="DismissableLayerBranch",KR=h.forwardRef((e,t)=>{const r=h.useContext(GR),n=h.useRef(null),a=De(t,n);return h.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(we.div,{...e,ref:a})});KR.displayName=z7;function V7(e,t=globalThis==null?void 0:globalThis.document){const r=zt(e),n=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){YR(U7,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function W7(e,t=globalThis==null?void 0:globalThis.document){const r=zt(e),n=h.useRef(!1);return h.useEffect(()=>{const a=i=>{i.target&&!n.current&&YR(B7,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function fk(){const e=new CustomEvent(Aw);document.dispatchEvent(e)}function YR(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?y1(a,i):a.dispatchEvent(i)}var q7=rc,H7=KR,Ft=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},G7="Portal",eu=h.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=h.useState(!1);Ft(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?VR.createPortal(s.jsx(we.div,{...n,ref:t}),o):null});eu.displayName=G7;function K7(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var kr=e=>{const{present:t,children:r}=e,n=Y7(t),a=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),i=De(n.ref,Q7(a));return typeof r=="function"||n.isPresent?h.cloneElement(a,{ref:i}):null};kr.displayName="Presence";function Y7(e){const[t,r]=h.useState(),n=h.useRef(null),a=h.useRef(e),i=h.useRef("none"),o=e?"mounted":"unmounted",[l,c]=K7(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=Mm(n.current);i.current=l==="mounted"?d:"none"},[l]),Ft(()=>{const d=n.current,u=a.current;if(u!==e){const m=i.current,p=Mm(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Ft(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=p=>{const g=Mm(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=p=>{p.target===t&&(i.current=Mm(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Mm(e){return(e==null?void 0:e.animationName)||"none"}function Q7(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var J7=_x[" useInsertionEffect ".trim().toString()]||Ft;function cn({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=Z7({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const u=h.useRef(e!==void 0);h.useEffect(()=>{const f=u.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=h.useCallback(u=>{var f;if(l){const m=X7(u)?u(e):u;m!==e&&((f=o.current)==null||f.call(o,m))}else i(u)},[l,e,i,o]);return[c,d]}function Z7({defaultProp:e,onChange:t}){const[r,n]=h.useState(e),a=h.useRef(r),i=h.useRef(t);return J7(()=>{i.current=t},[t]),h.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function X7(e){return typeof e=="function"}var QR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),eW="VisuallyHidden",zx=h.forwardRef((e,t)=>s.jsx(we.span,{...e,ref:t,style:{...QR,...e.style}}));zx.displayName=eW;var tW=zx,b1="ToastProvider",[w1,rW,nW]=Xd("Toast"),[JR,jNe]=ur("Toast",[nW]),[sW,Vx]=JR(b1),ZR=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=h.useState(null),[d,u]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${b1}\`. Expected non-empty \`string\`.`),s.jsx(w1.Provider,{scope:t,children:s.jsx(sW,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>u(p=>p+1),[]),onToastRemove:h.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};ZR.displayName=b1;var XR="ToastViewport",aW=["F8"],Tw="toast.viewportPause",Ow="toast.viewportResume",eD=h.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=aW,label:a="Notifications ({hotkey})",...i}=e,o=Vx(XR,r),l=rW(r),c=h.useRef(null),d=h.useRef(null),u=h.useRef(null),f=h.useRef(null),m=De(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;h.useEffect(()=>{const w=y=>{var b;n.length!==0&&n.every(j=>y[j]||y.code===j)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),h.useEffect(()=>{const w=c.current,y=f.current;if(x&&w&&y){const v=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(Tw);y.dispatchEvent(S),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(Ow);y.dispatchEvent(S),o.isClosePausedRef.current=!1}},j=S=>{!w.contains(S.relatedTarget)&&b()},N=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",v),w.addEventListener("focusout",j),w.addEventListener("pointermove",v),w.addEventListener("pointerleave",N),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",v),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",v),w.removeEventListener("pointerleave",N),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[x,o.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:w})=>{const v=l().map(b=>{const j=b.ref.current,N=[j,...vW(j)];return w==="forwards"?N:N.reverse()});return(w==="forwards"?v.reverse():v).flat()},[l]);return h.useEffect(()=>{const w=f.current;if(w){const y=v=>{var N,S,C;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const k=document.activeElement,A=v.shiftKey;if(v.target===w&&A){(N=d.current)==null||N.focus();return}const E=g({tabbingDirection:A?"backwards":"forwards"}),M=E.findIndex(R=>R===k);Sb(E.slice(M+1))?v.preventDefault():A?(S=d.current)==null||S.focus():(C=u.current)==null||C.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[l,g]),s.jsxs(H7,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&s.jsx(Rw,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});Sb(w)}}),s.jsx(w1.Slot,{scope:r,children:s.jsx(we.ol,{tabIndex:-1,...i,ref:m})}),x&&s.jsx(Rw,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});Sb(w)}})]})});eD.displayName=XR;var tD="ToastFocusProxy",Rw=h.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=Vx(tD,r);return s.jsx(zx,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&n()}})});Rw.displayName=tD;var kh="Toast",iW="toast.swipeStart",oW="toast.swipeMove",lW="toast.swipeCancel",cW="toast.swipeEnd",rD=h.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=cn({prop:n,defaultProp:a??!0,onChange:i,caller:kh});return s.jsx(kr,{present:r||l,children:s.jsx(fW,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:zt(e.onPause),onResume:zt(e.onResume),onSwipeStart:ge(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ge(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ge(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ge(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});rD.displayName=kh;var[dW,uW]=JR(kh,{onClose(){}}),fW=h.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...x}=e,g=Vx(kh,r),[w,y]=h.useState(null),v=De(t,R=>y(R)),b=h.useRef(null),j=h.useRef(null),N=a||g.duration,S=h.useRef(0),C=h.useRef(N),k=h.useRef(0),{onToastAdd:A,onToastRemove:P}=g,_=zt(()=>{var T;(w==null?void 0:w.contains(document.activeElement))&&((T=g.viewport)==null||T.focus()),o()}),E=h.useCallback(R=>{!R||R===1/0||(window.clearTimeout(k.current),S.current=new Date().getTime(),k.current=window.setTimeout(_,R))},[_]);h.useEffect(()=>{const R=g.viewport;if(R){const T=()=>{E(C.current),d==null||d()},B=()=>{const K=new Date().getTime()-S.current;C.current=C.current-K,window.clearTimeout(k.current),c==null||c()};return R.addEventListener(Tw,B),R.addEventListener(Ow,T),()=>{R.removeEventListener(Tw,B),R.removeEventListener(Ow,T)}}},[g.viewport,N,c,d,E]),h.useEffect(()=>{i&&!g.isClosePausedRef.current&&E(N)},[i,N,g.isClosePausedRef,E]),h.useEffect(()=>(A(),()=>P()),[A,P]);const M=h.useMemo(()=>w?cD(w):null,[w]);return g.viewport?s.jsxs(s.Fragment,{children:[M&&s.jsx(hW,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),s.jsx(dW,{scope:r,onClose:_,children:Mo.createPortal(s.jsx(w1.ItemSlot,{scope:r,children:s.jsx(q7,{asChild:!0,onEscapeKeyDown:ge(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||_(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(we.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ge(e.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,_()))}),onPointerDown:ge(e.onPointerDown,R=>{R.button===0&&(b.current={x:R.clientX,y:R.clientY})}),onPointerMove:ge(e.onPointerMove,R=>{if(!b.current)return;const T=R.clientX-b.current.x,B=R.clientY-b.current.y,K=!!j.current,z=["left","right"].includes(g.swipeDirection),V=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,F=z?V(0,T):0,W=z?0:V(0,B),D=R.pointerType==="touch"?10:2,L={x:F,y:W},J={originalEvent:R,delta:L};K?(j.current=L,Lm(oW,f,J,{discrete:!1})):hk(L,g.swipeDirection,D)?(j.current=L,Lm(iW,u,J,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(T)>D||Math.abs(B)>D)&&(b.current=null)}),onPointerUp:ge(e.onPointerUp,R=>{const T=j.current,B=R.target;if(B.hasPointerCapture(R.pointerId)&&B.releasePointerCapture(R.pointerId),j.current=null,b.current=null,T){const K=R.currentTarget,z={originalEvent:R,delta:T};hk(T,g.swipeDirection,g.swipeThreshold)?Lm(cW,p,z,{discrete:!0}):Lm(lW,m,z,{discrete:!0}),K.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),hW=e=>{const{__scopeToast:t,children:r,...n}=e,a=Vx(kh,t),[i,o]=h.useState(!1),[l,c]=h.useState(!1);return gW(()=>o(!0)),h.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(eu,{asChild:!0,children:s.jsx(zx,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},mW="ToastTitle",nD=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(we.div,{...n,ref:t})});nD.displayName=mW;var pW="ToastDescription",sD=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(we.div,{...n,ref:t})});sD.displayName=pW;var aD="ToastAction",iD=h.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(lD,{altText:r,asChild:!0,children:s.jsx(j1,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${aD}\`. Expected non-empty \`string\`.`),null)});iD.displayName=aD;var oD="ToastClose",j1=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=uW(oD,r);return s.jsx(lD,{asChild:!0,children:s.jsx(we.button,{type:"button",...n,ref:t,onClick:ge(e.onClick,a.onClose)})})});j1.displayName=oD;var lD=h.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(we.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function cD(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),xW(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...cD(n))}}),t}function Lm(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?y1(a,i):a.dispatchEvent(i)}var hk=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function gW(e=()=>{}){const t=zt(e);Ft(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function xW(e){return e.nodeType===e.ELEMENT_NODE}function vW(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Sb(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var yW=ZR,dD=eD,uD=rD,fD=nD,hD=sD,mD=iD,pD=j1;function gD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=gD(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ct(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=gD(e))&&(n&&(n+=" "),n+=t);return n}const mk=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,pk=ct,nc=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return pk(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],f=i==null?void 0:i[d];if(u===null)return null;const m=mk(u)||mk(f);return a[d][m]}),l=r&&Object.entries(r).reduce((d,u)=>{let[f,m]=u;return m===void 0||(d[f]=m),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:f,className:m,...p}=u;return Object.entries(p).every(x=>{let[g,w]=x;return Array.isArray(w)?w.includes({...i,...l}[g]):{...i,...l}[g]===w})?[...d,f,m]:d},[]);return pk(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xD=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>h.createElement("svg",{ref:c,...wW,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:xD("lucide",a),...l},[...o.map(([d,u])=>h.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(e,t)=>{const r=h.forwardRef(({className:n,...a},i)=>h.createElement(jW,{ref:i,iconNode:t,className:xD(`lucide-${bW(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=he("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=he("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=he("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=he("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=he("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=he("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=he("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=he("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=he("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=he("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=he("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=he("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=he("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=he("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=he("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=he("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=he("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=he("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=he("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=he("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=he("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=he("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=he("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=he("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=he("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=he("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=he("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=he("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=he("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=he("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=he("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=he("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=he("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=he("Ghost",[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=he("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=he("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=he("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=he("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=he("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=he("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=he("Infinity",[["path",{d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4Zm0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4Z",key:"1z0uae"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=he("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=he("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=he("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=he("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=he("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=he("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=he("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=he("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=he("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=he("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=he("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=he("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=he("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=he("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=he("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=he("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=he("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=he("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=he("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=he("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=he("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=he("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=he("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=he("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=he("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=he("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=he("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=he("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=he("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=he("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=he("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=he("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=he("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=he("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=he("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=he("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=he("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=he("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=he("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=he("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=he("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),P1="-",HW=e=>{const t=KW(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(P1);return l[0]===""&&l.length!==1&&l.shift(),PD(l,t)||GW(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},PD=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?PD(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(P1);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},bk=/^\[(.+)\]$/,GW=e=>{if(bk.test(e)){const t=bk.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},KW=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return QW(Object.entries(e.classGroups),r).forEach(([i,o])=>{Mw(o,n,i,t)}),n},Mw=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:wk(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(YW(a)){Mw(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{Mw(o,wk(t,i),r,n)})})},wk=(e,t)=>{let r=e;return t.split(P1).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},YW=e=>e.isThemeGetter,QW=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,JW=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},AD="!",ZW=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let w=0;w<l.length;w++){let y=l[w];if(d===0){if(y===a&&(n||l.slice(w,w+i)===t)){c.push(l.slice(u,w)),u=w+i;continue}if(y==="/"){f=w;continue}}y==="["?d++:y==="]"&&d--}const m=c.length===0?l:l.substring(u),p=m.startsWith(AD),x=p?m.substring(1):m,g=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},XW=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},eq=e=>({cache:JW(e.cacheSize),parseClassName:ZW(e),...HW(e)}),tq=/\s+/,rq=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(tq);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=r(d);let x=!!p,g=n(x?m.substring(0,p):m);if(!g){if(!x){l=d+(l.length>0?" "+l:l);continue}if(g=n(m),!g){l=d+(l.length>0?" "+l:l);continue}x=!1}const w=XW(u).join(":"),y=f?w+AD:w,v=y+g;if(i.includes(v))continue;i.push(v);const b=a(g,x);for(let j=0;j<b.length;++j){const N=b[j];i.push(y+N)}l=d+(l.length>0?" "+l:l)}return l};function nq(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=TD(t))&&(n&&(n+=" "),n+=r);return n}const TD=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=TD(e[n]))&&(r&&(r+=" "),r+=t);return r};function sq(e,...t){let r,n,a,i=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return r=eq(d),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=rq(c,r);return a(c,u),u}return function(){return i(nq.apply(null,arguments))}}const At=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},OD=/^\[(?:([a-z-]+):)?(.+)\]$/i,aq=/^\d+\/\d+$/,iq=new Set(["px","full","screen"]),oq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ua=e=>Xc(e)||iq.has(e)||aq.test(e),Oi=e=>ru(e,"length",yq),Xc=e=>!!e&&!Number.isNaN(Number(e)),Eb=e=>ru(e,"number",Xc),Du=e=>!!e&&Number.isInteger(Number(e)),fq=e=>e.endsWith("%")&&Xc(e.slice(0,-1)),ze=e=>OD.test(e),Ri=e=>oq.test(e),hq=new Set(["length","size","percentage"]),mq=e=>ru(e,hq,RD),pq=e=>ru(e,"position",RD),gq=new Set(["image","url"]),xq=e=>ru(e,gq,wq),vq=e=>ru(e,"",bq),Iu=()=>!0,ru=(e,t,r)=>{const n=OD.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},yq=e=>lq.test(e)&&!cq.test(e),RD=()=>!1,bq=e=>dq.test(e),wq=e=>uq.test(e),jq=()=>{const e=At("colors"),t=At("spacing"),r=At("blur"),n=At("brightness"),a=At("borderColor"),i=At("borderRadius"),o=At("borderSpacing"),l=At("borderWidth"),c=At("contrast"),d=At("grayscale"),u=At("hueRotate"),f=At("invert"),m=At("gap"),p=At("gradientColorStops"),x=At("gradientColorStopPositions"),g=At("inset"),w=At("margin"),y=At("opacity"),v=At("padding"),b=At("saturate"),j=At("scale"),N=At("sepia"),S=At("skew"),C=At("space"),k=At("translate"),A=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto",ze,t],E=()=>[ze,t],M=()=>["",Ua,Oi],R=()=>["auto",Xc,ze],T=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",ze],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Xc,ze];return{cacheSize:500,separator:":",theme:{colors:[Iu],spacing:[Ua,Oi],blur:["none","",Ri,ze],brightness:W(),borderColor:[e],borderRadius:["none","","full",Ri,ze],borderSpacing:E(),borderWidth:M(),contrast:W(),grayscale:V(),hueRotate:W(),invert:V(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[fq,Oi],inset:_(),margin:_(),opacity:W(),padding:E(),saturate:W(),scale:W(),sepia:V(),skew:W(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",ze]}],container:["container"],columns:[{columns:[Ri]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...T(),ze]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Du,ze]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ze]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",Du,ze]}],"grid-cols":[{"grid-cols":[Iu]}],"col-start-end":[{col:["auto",{span:["full",Du,ze]},ze]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Iu]}],"row-start-end":[{row:["auto",{span:[Du,ze]},ze]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ze]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ze,t]}],"min-w":[{"min-w":[ze,t,"min","max","fit"]}],"max-w":[{"max-w":[ze,t,"none","full","min","max","fit","prose",{screen:[Ri]},Ri]}],h:[{h:[ze,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ze,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ze,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ze,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ri,Oi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Eb]}],"font-family":[{font:[Iu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ze]}],"line-clamp":[{"line-clamp":["none",Xc,Eb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ua,ze]}],"list-image":[{"list-image":["none",ze]}],"list-style-type":[{list:["none","disc","decimal",ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ua,Oi]}],"underline-offset":[{"underline-offset":["auto",Ua,ze]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...T(),pq]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mq]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xq]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:B()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Ua,ze]}],"outline-w":[{outline:[Ua,Oi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Ua,Oi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ri,vq]}],"shadow-color":[{shadow:[Iu]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ri,ze]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ze]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",ze]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Du,ze]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ze]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ze]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ze]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ua,Oi,Eb]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Nq=sq(jq);function ne(...e){return Nq(ct(e))}const Sq=yW,DD=h.forwardRef(({className:e,...t},r)=>s.jsx(dD,{ref:r,className:ne("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));DD.displayName=dD.displayName;const Cq=nc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",info:"border-blue-200 bg-blue-50 text-blue-900 dark:border-blue-800 dark:bg-blue-950 dark:text-blue-100"}},defaultVariants:{variant:"default"}}),ID=h.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(uD,{ref:n,className:ne(Cq({variant:t}),e),...r}));ID.displayName=uD.displayName;const _q=h.forwardRef(({className:e,...t},r)=>s.jsx(mD,{ref:r,className:ne("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));_q.displayName=mD.displayName;const MD=h.forwardRef(({className:e,...t},r)=>s.jsx(pD,{ref:r,className:ne("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(er,{className:"h-4 w-4"})}));MD.displayName=pD.displayName;const LD=h.forwardRef(({className:e,...t},r)=>s.jsx(fD,{ref:r,className:ne("text-sm font-semibold",e),...t}));LD.displayName=fD.displayName;const $D=h.forwardRef(({className:e,...t},r)=>s.jsx(hD,{ref:r,className:ne("text-sm opacity-90",e),...t}));$D.displayName=hD.displayName;function jk(){const{toasts:e}=Ge();return s.jsxs(Sq,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(ID,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(LD,{children:r}),n&&s.jsx($D,{children:n})]}),a,s.jsx(MD,{})]},t)}),s.jsx(DD,{})]})}var Nk=["light","dark"],kq="(prefers-color-scheme: dark)",Eq=h.createContext(void 0),Pq={setTheme:e=>{},themes:[]},Aq=()=>{var e;return(e=h.useContext(Eq))!=null?e:Pq};h.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?Nk.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(x,g=!1,w=!0)=>{let y=o?o[x]:x,v=g?x+"|| ''":`'${y}'`,b="";return a&&w&&!g&&Nk.includes(x)&&(b+=`d.style.colorScheme = '${x}';`),r==="class"?g||y?b+=`c.add(${v})`:b+="null":y&&(b+=`d[s](n,${v})`),b},p=e?`!function(){${u}${m(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${kq}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return h.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var Tq=e=>{switch(e){case"success":return Dq;case"info":return Mq;case"warning":return Iq;case"error":return Lq;default:return null}},Oq=Array(12).fill(0),Rq=({visible:e,className:t})=>fe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},fe.createElement("div",{className:"sonner-spinner"},Oq.map((r,n)=>fe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Dq=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Iq=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Mq=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Lq=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$q=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},fe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),fe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Fq=()=>{let[e,t]=fe.useState(document.hidden);return fe.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Lw=1,Uq=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Lw++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],fe.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(zq(c)&&!c.ok){a=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:d,description:u})}else if(t.success!==void 0){a=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Lw++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},pn=new Uq,Bq=(e,t)=>{let r=(t==null?void 0:t.id)||Lw++;return pn.addToast({title:e,...t,id:r}),r},zq=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Vq=Bq,Wq=()=>pn.toasts,qq=()=>pn.getActiveToasts(),Tn=Object.assign(Vq,{success:pn.success,info:pn.info,warning:pn.warning,error:pn.error,custom:pn.custom,message:pn.message,promise:pn.promise,dismiss:pn.dismiss,loading:pn.loading},{getHistory:Wq,getToasts:qq});function Hq(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Hq(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function $m(e){return e.label!==void 0}var Gq=3,Kq="32px",Yq="16px",Sk=4e3,Qq=356,Jq=14,Zq=20,Xq=200;function Us(...e){return e.filter(Boolean).join(" ")}function eH(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var tH=e=>{var t,r,n,a,i,o,l,c,d,u,f;let{invert:m,toast:p,unstyled:x,interacting:g,setHeights:w,visibleToasts:y,heights:v,index:b,toasts:j,expanded:N,removeToast:S,defaultRichColors:C,closeButton:k,style:A,cancelButtonStyle:P,actionButtonStyle:_,className:E="",descriptionClassName:M="",duration:R,position:T,gap:B,loadingIcon:K,expandByDefault:z,classNames:V,icons:F,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:D}=e,[L,J]=fe.useState(null),[U,ee]=fe.useState(null),[G,ce]=fe.useState(!1),[H,q]=fe.useState(!1),[te,I]=fe.useState(!1),[ie,Z]=fe.useState(!1),[pe,xe]=fe.useState(!1),[be,ke]=fe.useState(0),[ve,Le]=fe.useState(0),ft=fe.useRef(p.duration||R||Sk),tr=fe.useRef(null),It=fe.useRef(null),rr=b===0,An=b+1<=y,Ar=p.type,Zn=p.dismissible!==!1,mc=p.className||"",Ci=p.descriptionClassName||"",mn=fe.useMemo(()=>v.findIndex(Me=>Me.toastId===p.id)||0,[v,p.id]),Zo=fe.useMemo(()=>{var Me;return(Me=p.closeButton)!=null?Me:k},[p.closeButton,k]),pc=fe.useMemo(()=>p.duration||R||Sk,[p.duration,R]),_i=fe.useRef(0),ki=fe.useRef(0),pm=fe.useRef(0),Ei=fe.useRef(null),[Hy,Gy]=T.split("-"),Cu=fe.useMemo(()=>v.reduce((Me,ut,_t)=>_t>=mn?Me:Me+ut.height,0),[v,mn]),gm=Fq(),xm=p.invert||m,gc=Ar==="loading";ki.current=fe.useMemo(()=>mn*B+Cu,[mn,Cu]),fe.useEffect(()=>{ft.current=pc},[pc]),fe.useEffect(()=>{ce(!0)},[]),fe.useEffect(()=>{let Me=It.current;if(Me){let ut=Me.getBoundingClientRect().height;return Le(ut),w(_t=>[{toastId:p.id,height:ut,position:p.position},..._t]),()=>w(_t=>_t.filter(Ms=>Ms.toastId!==p.id))}},[w,p.id]),fe.useLayoutEffect(()=>{if(!G)return;let Me=It.current,ut=Me.style.height;Me.style.height="auto";let _t=Me.getBoundingClientRect().height;Me.style.height=ut,Le(_t),w(Ms=>Ms.find(Ls=>Ls.toastId===p.id)?Ms.map(Ls=>Ls.toastId===p.id?{...Ls,height:_t}:Ls):[{toastId:p.id,height:_t,position:p.position},...Ms])},[G,p.title,p.description,w,p.id]);let Is=fe.useCallback(()=>{q(!0),ke(ki.current),w(Me=>Me.filter(ut=>ut.toastId!==p.id)),setTimeout(()=>{S(p)},Xq)},[p,S,w,ki]);fe.useEffect(()=>{if(p.promise&&Ar==="loading"||p.duration===1/0||p.type==="loading")return;let Me;return N||g||D&&gm?(()=>{if(pm.current<_i.current){let ut=new Date().getTime()-_i.current;ft.current=ft.current-ut}pm.current=new Date().getTime()})():ft.current!==1/0&&(_i.current=new Date().getTime(),Me=setTimeout(()=>{var ut;(ut=p.onAutoClose)==null||ut.call(p,p),Is()},ft.current)),()=>clearTimeout(Me)},[N,g,p,Ar,D,gm,Is]),fe.useEffect(()=>{p.delete&&Is()},[Is,p.delete]);function Ky(){var Me,ut,_t;return F!=null&&F.loading?fe.createElement("div",{className:Us(V==null?void 0:V.loader,(Me=p==null?void 0:p.classNames)==null?void 0:Me.loader,"sonner-loader"),"data-visible":Ar==="loading"},F.loading):K?fe.createElement("div",{className:Us(V==null?void 0:V.loader,(ut=p==null?void 0:p.classNames)==null?void 0:ut.loader,"sonner-loader"),"data-visible":Ar==="loading"},K):fe.createElement(Rq,{className:Us(V==null?void 0:V.loader,(_t=p==null?void 0:p.classNames)==null?void 0:_t.loader),visible:Ar==="loading"})}return fe.createElement("li",{tabIndex:0,ref:It,className:Us(E,mc,V==null?void 0:V.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,V==null?void 0:V.default,V==null?void 0:V[Ar],(r=p==null?void 0:p.classNames)==null?void 0:r[Ar]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:C,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":G,"data-promise":!!p.promise,"data-swiped":pe,"data-removed":H,"data-visible":An,"data-y-position":Hy,"data-x-position":Gy,"data-index":b,"data-front":rr,"data-swiping":te,"data-dismissible":Zn,"data-type":Ar,"data-invert":xm,"data-swipe-out":ie,"data-swipe-direction":U,"data-expanded":!!(N||z&&G),style:{"--index":b,"--toasts-before":b,"--z-index":j.length-b,"--offset":`${H?be:ki.current}px`,"--initial-height":z?"auto":`${ve}px`,...A,...p.style},onDragEnd:()=>{I(!1),J(null),Ei.current=null},onPointerDown:Me=>{gc||!Zn||(tr.current=new Date,ke(ki.current),Me.target.setPointerCapture(Me.pointerId),Me.target.tagName!=="BUTTON"&&(I(!0),Ei.current={x:Me.clientX,y:Me.clientY}))},onPointerUp:()=>{var Me,ut,_t,Ms;if(ie||!Zn)return;Ei.current=null;let Ls=Number(((Me=It.current)==null?void 0:Me.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Pi=Number(((ut=It.current)==null?void 0:ut.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Xo=new Date().getTime()-((_t=tr.current)==null?void 0:_t.getTime()),$s=L==="x"?Ls:Pi,Ai=Math.abs($s)/Xo;if(Math.abs($s)>=Zq||Ai>.11){ke(ki.current),(Ms=p.onDismiss)==null||Ms.call(p,p),ee(L==="x"?Ls>0?"right":"left":Pi>0?"down":"up"),Is(),Z(!0),xe(!1);return}I(!1),J(null)},onPointerMove:Me=>{var ut,_t,Ms,Ls;if(!Ei.current||!Zn||((ut=window.getSelection())==null?void 0:ut.toString().length)>0)return;let Pi=Me.clientY-Ei.current.y,Xo=Me.clientX-Ei.current.x,$s=(_t=e.swipeDirections)!=null?_t:eH(T);!L&&(Math.abs(Xo)>1||Math.abs(Pi)>1)&&J(Math.abs(Xo)>Math.abs(Pi)?"x":"y");let Ai={x:0,y:0};L==="y"?($s.includes("top")||$s.includes("bottom"))&&($s.includes("top")&&Pi<0||$s.includes("bottom")&&Pi>0)&&(Ai.y=Pi):L==="x"&&($s.includes("left")||$s.includes("right"))&&($s.includes("left")&&Xo<0||$s.includes("right")&&Xo>0)&&(Ai.x=Xo),(Math.abs(Ai.x)>0||Math.abs(Ai.y)>0)&&xe(!0),(Ms=It.current)==null||Ms.style.setProperty("--swipe-amount-x",`${Ai.x}px`),(Ls=It.current)==null||Ls.style.setProperty("--swipe-amount-y",`${Ai.y}px`)}},Zo&&!p.jsx?fe.createElement("button",{"aria-label":W,"data-disabled":gc,"data-close-button":!0,onClick:gc||!Zn?()=>{}:()=>{var Me;Is(),(Me=p.onDismiss)==null||Me.call(p,p)},className:Us(V==null?void 0:V.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(i=F==null?void 0:F.close)!=null?i:$q):null,p.jsx||h.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:fe.createElement(fe.Fragment,null,Ar||p.icon||p.promise?fe.createElement("div",{"data-icon":"",className:Us(V==null?void 0:V.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Ky():null,p.type!=="loading"?p.icon||(F==null?void 0:F[Ar])||Tq(Ar):null):null,fe.createElement("div",{"data-content":"",className:Us(V==null?void 0:V.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},fe.createElement("div",{"data-title":"",className:Us(V==null?void 0:V.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?fe.createElement("div",{"data-description":"",className:Us(M,Ci,V==null?void 0:V.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),h.isValidElement(p.cancel)?p.cancel:p.cancel&&$m(p.cancel)?fe.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||P,onClick:Me=>{var ut,_t;$m(p.cancel)&&Zn&&((_t=(ut=p.cancel).onClick)==null||_t.call(ut,Me),Is())},className:Us(V==null?void 0:V.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,h.isValidElement(p.action)?p.action:p.action&&$m(p.action)?fe.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||_,onClick:Me=>{var ut,_t;$m(p.action)&&((_t=(ut=p.action).onClick)==null||_t.call(ut,Me),!Me.defaultPrevented&&Is())},className:Us(V==null?void 0:V.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function Ck(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function rH(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?Yq:Kq;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),r}var nH=h.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:f,duration:m,style:p,visibleToasts:x=Gq,toastOptions:g,dir:w=Ck(),gap:y=Jq,loadingIcon:v,icons:b,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:N}=e,[S,C]=fe.useState([]),k=fe.useMemo(()=>Array.from(new Set([n].concat(S.filter(D=>D.position).map(D=>D.position)))),[S,n]),[A,P]=fe.useState([]),[_,E]=fe.useState(!1),[M,R]=fe.useState(!1),[T,B]=fe.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=fe.useRef(null),z=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=fe.useRef(null),F=fe.useRef(!1),W=fe.useCallback(D=>{C(L=>{var J;return(J=L.find(U=>U.id===D.id))!=null&&J.delete||pn.dismiss(D.id),L.filter(({id:U})=>U!==D.id)})},[]);return fe.useEffect(()=>pn.subscribe(D=>{if(D.dismiss){C(L=>L.map(J=>J.id===D.id?{...J,delete:!0}:J));return}setTimeout(()=>{VR.flushSync(()=>{C(L=>{let J=L.findIndex(U=>U.id===D.id);return J!==-1?[...L.slice(0,J),{...L[J],...D},...L.slice(J+1)]:[D,...L]})})})}),[]),fe.useEffect(()=>{if(u!=="system"){B(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;let D=window.matchMedia("(prefers-color-scheme: dark)");try{D.addEventListener("change",({matches:L})=>{B(L?"dark":"light")})}catch{D.addListener(({matches:J})=>{try{B(J?"dark":"light")}catch(U){console.error(U)}})}},[u]),fe.useEffect(()=>{S.length<=1&&E(!1)},[S]),fe.useEffect(()=>{let D=L=>{var J,U;a.every(ee=>L[ee]||L.code===ee)&&(E(!0),(J=K.current)==null||J.focus()),L.code==="Escape"&&(document.activeElement===K.current||(U=K.current)!=null&&U.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[a]),fe.useEffect(()=>{if(K.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,F.current=!1)}},[K.current]),fe.createElement("section",{ref:t,"aria-label":`${j} ${z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((D,L)=>{var J;let[U,ee]=D.split("-");return S.length?fe.createElement("ol",{key:D,dir:w==="auto"?Ck():w,tabIndex:-1,ref:K,className:l,"data-sonner-toaster":!0,"data-theme":T,"data-y-position":U,"data-lifted":_&&S.length>1&&!i,"data-x-position":ee,style:{"--front-toast-height":`${((J=A[0])==null?void 0:J.height)||0}px`,"--width":`${Qq}px`,"--gap":`${y}px`,...p,...rH(c,d)},onBlur:G=>{F.current&&!G.currentTarget.contains(G.relatedTarget)&&(F.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||F.current||(F.current=!0,V.current=G.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{M||E(!1)},onDragEnd:()=>E(!1),onPointerDown:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},S.filter(G=>!G.position&&L===0||G.position===D).map((G,ce)=>{var H,q;return fe.createElement(tH,{key:G.id,icons:b,index:ce,toast:G,defaultRichColors:f,duration:(H=g==null?void 0:g.duration)!=null?H:m,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:x,closeButton:(q=g==null?void 0:g.closeButton)!=null?q:o,interacting:M,position:D,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:W,toasts:S.filter(te=>te.position==G.position),heights:A.filter(te=>te.position==G.position),setHeights:P,expandByDefault:i,gap:y,loadingIcon:v,expanded:_,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const _k=({...e})=>{const{theme:t="system"}=Aq();return s.jsx(nH,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var sH=_x[" useId ".trim().toString()]||(()=>{}),aH=0;function sr(e){const[t,r]=h.useState(sH());return Ft(()=>{r(n=>n??String(aH++))},[e]),t?`radix-${t}`:""}const iH=["top","right","bottom","left"],Co=Math.min,Mn=Math.max,fg=Math.round,Fm=Math.floor,Ea=e=>({x:e,y:e}),oH={left:"right",right:"left",bottom:"top",top:"bottom"},lH={start:"end",end:"start"};function $w(e,t,r){return Mn(e,Co(t,r))}function ci(e,t){return typeof e=="function"?e(t):e}function di(e){return e.split("-")[0]}function nu(e){return e.split("-")[1]}function A1(e){return e==="x"?"y":"x"}function T1(e){return e==="y"?"height":"width"}const cH=new Set(["top","bottom"]);function Sa(e){return cH.has(di(e))?"y":"x"}function O1(e){return A1(Sa(e))}function dH(e,t,r){r===void 0&&(r=!1);const n=nu(e),a=O1(e),i=T1(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=hg(o)),[o,hg(o)]}function uH(e){const t=hg(e);return[Fw(e),t,Fw(t)]}function Fw(e){return e.replace(/start|end/g,t=>lH[t])}const kk=["left","right"],Ek=["right","left"],fH=["top","bottom"],hH=["bottom","top"];function mH(e,t,r){switch(e){case"top":case"bottom":return r?t?Ek:kk:t?kk:Ek;case"left":case"right":return t?fH:hH;default:return[]}}function pH(e,t,r,n){const a=nu(e);let i=mH(di(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Fw)))),i}function hg(e){return e.replace(/left|right|bottom|top/g,t=>oH[t])}function gH(e){return{top:0,right:0,bottom:0,left:0,...e}}function FD(e){return typeof e!="number"?gH(e):{top:e,right:e,bottom:e,left:e}}function mg(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function Pk(e,t,r){let{reference:n,floating:a}=e;const i=Sa(t),o=O1(t),l=T1(o),c=di(t),d=i==="y",u=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,m=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:u,y:n.y-a.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(nu(t)){case"start":p[o]-=m*(r&&d?-1:1);break;case"end":p[o]+=m*(r&&d?-1:1);break}return p}const xH=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=Pk(d,n,c),m=n,p={},x=0;for(let g=0;g<l.length;g++){const{name:w,fn:y}=l[g],{x:v,y:b,data:j,reset:N}=await y({x:u,y:f,initialPlacement:n,placement:m,strategy:a,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});u=v??u,f=b??f,p={...p,[w]:{...p[w],...j}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:u,y:f}=Pk(d,m,c)),g=-1)}return{x:u,y:f,placement:m,strategy:a,middlewareData:p}};async function Hf(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=ci(t,e),x=FD(p),w=l[m?f==="floating"?"reference":"floating":f],y=mg(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),v=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},N=mg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(y.top-N.top+x.top)/j.y,bottom:(N.bottom-y.bottom+x.bottom)/j.y,left:(y.left-N.left+x.left)/j.x,right:(N.right-y.right+x.right)/j.x}}const vH=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=ci(e,t)||{};if(d==null)return{};const f=FD(u),m={x:r,y:n},p=O1(a),x=T1(p),g=await o.getDimensions(d),w=p==="y",y=w?"top":"left",v=w?"bottom":"right",b=w?"clientHeight":"clientWidth",j=i.reference[x]+i.reference[p]-m[p]-i.floating[x],N=m[p]-i.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=S?S[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=l.floating[b]||i.floating[x]);const k=j/2-N/2,A=C/2-g[x]/2-1,P=Co(f[y],A),_=Co(f[v],A),E=P,M=C-g[x]-_,R=C/2-g[x]/2+k,T=$w(E,R,M),B=!c.arrow&&nu(a)!=null&&R!==T&&i.reference[x]/2-(R<E?P:_)-g[x]/2<0,K=B?R<E?R-E:R-M:0;return{[p]:m[p]+K,data:{[p]:T,centerOffset:R-T-K,...B&&{alignmentOffset:K}},reset:B}}}),yH=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...w}=ci(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=di(a),v=Sa(l),b=di(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=m||(b||!g?[hg(l)]:uH(l)),S=x!=="none";!m&&S&&N.push(...pH(l,g,x,j));const C=[l,...N],k=await Hf(t,w),A=[];let P=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&A.push(k[y]),f){const R=dH(a,o,j);A.push(k[R[0]],k[R[1]])}if(P=[...P,{placement:a,overflows:A}],!A.every(R=>R<=0)){var _,E;const R=(((_=i.flip)==null?void 0:_.index)||0)+1,T=C[R];if(T&&(!(f==="alignment"?v!==Sa(T):!1)||P.every(z=>z.overflows[0]>0&&Sa(z.placement)===v)))return{data:{index:R,overflows:P},reset:{placement:T}};let B=(E=P.filter(K=>K.overflows[0]<=0).sort((K,z)=>K.overflows[1]-z.overflows[1])[0])==null?void 0:E.placement;if(!B)switch(p){case"bestFit":{var M;const K=(M=P.filter(z=>{if(S){const V=Sa(z.placement);return V===v||V==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(V=>V>0).reduce((V,F)=>V+F,0)]).sort((z,V)=>z[1]-V[1])[0])==null?void 0:M[0];K&&(B=K);break}case"initialPlacement":B=l;break}if(a!==B)return{reset:{placement:B}}}return{}}}};function Ak(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Tk(e){return iH.some(t=>e[t]>=0)}const bH=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=ci(e,t);switch(n){case"referenceHidden":{const i=await Hf(t,{...a,elementContext:"reference"}),o=Ak(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Tk(o)}}}case"escaped":{const i=await Hf(t,{...a,altBoundary:!0}),o=Ak(i,r.floating);return{data:{escapedOffsets:o,escaped:Tk(o)}}}default:return{}}}}},UD=new Set(["left","top"]);async function wH(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=di(r),l=nu(r),c=Sa(r)==="y",d=UD.has(o)?-1:1,u=i&&c?-1:1,f=ci(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),c?{x:p*u,y:m*d}:{x:m*d,y:p*u}}const jH=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await wH(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},NH=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:y,y:v}=w;return{x:y,y:v}}},...c}=ci(e,t),d={x:r,y:n},u=await Hf(t,c),f=Sa(di(a)),m=A1(f);let p=d[m],x=d[f];if(i){const w=m==="y"?"top":"left",y=m==="y"?"bottom":"right",v=p+u[w],b=p-u[y];p=$w(v,p,b)}if(o){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=x+u[w],b=x-u[y];x=$w(v,x,b)}const g=l.fn({...t,[m]:p,[f]:x});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[m]:i,[f]:o}}}}}},SH=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=ci(e,t),u={x:r,y:n},f=Sa(a),m=A1(f);let p=u[m],x=u[f];const g=ci(l,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=m==="y"?"height":"width",j=i.reference[m]-i.floating[b]+w.mainAxis,N=i.reference[m]+i.reference[b]-w.mainAxis;p<j?p=j:p>N&&(p=N)}if(d){var y,v;const b=m==="y"?"width":"height",j=UD.has(di(a)),N=i.reference[f]-i.floating[b]+(j&&((y=o.offset)==null?void 0:y[f])||0)+(j?0:w.crossAxis),S=i.reference[f]+i.reference[b]+(j?0:((v=o.offset)==null?void 0:v[f])||0)-(j?w.crossAxis:0);x<N?x=N:x>S&&(x=S)}return{[m]:p,[f]:x}}}},CH=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=ci(e,t),u=await Hf(t,d),f=di(a),m=nu(a),p=Sa(a)==="y",{width:x,height:g}=i.floating;let w,y;f==="top"||f==="bottom"?(w=f,y=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,w=m==="end"?"top":"bottom");const v=g-u.top-u.bottom,b=x-u.left-u.right,j=Co(g-u[w],v),N=Co(x-u[y],b),S=!t.middlewareData.shift;let C=j,k=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=v),S&&!m){const P=Mn(u.left,0),_=Mn(u.right,0),E=Mn(u.top,0),M=Mn(u.bottom,0);p?k=x-2*(P!==0||_!==0?P+_:Mn(u.left,u.right)):C=g-2*(E!==0||M!==0?E+M:Mn(u.top,u.bottom))}await c({...t,availableWidth:k,availableHeight:C});const A=await o.getDimensions(l.floating);return x!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function Jx(){return typeof window<"u"}function su(e){return BD(e)?(e.nodeName||"").toLowerCase():"#document"}function Bn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ia(e){var t;return(t=(BD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function BD(e){return Jx()?e instanceof Node||e instanceof Bn(e).Node:!1}function ia(e){return Jx()?e instanceof Element||e instanceof Bn(e).Element:!1}function Ta(e){return Jx()?e instanceof HTMLElement||e instanceof Bn(e).HTMLElement:!1}function Ok(e){return!Jx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Bn(e).ShadowRoot}const _H=new Set(["inline","contents"]);function Ah(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=oa(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!_H.has(a)}const kH=new Set(["table","td","th"]);function EH(e){return kH.has(su(e))}const PH=[":popover-open",":modal"];function Zx(e){return PH.some(t=>{try{return e.matches(t)}catch{return!1}})}const AH=["transform","translate","scale","rotate","perspective"],TH=["transform","translate","scale","rotate","perspective","filter"],OH=["paint","layout","strict","content"];function R1(e){const t=D1(),r=ia(e)?oa(e):e;return AH.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||TH.some(n=>(r.willChange||"").includes(n))||OH.some(n=>(r.contain||"").includes(n))}function RH(e){let t=_o(e);for(;Ta(t)&&!Nd(t);){if(R1(t))return t;if(Zx(t))return null;t=_o(t)}return null}function D1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const DH=new Set(["html","body","#document"]);function Nd(e){return DH.has(su(e))}function oa(e){return Bn(e).getComputedStyle(e)}function Xx(e){return ia(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function _o(e){if(su(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ok(e)&&e.host||Ia(e);return Ok(t)?t.host:t}function zD(e){const t=_o(e);return Nd(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ta(t)&&Ah(t)?t:zD(t)}function Gf(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=zD(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Bn(a);if(i){const l=Uw(o);return t.concat(o,o.visualViewport||[],Ah(a)?a:[],l&&r?Gf(l):[])}return t.concat(a,Gf(a,[],r))}function Uw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function VD(e){const t=oa(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Ta(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=fg(r)!==i||fg(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function I1(e){return ia(e)?e:e.contextElement}function ed(e){const t=I1(e);if(!Ta(t))return Ea(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=VD(t);let o=(i?fg(r.width):r.width)/n,l=(i?fg(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const IH=Ea(0);function WD(e){const t=Bn(e);return!D1()||!t.visualViewport?IH:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function MH(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Bn(e)?!1:t}function zl(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=I1(e);let o=Ea(1);t&&(n?ia(n)&&(o=ed(n)):o=ed(e));const l=MH(i,r,n)?WD(i):Ea(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const m=Bn(i),p=n&&ia(n)?Bn(n):n;let x=m,g=Uw(x);for(;g&&n&&p!==x;){const w=ed(g),y=g.getBoundingClientRect(),v=oa(g),b=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*w.x,j=y.top+(g.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,d*=w.y,u*=w.x,f*=w.y,c+=b,d+=j,x=Bn(g),g=Uw(x)}}return mg({width:u,height:f,x:c,y:d})}function M1(e,t){const r=Xx(e).scrollLeft;return t?t.left+r:zl(Ia(e)).left+r}function qD(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:M1(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function LH(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Ia(n),l=t?Zx(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=Ea(1);const u=Ea(0),f=Ta(n);if((f||!f&&!i)&&((su(n)!=="body"||Ah(o))&&(c=Xx(n)),Ta(n))){const p=zl(n);d=ed(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const m=o&&!f&&!i?qD(o,c,!0):Ea(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:r.y*d.y-c.scrollTop*d.y+u.y+m.y}}function $H(e){return Array.from(e.getClientRects())}function FH(e){const t=Ia(e),r=Xx(e),n=e.ownerDocument.body,a=Mn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Mn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+M1(e);const l=-r.scrollTop;return oa(n).direction==="rtl"&&(o+=Mn(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function UH(e,t){const r=Bn(e),n=Ia(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=D1();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const BH=new Set(["absolute","fixed"]);function zH(e,t){const r=zl(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Ta(e)?ed(e):Ea(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function Rk(e,t,r){let n;if(t==="viewport")n=UH(e,r);else if(t==="document")n=FH(Ia(e));else if(ia(t))n=zH(t,r);else{const a=WD(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return mg(n)}function HD(e,t){const r=_o(e);return r===t||!ia(r)||Nd(r)?!1:oa(r).position==="fixed"||HD(r,t)}function VH(e,t){const r=t.get(e);if(r)return r;let n=Gf(e,[],!1).filter(l=>ia(l)&&su(l)!=="body"),a=null;const i=oa(e).position==="fixed";let o=i?_o(e):e;for(;ia(o)&&!Nd(o);){const l=oa(o),c=R1(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&BH.has(a.position)||Ah(o)&&!c&&HD(e,o))?n=n.filter(u=>u!==o):a=l,o=_o(o)}return t.set(e,n),n}function WH(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Zx(t)?[]:VH(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const f=Rk(t,u,a);return d.top=Mn(f.top,d.top),d.right=Co(f.right,d.right),d.bottom=Co(f.bottom,d.bottom),d.left=Mn(f.left,d.left),d},Rk(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function qH(e){const{width:t,height:r}=VD(e);return{width:t,height:r}}function HH(e,t,r){const n=Ta(t),a=Ia(t),i=r==="fixed",o=zl(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ea(0);function d(){c.x=M1(a)}if(n||!n&&!i)if((su(t)!=="body"||Ah(a))&&(l=Xx(t)),n){const p=zl(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&d();i&&!n&&a&&d();const u=a&&!n&&!i?qD(a,l):Ea(0),f=o.left+l.scrollLeft-c.x-u.x,m=o.top+l.scrollTop-c.y-u.y;return{x:f,y:m,width:o.width,height:o.height}}function Pb(e){return oa(e).position==="static"}function Dk(e,t){if(!Ta(e)||oa(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ia(e)===r&&(r=r.ownerDocument.body),r}function GD(e,t){const r=Bn(e);if(Zx(e))return r;if(!Ta(e)){let a=_o(e);for(;a&&!Nd(a);){if(ia(a)&&!Pb(a))return a;a=_o(a)}return r}let n=Dk(e,t);for(;n&&EH(n)&&Pb(n);)n=Dk(n,t);return n&&Nd(n)&&Pb(n)&&!R1(n)?r:n||RH(e)||r}const GH=async function(e){const t=this.getOffsetParent||GD,r=this.getDimensions,n=await r(e.floating);return{reference:HH(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function KH(e){return oa(e).direction==="rtl"}const YH={convertOffsetParentRelativeRectToViewportRelativeRect:LH,getDocumentElement:Ia,getClippingRect:WH,getOffsetParent:GD,getElementRects:GH,getClientRects:$H,getDimensions:qH,getScale:ed,isElement:ia,isRTL:KH};function KD(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function QH(e,t){let r=null,n;const a=Ia(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:f,width:m,height:p}=d;if(l||t(),!m||!p)return;const x=Fm(f),g=Fm(a.clientWidth-(u+m)),w=Fm(a.clientHeight-(f+p)),y=Fm(u),b={rootMargin:-x+"px "+-g+"px "+-w+"px "+-y+"px",threshold:Mn(0,Co(1,c))||1};let j=!0;function N(S){const C=S[0].intersectionRatio;if(C!==c){if(!j)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!KD(d,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(N,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,b)}r.observe(e)}return o(!0),i}function JH(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=I1(e),u=a||i?[...d?Gf(d):[],...Gf(t)]:[];u.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const f=d&&l?QH(d,r):null;let m=-1,p=null;o&&(p=new ResizeObserver(y=>{let[v]=y;v&&v.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let x,g=c?zl(e):null;c&&w();function w(){const y=zl(e);g&&!KD(g,y)&&r(),g=y,x=requestAnimationFrame(w)}return r(),()=>{var y;u.forEach(v=>{a&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const ZH=jH,XH=NH,eG=yH,tG=CH,rG=bH,Ik=vH,nG=SH,sG=(e,t,r)=>{const n=new Map,a={platform:YH,...r},i={...a.platform,_c:n};return xH(e,t,{...a,platform:i})};var aG=typeof document<"u",iG=function(){},Ap=aG?h.useLayoutEffect:iG;function pg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!pg(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!pg(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function YD(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Mk(e,t){const r=YD(e);return Math.round(t*r)/r}function Ab(e){const t=h.useRef(e);return Ap(()=>{t.current=e}),t}function oG(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=h.useState(n);pg(m,n)||p(n);const[x,g]=h.useState(null),[w,y]=h.useState(null),v=h.useCallback(z=>{z!==S.current&&(S.current=z,g(z))},[]),b=h.useCallback(z=>{z!==C.current&&(C.current=z,y(z))},[]),j=i||x,N=o||w,S=h.useRef(null),C=h.useRef(null),k=h.useRef(u),A=c!=null,P=Ab(c),_=Ab(a),E=Ab(d),M=h.useCallback(()=>{if(!S.current||!C.current)return;const z={placement:t,strategy:r,middleware:m};_.current&&(z.platform=_.current),sG(S.current,C.current,z).then(V=>{const F={...V,isPositioned:E.current!==!1};R.current&&!pg(k.current,F)&&(k.current=F,Mo.flushSync(()=>{f(F)}))})},[m,t,r,_,E]);Ap(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(z=>({...z,isPositioned:!1})))},[d]);const R=h.useRef(!1);Ap(()=>(R.current=!0,()=>{R.current=!1}),[]),Ap(()=>{if(j&&(S.current=j),N&&(C.current=N),j&&N){if(P.current)return P.current(j,N,M);M()}},[j,N,M,P,A]);const T=h.useMemo(()=>({reference:S,floating:C,setReference:v,setFloating:b}),[v,b]),B=h.useMemo(()=>({reference:j,floating:N}),[j,N]),K=h.useMemo(()=>{const z={position:r,left:0,top:0};if(!B.floating)return z;const V=Mk(B.floating,u.x),F=Mk(B.floating,u.y);return l?{...z,transform:"translate("+V+"px, "+F+"px)",...YD(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:V,top:F}},[r,l,B.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:M,refs:T,elements:B,floatingStyles:K}),[u,M,T,B,K])}const lG=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Ik({element:n.current,padding:a}).fn(r):{}:n?Ik({element:n,padding:a}).fn(r):{}}}},cG=(e,t)=>({...ZH(e),options:[e,t]}),dG=(e,t)=>({...XH(e),options:[e,t]}),uG=(e,t)=>({...nG(e),options:[e,t]}),fG=(e,t)=>({...eG(e),options:[e,t]}),hG=(e,t)=>({...tG(e),options:[e,t]}),mG=(e,t)=>({...rG(e),options:[e,t]}),pG=(e,t)=>({...lG(e),options:[e,t]});var gG="Arrow",QD=h.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(we.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});QD.displayName=gG;var xG=QD;function L1(e){const[t,r]=h.useState(void 0);return Ft(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var $1="Popper",[JD,$o]=ur($1),[vG,ZD]=JD($1),XD=e=>{const{__scopePopper:t,children:r}=e,[n,a]=h.useState(null);return s.jsx(vG,{scope:t,anchor:n,onAnchorChange:a,children:r})};XD.displayName=$1;var eI="PopperAnchor",tI=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=ZD(eI,r),o=h.useRef(null),l=De(t,o);return h.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(we.div,{...a,ref:l})});tI.displayName=eI;var F1="PopperContent",[yG,bG]=JD(F1),rI=h.forwardRef((e,t)=>{var G,ce,H,q,te,I;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:x,...g}=e,w=ZD(F1,r),[y,v]=h.useState(null),b=De(t,ie=>v(ie)),[j,N]=h.useState(null),S=L1(j),C=(S==null?void 0:S.width)??0,k=(S==null?void 0:S.height)??0,A=n+(i!=="center"?"-"+i:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},_=Array.isArray(d)?d:[d],E=_.length>0,M={padding:P,boundary:_.filter(jG),altBoundary:E},{refs:R,floatingStyles:T,placement:B,isPositioned:K,middlewareData:z}=oG({strategy:"fixed",placement:A,whileElementsMounted:(...ie)=>JH(...ie,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[cG({mainAxis:a+k,alignmentAxis:o}),c&&dG({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?uG():void 0,...M}),c&&fG({...M}),hG({...M,apply:({elements:ie,rects:Z,availableWidth:pe,availableHeight:xe})=>{const{width:be,height:ke}=Z.reference,ve=ie.floating.style;ve.setProperty("--radix-popper-available-width",`${pe}px`),ve.setProperty("--radix-popper-available-height",`${xe}px`),ve.setProperty("--radix-popper-anchor-width",`${be}px`),ve.setProperty("--radix-popper-anchor-height",`${ke}px`)}}),j&&pG({element:j,padding:l}),NG({arrowWidth:C,arrowHeight:k}),m&&mG({strategy:"referenceHidden",...M})]}),[V,F]=aI(B),W=zt(x);Ft(()=>{K&&(W==null||W())},[K,W]);const D=(G=z.arrow)==null?void 0:G.x,L=(ce=z.arrow)==null?void 0:ce.y,J=((H=z.arrow)==null?void 0:H.centerOffset)!==0,[U,ee]=h.useState();return Ft(()=>{y&&ee(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...T,transform:K?T.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:U,"--radix-popper-transform-origin":[(q=z.transformOrigin)==null?void 0:q.x,(te=z.transformOrigin)==null?void 0:te.y].join(" "),...((I=z.hide)==null?void 0:I.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(yG,{scope:r,placedSide:V,onArrowChange:N,arrowX:D,arrowY:L,shouldHideArrow:J,children:s.jsx(we.div,{"data-side":V,"data-align":F,...g,ref:b,style:{...g.style,animation:K?void 0:"none"}})})})});rI.displayName=F1;var nI="PopperArrow",wG={top:"bottom",right:"left",bottom:"top",left:"right"},sI=h.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=bG(nI,n),o=wG[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(xG,{...a,ref:r,style:{...a.style,display:"block"}})})});sI.displayName=nI;function jG(e){return e!==null}var NG=e=>({name:"transformOrigin",options:e,fn(t){var w,y,v;const{placement:r,rects:n,middlewareData:a}=t,o=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=aI(r),f={start:"0%",center:"50%",end:"100%"}[u],m=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,p=(((v=a.arrow)==null?void 0:v.y)??0)+c/2;let x="",g="";return d==="bottom"?(x=o?f:`${m}px`,g=`${-c}px`):d==="top"?(x=o?f:`${m}px`,g=`${n.floating.height+c}px`):d==="right"?(x=`${-c}px`,g=o?f:`${p}px`):d==="left"&&(x=`${n.floating.width+c}px`,g=o?f:`${p}px`),{data:{x,y:g}}}});function aI(e){const[t,r="center"]=e.split("-");return[t,r]}var ev=XD,Th=tI,tv=rI,rv=sI,[nv,NNe]=ur("Tooltip",[$o]),sv=$o(),iI="TooltipProvider",SG=700,Bw="tooltip.open",[CG,U1]=nv(iI),oI=e=>{const{__scopeTooltip:t,delayDuration:r=SG,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(CG,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};oI.displayName=iI;var Kf="Tooltip",[_G,av]=nv(Kf),lI=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=U1(Kf,e.__scopeTooltip),d=sv(t),[u,f]=h.useState(null),m=sr(),p=h.useRef(0),x=o??c.disableHoverableContent,g=l??c.delayDuration,w=h.useRef(!1),[y,v]=cn({prop:n,defaultProp:a??!1,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(Bw))):c.onClose(),i==null||i(C)},caller:Kf}),b=h.useMemo(()=>y?w.current?"delayed-open":"instant-open":"closed",[y]),j=h.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w.current=!1,v(!0)},[v]),N=h.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v(!1)},[v]),S=h.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{w.current=!0,v(!0),p.current=0},g)},[g,v]);return h.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(ev,{...d,children:s.jsx(_G,{scope:t,contentId:m,open:y,stateAttribute:b,trigger:u,onTriggerChange:f,onTriggerEnter:h.useCallback(()=>{c.isOpenDelayedRef.current?S():j()},[c.isOpenDelayedRef,S,j]),onTriggerLeave:h.useCallback(()=>{x?N():(window.clearTimeout(p.current),p.current=0)},[N,x]),onOpen:j,onClose:N,disableHoverableContent:x,children:r})})};lI.displayName=Kf;var zw="TooltipTrigger",cI=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=av(zw,r),i=U1(zw,r),o=sv(r),l=h.useRef(null),c=De(t,l,a.onTriggerChange),d=h.useRef(!1),u=h.useRef(!1),f=h.useCallback(()=>d.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(Th,{asChild:!0,...o,children:s.jsx(we.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:ge(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:ge(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:ge(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ge(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:ge(e.onBlur,a.onClose),onClick:ge(e.onClick,a.onClose)})})});cI.displayName=zw;var kG="TooltipPortal",[SNe,EG]=nv(kG,{forceMount:void 0}),Sd="TooltipContent",dI=h.forwardRef((e,t)=>{const r=EG(Sd,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=av(Sd,e.__scopeTooltip);return s.jsx(kr,{present:n||o.open,children:o.disableHoverableContent?s.jsx(uI,{side:a,...i,ref:t}):s.jsx(PG,{side:a,...i,ref:t})})}),PG=h.forwardRef((e,t)=>{const r=av(Sd,e.__scopeTooltip),n=U1(Sd,e.__scopeTooltip),a=h.useRef(null),i=De(t,a),[o,l]=h.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:f}=n,m=h.useCallback(()=>{l(null),f(!1)},[f]),p=h.useCallback((x,g)=>{const w=x.currentTarget,y={x:x.clientX,y:x.clientY},v=DG(y,w.getBoundingClientRect()),b=IG(y,v),j=MG(g.getBoundingClientRect()),N=$G([...b,...j]);l(N),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(c&&u){const x=w=>p(w,u),g=w=>p(w,c);return c.addEventListener("pointerleave",x),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",g)}}},[c,u,p,m]),h.useEffect(()=>{if(o){const x=g=>{const w=g.target,y={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(w))||(u==null?void 0:u.contains(w)),b=!LG(y,o);v?m():b&&(m(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,u,o,d,m]),s.jsx(uI,{...e,ref:i})}),[AG,TG]=nv(Kf,{isInside:!1}),OG=HR("TooltipContent"),uI=h.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=av(Sd,r),d=sv(r),{onClose:u}=c;return h.useEffect(()=>(document.addEventListener(Bw,u),()=>document.removeEventListener(Bw,u)),[u]),h.useEffect(()=>{if(c.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),s.jsx(rc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:s.jsxs(tv,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(OG,{children:n}),s.jsx(AG,{scope:r,isInside:!0,children:s.jsx(tW,{id:c.contentId,role:"tooltip",children:a||n})})]})})});dI.displayName=Sd;var fI="TooltipArrow",RG=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=sv(r);return TG(fI,r).isInside?null:s.jsx(rv,{...a,...n,ref:t})});RG.displayName=fI;function DG(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function IG(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function MG(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function LG(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,f=c.x,m=c.y;u>n!=m>n&&r<(f-d)*(n-u)/(m-u)+d&&(a=!a)}return a}function $G(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),FG(t)}function FG(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var UG=oI,BG=lI,zG=cI,hI=dI;const Vw=UG,VG=BG,WG=zG,mI=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(hI,{ref:n,sideOffset:t,className:ne("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));mI.displayName=hI.displayName;var iv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ov=typeof window>"u"||"Deno"in globalThis;function Ws(){}function qG(e,t){return typeof e=="function"?e(t):e}function HG(e){return typeof e=="number"&&e>=0&&e!==1/0}function GG(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ww(e,t){return typeof e=="function"?e(t):e}function KG(e,t){return typeof e=="function"?e(t):e}function Lk(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==B1(o,t.options))return!1}else if(!Qf(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function $k(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Yf(t.options.mutationKey)!==Yf(i))return!1}else if(!Qf(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function B1(e,t){return((t==null?void 0:t.queryKeyHashFn)||Yf)(e)}function Yf(e){return JSON.stringify(e,(t,r)=>qw(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Qf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Qf(e[r],t[r])):!1}function pI(e,t){if(e===t)return e;const r=Fk(e)&&Fk(t);if(r||qw(e)&&qw(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(n);let d=0;for(let u=0;u<o;u++){const f=r?u:i[u];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,d++):(l[f]=pI(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&d++)}return a===o&&d===a?e:l}return t}function Fk(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function qw(e){if(!Uk(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Uk(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Uk(e){return Object.prototype.toString.call(e)==="[object Object]"}function YG(e){return new Promise(t=>{setTimeout(t,e)})}function QG(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?pI(e,t):t}function JG(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function ZG(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var z1=Symbol();function gI(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===z1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var wl,Ji,ad,NO,XG=(NO=class extends iv{constructor(){super();ot(this,wl);ot(this,Ji);ot(this,ad);Ue(this,ad,t=>{if(!ov&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ue(this,Ji)||this.setEventListener(ue(this,ad))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,Ji))==null||t.call(this),Ue(this,Ji,void 0))}setEventListener(t){var r;Ue(this,ad,t),(r=ue(this,Ji))==null||r.call(this),Ue(this,Ji,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ue(this,wl)!==t&&(Ue(this,wl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ue(this,wl)=="boolean"?ue(this,wl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},wl=new WeakMap,Ji=new WeakMap,ad=new WeakMap,NO),xI=new XG,id,Zi,od,SO,eK=(SO=class extends iv{constructor(){super();ot(this,id,!0);ot(this,Zi);ot(this,od);Ue(this,od,t=>{if(!ov&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ue(this,Zi)||this.setEventListener(ue(this,od))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,Zi))==null||t.call(this),Ue(this,Zi,void 0))}setEventListener(t){var r;Ue(this,od,t),(r=ue(this,Zi))==null||r.call(this),Ue(this,Zi,t(this.setOnline.bind(this)))}setOnline(t){ue(this,id)!==t&&(Ue(this,id,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ue(this,id)}},id=new WeakMap,Zi=new WeakMap,od=new WeakMap,SO),gg=new eK;function tK(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function rK(e){return Math.min(1e3*2**e,3e4)}function vI(e){return(e??"online")==="online"?gg.isOnline():!0}var yI=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Tb(e){return e instanceof yI}function bI(e){let t=!1,r=0,n=!1,a;const i=tK(),o=g=>{var w;n||(m(new yI(g)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>xI.isFocused()&&(e.networkMode==="always"||gg.isOnline())&&e.canRun(),u=()=>vI(e.networkMode)&&e.canRun(),f=g=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,g),a==null||a(),i.resolve(g))},m=g=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,g),a==null||a(),i.reject(g))},p=()=>new Promise(g=>{var w;a=y=>{(n||d())&&g(y)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;a=void 0,n||(g=e.onContinue)==null||g.call(e)}),x=()=>{if(n)return;let g;const w=r===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var S;if(n)return;const v=e.retry??(ov?0:3),b=e.retryDelay??rK,j=typeof b=="function"?b(r,y):b,N=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,y);if(t||!N){m(y);return}r++,(S=e.onFail)==null||S.call(e,r,y),YG(j).then(()=>d()?void 0:p()).then(()=>{t?m(y):x()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?x():p().then(x),i)}}var nK=e=>setTimeout(e,0);function sK(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=nK;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var rn=sK(),jl,CO,wI=(CO=class{constructor(){ot(this,jl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),HG(this.gcTime)&&Ue(this,jl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ov?1/0:5*60*1e3))}clearGcTimeout(){ue(this,jl)&&(clearTimeout(ue(this,jl)),Ue(this,jl,void 0))}},jl=new WeakMap,CO),ld,Nl,rs,Sl,Wr,bh,Cl,qs,Ba,_O,aK=(_O=class extends wI{constructor(t){super();ot(this,qs);ot(this,ld);ot(this,Nl);ot(this,rs);ot(this,Sl);ot(this,Wr);ot(this,bh);ot(this,Cl);Ue(this,Cl,!1),Ue(this,bh,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ue(this,Sl,t.client),Ue(this,rs,ue(this,Sl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ue(this,ld,oK(this.options)),this.state=t.state??ue(this,ld),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ue(this,Wr))==null?void 0:t.promise}setOptions(t){this.options={...ue(this,bh),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ue(this,rs).remove(this)}setData(t,r){const n=QG(this.state.data,t,this.options);return Br(this,qs,Ba).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Br(this,qs,Ba).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=ue(this,Wr))==null?void 0:n.promise;return(a=ue(this,Wr))==null||a.cancel(t),r?r.then(Ws).catch(Ws):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ue(this,ld))}isActive(){return this.observers.some(t=>KG(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===z1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ww(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!GG(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ue(this,Wr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ue(this,Wr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ue(this,rs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ue(this,Wr)&&(ue(this,Cl)?ue(this,Wr).cancel({revert:!0}):ue(this,Wr).cancelRetry()),this.scheduleGc()),ue(this,rs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Br(this,qs,Ba).call(this,{type:"invalidate"})}fetch(t,r){var d,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ue(this,Wr))return ue(this,Wr).continueRetry(),ue(this,Wr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Ue(this,Cl,!0),n.signal)})},i=()=>{const m=gI(this.options,r),x=(()=>{const g={client:ue(this,Sl),queryKey:this.queryKey,meta:this.meta};return a(g),g})();return Ue(this,Cl,!1),this.options.persister?this.options.persister(m,x,this):m(x)},l=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ue(this,Sl),state:this.state,fetchFn:i};return a(m),m})();(d=this.options.behavior)==null||d.onFetch(l,this),Ue(this,Nl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&Br(this,qs,Ba).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=m=>{var p,x,g,w;Tb(m)&&m.silent||Br(this,qs,Ba).call(this,{type:"error",error:m}),Tb(m)||((x=(p=ue(this,rs).config).onError)==null||x.call(p,m,this),(w=(g=ue(this,rs).config).onSettled)==null||w.call(g,this.state.data,m,this)),this.scheduleGc()};return Ue(this,Wr,bI({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var p,x,g,w;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(y){c(y);return}(x=(p=ue(this,rs).config).onSuccess)==null||x.call(p,m,this),(w=(g=ue(this,rs).config).onSettled)==null||w.call(g,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,p)=>{Br(this,qs,Ba).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{Br(this,qs,Ba).call(this,{type:"pause"})},onContinue:()=>{Br(this,qs,Ba).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),ue(this,Wr).start()}},ld=new WeakMap,Nl=new WeakMap,rs=new WeakMap,Sl=new WeakMap,Wr=new WeakMap,bh=new WeakMap,Cl=new WeakMap,qs=new WeakSet,Ba=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...iK(n.data,this.options),fetchMeta:t.meta??null};case"success":return Ue(this,Nl,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Tb(a)&&a.revert&&ue(this,Nl)?{...ue(this,Nl),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),rn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ue(this,rs).notify({query:this,type:"updated",action:t})})},_O);function iK(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vI(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function oK(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var va,kO,lK=(kO=class extends iv{constructor(t={}){super();ot(this,va);this.config=t,Ue(this,va,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??B1(a,r);let o=this.get(i);return o||(o=new aK({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){ue(this,va).has(t.queryHash)||(ue(this,va).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ue(this,va).get(t.queryHash);r&&(t.destroy(),r===t&&ue(this,va).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){rn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ue(this,va).get(t)}getAll(){return[...ue(this,va).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Lk(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Lk(t,n)):r}notify(t){rn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){rn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){rn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},va=new WeakMap,kO),ya,en,_l,ba,$i,EO,cK=(EO=class extends wI{constructor(t){super();ot(this,ba);ot(this,ya);ot(this,en);ot(this,_l);this.mutationId=t.mutationId,Ue(this,en,t.mutationCache),Ue(this,ya,[]),this.state=t.state||dK(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ue(this,ya).includes(t)||(ue(this,ya).push(t),this.clearGcTimeout(),ue(this,en).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ue(this,ya,ue(this,ya).filter(r=>r!==t)),this.scheduleGc(),ue(this,en).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ue(this,ya).length||(this.state.status==="pending"?this.scheduleGc():ue(this,en).remove(this))}continue(){var t;return((t=ue(this,_l))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,d,u,f,m,p,x,g,w,y,v,b,j,N,S,C,k;const r=()=>{Br(this,ba,$i).call(this,{type:"continue"})};Ue(this,_l,bI({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,P)=>{Br(this,ba,$i).call(this,{type:"failed",failureCount:A,error:P})},onPause:()=>{Br(this,ba,$i).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ue(this,en).canRun(this)}));const n=this.state.status==="pending",a=!ue(this,_l).canStart();try{if(n)r();else{Br(this,ba,$i).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=ue(this,en).config).onMutate)==null?void 0:o.call(i,t,this));const P=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));P!==this.state.context&&Br(this,ba,$i).call(this,{type:"pending",context:P,variables:t,isPaused:a})}const A=await ue(this,_l).start();return await((u=(d=ue(this,en).config).onSuccess)==null?void 0:u.call(d,A,t,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,A,t,this.state.context)),await((x=(p=ue(this,en).config).onSettled)==null?void 0:x.call(p,A,null,this.state.variables,this.state.context,this)),await((w=(g=this.options).onSettled)==null?void 0:w.call(g,A,null,t,this.state.context)),Br(this,ba,$i).call(this,{type:"success",data:A}),A}catch(A){try{throw await((v=(y=ue(this,en).config).onError)==null?void 0:v.call(y,A,t,this.state.context,this)),await((j=(b=this.options).onError)==null?void 0:j.call(b,A,t,this.state.context)),await((S=(N=ue(this,en).config).onSettled)==null?void 0:S.call(N,void 0,A,this.state.variables,this.state.context,this)),await((k=(C=this.options).onSettled)==null?void 0:k.call(C,void 0,A,t,this.state.context)),A}finally{Br(this,ba,$i).call(this,{type:"error",error:A})}}finally{ue(this,en).runNext(this)}}},ya=new WeakMap,en=new WeakMap,_l=new WeakMap,ba=new WeakSet,$i=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),rn.batch(()=>{ue(this,ya).forEach(n=>{n.onMutationUpdate(t)}),ue(this,en).notify({mutation:this,type:"updated",action:t})})},EO);function dK(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ha,Hs,wh,PO,uK=(PO=class extends iv{constructor(t={}){super();ot(this,Ha);ot(this,Hs);ot(this,wh);this.config=t,Ue(this,Ha,new Set),Ue(this,Hs,new Map),Ue(this,wh,0)}build(t,r,n){const a=new cK({mutationCache:this,mutationId:++vm(this,wh)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){ue(this,Ha).add(t);const r=Um(t);if(typeof r=="string"){const n=ue(this,Hs).get(r);n?n.push(t):ue(this,Hs).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ue(this,Ha).delete(t)){const r=Um(t);if(typeof r=="string"){const n=ue(this,Hs).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&ue(this,Hs).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Um(t);if(typeof r=="string"){const n=ue(this,Hs).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Um(t);if(typeof r=="string"){const a=(n=ue(this,Hs).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){rn.batch(()=>{ue(this,Ha).forEach(t=>{this.notify({type:"removed",mutation:t})}),ue(this,Ha).clear(),ue(this,Hs).clear()})}getAll(){return Array.from(ue(this,Ha))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>$k(r,n))}findAll(t={}){return this.getAll().filter(r=>$k(t,r))}notify(t){rn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return rn.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ws))))}},Ha=new WeakMap,Hs=new WeakMap,wh=new WeakMap,PO);function Um(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Bk(e){return{onFetch:(t,r)=>{var u,f,m,p,x;const n=t.options,a=(m=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=gI(t.options,t.fetchOptions),v=async(b,j,N)=>{if(g)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const C=(()=>{const _={client:t.client,queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};return w(_),_})(),k=await y(C),{maxPages:A}=t.options,P=N?ZG:JG;return{pages:P(b.pages,k,A),pageParams:P(b.pageParams,j,A)}};if(a&&i.length){const b=a==="backward",j=b?fK:zk,N={pages:i,pageParams:o},S=j(n,N);l=await v(N,S,b)}else{const b=e??i.length;do{const j=c===0?o[0]??n.initialPageParam:zk(n,l);if(c>0&&j==null)break;l=await v(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function zk(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function fK(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Yt,Xi,eo,cd,dd,to,ud,fd,AO,hK=(AO=class{constructor(e={}){ot(this,Yt);ot(this,Xi);ot(this,eo);ot(this,cd);ot(this,dd);ot(this,to);ot(this,ud);ot(this,fd);Ue(this,Yt,e.queryCache||new lK),Ue(this,Xi,e.mutationCache||new uK),Ue(this,eo,e.defaultOptions||{}),Ue(this,cd,new Map),Ue(this,dd,new Map),Ue(this,to,0)}mount(){vm(this,to)._++,ue(this,to)===1&&(Ue(this,ud,xI.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,Yt).onFocus())})),Ue(this,fd,gg.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,Yt).onOnline())})))}unmount(){var e,t;vm(this,to)._--,ue(this,to)===0&&((e=ue(this,ud))==null||e.call(this),Ue(this,ud,void 0),(t=ue(this,fd))==null||t.call(this),Ue(this,fd,void 0))}isFetching(e){return ue(this,Yt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ue(this,Xi).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ue(this,Yt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ue(this,Yt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ww(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ue(this,Yt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=ue(this,Yt).get(n.queryHash),i=a==null?void 0:a.state.data,o=qG(t,i);if(o!==void 0)return ue(this,Yt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return rn.batch(()=>ue(this,Yt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ue(this,Yt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ue(this,Yt);rn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ue(this,Yt);return rn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=rn.batch(()=>ue(this,Yt).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Ws).catch(Ws)}invalidateQueries(e,t={}){return rn.batch(()=>(ue(this,Yt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=rn.batch(()=>ue(this,Yt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ws)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ws)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ue(this,Yt).build(this,t);return r.isStaleByTime(Ww(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ws).catch(Ws)}fetchInfiniteQuery(e){return e.behavior=Bk(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ws).catch(Ws)}ensureInfiniteQueryData(e){return e.behavior=Bk(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return gg.isOnline()?ue(this,Xi).resumePausedMutations():Promise.resolve()}getQueryCache(){return ue(this,Yt)}getMutationCache(){return ue(this,Xi)}getDefaultOptions(){return ue(this,eo)}setDefaultOptions(e){Ue(this,eo,e)}setQueryDefaults(e,t){ue(this,cd).set(Yf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ue(this,cd).values()],r={};return t.forEach(n=>{Qf(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ue(this,dd).set(Yf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ue(this,dd).values()],r={};return t.forEach(n=>{Qf(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ue(this,eo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=B1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===z1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ue(this,eo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ue(this,Yt).clear(),ue(this,Xi).clear()}},Yt=new WeakMap,Xi=new WeakMap,eo=new WeakMap,cd=new WeakMap,dd=new WeakMap,to=new WeakMap,ud=new WeakMap,fd=new WeakMap,AO),mK=h.createContext(void 0),Vk=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(mK.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jf(){return Jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jf.apply(this,arguments)}var so;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(so||(so={}));const Wk="popstate";function pK(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return Hw("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:xg(a)}return xK(t,r,null,e)}function Gt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jI(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gK(){return Math.random().toString(36).substr(2,8)}function qk(e,t){return{usr:e.state,key:e.key,idx:t}}function Hw(e,t,r,n){return r===void 0&&(r=null),Jf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?au(t):t,{state:r,key:t&&t.key||n||gK()})}function xg(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function au(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function xK(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=so.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Jf({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=so.Pop;let w=u(),y=w==null?null:w-d;d=w,c&&c({action:l,location:g.location,delta:y})}function m(w,y){l=so.Push;let v=Hw(g.location,w,y);d=u()+1;let b=qk(v,d),j=g.createHref(v);try{o.pushState(b,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(j)}i&&c&&c({action:l,location:g.location,delta:1})}function p(w,y){l=so.Replace;let v=Hw(g.location,w,y);d=u();let b=qk(v,d),j=g.createHref(v);o.replaceState(b,"",j),i&&c&&c({action:l,location:g.location,delta:0})}function x(w){let y=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof w=="string"?w:xg(w);return v=v.replace(/ $/,"%20"),Gt(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let g={get action(){return l},get location(){return e(a,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Wk,f),c=w,()=>{a.removeEventListener(Wk,f),c=null}},createHref(w){return t(a,w)},createURL:x,encodeLocation(w){let y=x(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:p,go(w){return o.go(w)}};return g}var Hk;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Hk||(Hk={}));function vK(e,t,r){return r===void 0&&(r="/"),yK(e,t,r,!1)}function yK(e,t,r,n){let a=typeof t=="string"?au(t):t,i=Cd(a.pathname||"/",r);if(i==null)return null;let o=NI(e);bK(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=TK(i);l=PK(o[c],d,n)}return l}function NI(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Gt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=go([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Gt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),NI(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:kK(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of SI(i.path))a(i,o,c)}),t}function SI(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=SI(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function bK(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:EK(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const wK=/^:[\w-]+$/,jK=3,NK=2,SK=1,CK=10,_K=-2,Gk=e=>e==="*";function kK(e,t){let r=e.split("/"),n=r.length;return r.some(Gk)&&(n+=_K),t&&(n+=NK),r.filter(a=>!Gk(a)).reduce((a,i)=>a+(wK.test(i)?jK:i===""?SK:CK),n)}function EK(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function PK(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=vg({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!f&&d&&r&&!n[n.length-1].route.index&&(f=vg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:go([i,f.pathname]),pathnameBase:IK(go([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=go([i,f.pathnameBase]))}return o}function vg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=AK(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,f)=>{let{paramName:m,isOptional:p}=u;if(m==="*"){let g=l[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[f];return p&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function AK(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),jI(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function TK(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jI(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Cd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function OK(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?au(e):e;return{pathname:r?r.startsWith("/")?r:RK(r,t):t,search:MK(n),hash:LK(a)}}function RK(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Ob(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DK(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function V1(e,t){let r=DK(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function W1(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=au(e):(a=Jf({},e),Gt(!a.pathname||!a.pathname.includes("?"),Ob("?","pathname","search",a)),Gt(!a.pathname||!a.pathname.includes("#"),Ob("#","pathname","hash",a)),Gt(!a.search||!a.search.includes("#"),Ob("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=OK(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const go=e=>e.join("/").replace(/\/\/+/g,"/"),IK=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),MK=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,LK=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $K(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const CI=["post","put","patch","delete"];new Set(CI);const FK=["get",...CI];new Set(FK);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zf.apply(this,arguments)}const lv=h.createContext(null),_I=h.createContext(null),vi=h.createContext(null),cv=h.createContext(null),Ma=h.createContext({outlet:null,matches:[],isDataRoute:!1}),kI=h.createContext(null);function UK(e,t){let{relative:r}=t===void 0?{}:t;iu()||Gt(!1);let{basename:n,navigator:a}=h.useContext(vi),{hash:i,pathname:o,search:l}=dv(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:go([n,o])),a.createHref({pathname:c,search:l,hash:i})}function iu(){return h.useContext(cv)!=null}function kn(){return iu()||Gt(!1),h.useContext(cv).location}function EI(e){h.useContext(vi).static||h.useLayoutEffect(e)}function Ie(){let{isDataRoute:e}=h.useContext(Ma);return e?tY():BK()}function BK(){iu()||Gt(!1);let e=h.useContext(lv),{basename:t,future:r,navigator:n}=h.useContext(vi),{matches:a}=h.useContext(Ma),{pathname:i}=kn(),o=JSON.stringify(V1(a,r.v7_relativeSplatPath)),l=h.useRef(!1);return EI(()=>{l.current=!0}),h.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let f=W1(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:go([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,i,e])}const zK=h.createContext(null);function VK(e){let t=h.useContext(Ma).outlet;return t&&h.createElement(zK.Provider,{value:e},t)}function Oh(){let{matches:e}=h.useContext(Ma),t=e[e.length-1];return t?t.params:{}}function dv(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=h.useContext(vi),{matches:a}=h.useContext(Ma),{pathname:i}=kn(),o=JSON.stringify(V1(a,n.v7_relativeSplatPath));return h.useMemo(()=>W1(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function WK(e,t){return qK(e,t)}function qK(e,t,r,n){iu()||Gt(!1);let{navigator:a}=h.useContext(vi),{matches:i}=h.useContext(Ma),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=kn(),u;if(t){var f;let w=typeof t=="string"?au(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||Gt(!1),u=w}else u=d;let m=u.pathname||"/",p=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=vK(e,{pathname:p}),g=QK(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:go([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:go([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return t&&g?h.createElement(cv.Provider,{value:{location:Zf({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:so.Pop}},g):g}function HK(){let e=eY(),t=$K(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:a},r):null,null)}const GK=h.createElement(HK,null);class KK extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?h.createElement(Ma.Provider,{value:this.props.routeContext},h.createElement(kI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YK(e){let{routeContext:t,match:r,children:n}=e,a=h.useContext(lv);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(Ma.Provider,{value:t},n)}function QK(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||Gt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:m,errors:p}=r,x=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,m)=>{let p,x=!1,g=null,w=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||GK,c&&(d<0&&m===0?(x=!0,w=null):d===m&&(x=!0,w=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,m+1)),v=()=>{let b;return p?b=g:x?b=w:f.route.Component?b=h.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,h.createElement(YK,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(KK,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var PI=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(PI||{}),yg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(yg||{});function JK(e){let t=h.useContext(lv);return t||Gt(!1),t}function ZK(e){let t=h.useContext(_I);return t||Gt(!1),t}function XK(e){let t=h.useContext(Ma);return t||Gt(!1),t}function AI(e){let t=XK(),r=t.matches[t.matches.length-1];return r.route.id||Gt(!1),r.route.id}function eY(){var e;let t=h.useContext(kI),r=ZK(yg.UseRouteError),n=AI(yg.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function tY(){let{router:e}=JK(PI.UseNavigateStable),t=AI(yg.UseNavigateStable),r=h.useRef(!1);return EI(()=>{r.current=!0}),h.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Zf({fromRouteId:t},i)))},[e,t])}function rY(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function nY(e){let{to:t,replace:r,state:n,relative:a}=e;iu()||Gt(!1);let{future:i,static:o}=h.useContext(vi),{matches:l}=h.useContext(Ma),{pathname:c}=kn(),d=Ie(),u=W1(t,V1(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(u);return h.useEffect(()=>d(JSON.parse(f),{replace:r,state:n,relative:a}),[d,f,a,r,n]),null}function TI(e){return VK(e.context)}function Ne(e){Gt(!1)}function sY(e){let{basename:t="/",children:r=null,location:n,navigationType:a=so.Pop,navigator:i,static:o=!1,future:l}=e;iu()&&Gt(!1);let c=t.replace(/^\/*/,"/"),d=h.useMemo(()=>({basename:c,navigator:i,static:o,future:Zf({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=au(n));let{pathname:u="/",search:f="",hash:m="",state:p=null,key:x="default"}=n,g=h.useMemo(()=>{let w=Cd(u,c);return w==null?null:{location:{pathname:w,search:f,hash:m,state:p,key:x},navigationType:a}},[c,u,f,m,p,x,a]);return g==null?null:h.createElement(vi.Provider,{value:d},h.createElement(cv.Provider,{children:r,value:g}))}function Kk(e){let{children:t,location:r}=e;return WK(Gw(t),r)}new Promise(()=>{});function Gw(e,t){t===void 0&&(t=[]);let r=[];return h.Children.forEach(e,(n,a)=>{if(!h.isValidElement(n))return;let i=[...t,a];if(n.type===h.Fragment){r.push.apply(r,Gw(n.props.children,i));return}n.type!==Ne&&Gt(!1),!n.props.index||!n.props.children||Gt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Gw(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bg.apply(this,arguments)}function OI(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function aY(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function iY(e,t){return e.button===0&&(!t||t==="_self")&&!aY(e)}function Kw(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function oY(e,t){let r=Kw(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const lY=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],cY=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],dY="6";try{window.__reactRouterVersion=dY}catch{}const uY=h.createContext({isTransitioning:!1}),fY="startTransition",Yk=_x[fY];function Qk(e){let{basename:t,children:r,future:n,window:a}=e,i=h.useRef();i.current==null&&(i.current=pK({window:a,v5Compat:!0}));let o=i.current,[l,c]=h.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=h.useCallback(f=>{d&&Yk?Yk(()=>c(f)):c(f)},[c,d]);return h.useLayoutEffect(()=>o.listen(u),[o,u]),h.useEffect(()=>rY(n),[n]),h.createElement(sY,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const hY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=h.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,m=OI(t,lY),{basename:p}=h.useContext(vi),x,g=!1;if(typeof d=="string"&&mY.test(d)&&(x=d,hY))try{let b=new URL(window.location.href),j=d.startsWith("//")?new URL(b.protocol+d):new URL(d),N=Cd(j.pathname,p);j.origin===b.origin&&N!=null?d=N+j.search+j.hash:g=!0}catch{}let w=UK(d,{relative:a}),y=xY(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});function v(b){n&&n(b),b.defaultPrevented||y(b)}return h.createElement("a",bg({},m,{href:x||w,onClick:g||i?n:v,ref:r,target:c}))}),pY=h.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:u}=t,f=OI(t,cY),m=dv(c,{relative:f.relative}),p=kn(),x=h.useContext(_I),{navigator:g,basename:w}=h.useContext(vi),y=x!=null&&vY(m)&&d===!0,v=g.encodeLocation?g.encodeLocation(m).pathname:m.pathname,b=p.pathname,j=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;a||(b=b.toLowerCase(),j=j?j.toLowerCase():null,v=v.toLowerCase()),j&&w&&(j=Cd(j,w)||j);const N=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let S=b===v||!o&&b.startsWith(v)&&b.charAt(N)==="/",C=j!=null&&(j===v||!o&&j.startsWith(v)&&j.charAt(v.length)==="/"),k={isActive:S,isPending:C,isTransitioning:y},A=S?n:void 0,P;typeof i=="function"?P=i(k):P=[i,S?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let _=typeof l=="function"?l(k):l;return h.createElement(Re,bg({},f,{"aria-current":A,className:P,ref:r,style:_,to:c,viewTransition:d}),typeof u=="function"?u(k):u)});var Yw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Yw||(Yw={}));var Jk;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Jk||(Jk={}));function gY(e){let t=h.useContext(lv);return t||Gt(!1),t}function xY(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Ie(),d=kn(),u=dv(e,{relative:o});return h.useCallback(f=>{if(iY(f,r)){f.preventDefault();let m=n!==void 0?n:xg(d)===xg(u);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,a,r,e,i,o,l])}function Rh(e){let t=h.useRef(Kw(e)),r=h.useRef(!1),n=kn(),a=h.useMemo(()=>oY(n.search,r.current?null:t.current),[n.search]),i=Ie(),o=h.useCallback((l,c)=>{const d=Kw(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}function vY(e,t){t===void 0&&(t={});let r=h.useContext(uY);r==null&&Gt(!1);let{basename:n}=gY(Yw.useViewTransitionState),a=dv(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Cd(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Cd(r.nextLocation.pathname,n)||r.nextLocation.pathname;return vg(a.pathname,o)!=null||vg(a.pathname,i)!=null}const yY="modulepreload",bY=function(e){return"/"+e},Zk={},Zr=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=bY(c),c in Zk)return;Zk[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":yY,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((m,p)=>{f.addEventListener("load",m),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},q1=nc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),O=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?Zd:"button";return s.jsx(o,{className:ne(q1({variant:t,size:r,className:e})),ref:i,...a})});O.displayName="Button";const Y=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ne("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Y.displayName="Card";const oe=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ne("flex flex-col space-y-1.5 p-6",e),...t}));oe.displayName="CardHeader";const le=h.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:ne("text-2xl font-semibold leading-none tracking-tight",e),...t}));le.displayName="CardTitle";const St=h.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:ne("text-sm text-muted-foreground",e),...t}));St.displayName="CardDescription";const X=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ne("p-6 pt-0",e),...t}));X.displayName="CardContent";const ac=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ne("flex items-center p-6 pt-0",e),...t}));ac.displayName="CardFooter";function wY(e){return Object.prototype.toString.call(e)==="[object Object]"}function Xk(e){return wY(e)||Array.isArray(e)}function jY(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function H1(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const a=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return a!==i?!1:r.every(o=>{const l=e[o],c=t[o];return typeof l=="function"?`${l}`==`${c}`:!Xk(l)||!Xk(c)?l===c:H1(l,c)})}function eE(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function NY(e,t){if(e.length!==t.length)return!1;const r=eE(e),n=eE(t);return r.every((a,i)=>{const o=n[i];return H1(a,o)})}function G1(e){return typeof e=="number"}function Qw(e){return typeof e=="string"}function uv(e){return typeof e=="boolean"}function tE(e){return Object.prototype.toString.call(e)==="[object Object]"}function Wt(e){return Math.abs(e)}function K1(e){return Math.sign(e)}function vf(e,t){return Wt(e-t)}function SY(e,t){if(e===0||t===0||Wt(e)<=Wt(t))return 0;const r=vf(Wt(e),Wt(t));return Wt(r/e)}function CY(e){return Math.round(e*100)/100}function Xf(e){return eh(e).map(Number)}function ra(e){return e[Dh(e)]}function Dh(e){return Math.max(0,e.length-1)}function Y1(e,t){return t===Dh(e)}function rE(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function eh(e){return Object.keys(e)}function RI(e,t){return[e,t].reduce((r,n)=>(eh(n).forEach(a=>{const i=r[a],o=n[a],l=tE(i)&&tE(o);r[a]=l?RI(i,o):o}),r),{})}function Jw(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function _Y(e,t){const r={start:n,center:a,end:i};function n(){return 0}function a(c){return i(c)/2}function i(c){return t-c}function o(c,d){return Qw(e)?r[e](c):e(t,c,d)}return{measure:o}}function th(){let e=[];function t(a,i,o,l={passive:!0}){let c;if("addEventListener"in a)a.addEventListener(i,o,l),c=()=>a.removeEventListener(i,o,l);else{const d=a;d.addListener(o),c=()=>d.removeListener(o)}return e.push(c),n}function r(){e=e.filter(a=>a())}const n={add:t,clear:r};return n}function kY(e,t,r,n){const a=th(),i=1e3/60;let o=null,l=0,c=0;function d(){a.add(e,"visibilitychange",()=>{e.hidden&&x()})}function u(){p(),a.clear()}function f(w){if(!c)return;o||(o=w,r(),r());const y=w-o;for(o=w,l+=y;l>=i;)r(),l-=i;const v=l/i;n(v),c&&(c=t.requestAnimationFrame(f))}function m(){c||(c=t.requestAnimationFrame(f))}function p(){t.cancelAnimationFrame(c),o=null,l=0,c=0}function x(){o=null,l=0}return{init:d,destroy:u,start:m,stop:p,update:r,render:n}}function EY(e,t){const r=t==="rtl",n=e==="y",a=n?"y":"x",i=n?"x":"y",o=!n&&r?-1:1,l=u(),c=f();function d(x){const{height:g,width:w}=x;return n?g:w}function u(){return n?"top":r?"right":"left"}function f(){return n?"bottom":r?"left":"right"}function m(x){return x*o}return{scroll:a,cross:i,startEdge:l,endEdge:c,measureSize:d,direction:m}}function Vl(e=0,t=0){const r=Wt(e-t);function n(d){return d<e}function a(d){return d>t}function i(d){return n(d)||a(d)}function o(d){return i(d)?n(d)?e:t:d}function l(d){return r?d-r*Math.ceil((d-t)/r):d}return{length:r,max:t,min:e,constrain:o,reachedAny:i,reachedMax:a,reachedMin:n,removeOffset:l}}function DI(e,t,r){const{constrain:n}=Vl(0,e),a=e+1;let i=o(t);function o(m){return r?Wt((a+m)%a):n(m)}function l(){return i}function c(m){return i=o(m),f}function d(m){return u().set(l()+m)}function u(){return DI(e,l(),r)}const f={get:l,set:c,add:d,clone:u};return f}function PY(e,t,r,n,a,i,o,l,c,d,u,f,m,p,x,g,w,y,v){const{cross:b,direction:j}=e,N=["INPUT","SELECT","TEXTAREA"],S={passive:!1},C=th(),k=th(),A=Vl(50,225).constrain(p.measure(20)),P={mouse:300,touch:400},_={mouse:500,touch:600},E=x?43:25;let M=!1,R=0,T=0,B=!1,K=!1,z=!1,V=!1;function F(I){if(!v)return;function ie(pe){(uv(v)||v(I,pe))&&ee(pe)}const Z=t;C.add(Z,"dragstart",pe=>pe.preventDefault(),S).add(Z,"touchmove",()=>{},S).add(Z,"touchend",()=>{}).add(Z,"touchstart",ie).add(Z,"mousedown",ie).add(Z,"touchcancel",ce).add(Z,"contextmenu",ce).add(Z,"click",H,!0)}function W(){C.clear(),k.clear()}function D(){const I=V?r:t;k.add(I,"touchmove",G,S).add(I,"touchend",ce).add(I,"mousemove",G,S).add(I,"mouseup",ce)}function L(I){const ie=I.nodeName||"";return N.includes(ie)}function J(){return(x?_:P)[V?"mouse":"touch"]}function U(I,ie){const Z=f.add(K1(I)*-1),pe=u.byDistance(I,!x).distance;return x||Wt(I)<A?pe:w&&ie?pe*.5:u.byIndex(Z.get(),0).distance}function ee(I){const ie=Jw(I,n);V=ie,z=x&&ie&&!I.buttons&&M,M=vf(a.get(),o.get())>=2,!(ie&&I.button!==0)&&(L(I.target)||(B=!0,i.pointerDown(I),d.useFriction(0).useDuration(0),a.set(o),D(),R=i.readPoint(I),T=i.readPoint(I,b),m.emit("pointerDown")))}function G(I){if(!Jw(I,n)&&I.touches.length>=2)return ce(I);const Z=i.readPoint(I),pe=i.readPoint(I,b),xe=vf(Z,R),be=vf(pe,T);if(!K&&!V&&(!I.cancelable||(K=xe>be,!K)))return ce(I);const ke=i.pointerMove(I);xe>g&&(z=!0),d.useFriction(.3).useDuration(.75),l.start(),a.add(j(ke)),I.preventDefault()}function ce(I){const Z=u.byDistance(0,!1).index!==f.get(),pe=i.pointerUp(I)*J(),xe=U(j(pe),Z),be=SY(pe,xe),ke=E-10*be,ve=y+be/50;K=!1,B=!1,k.clear(),d.useDuration(ke).useFriction(ve),c.distance(xe,!x),V=!1,m.emit("pointerUp")}function H(I){z&&(I.stopPropagation(),I.preventDefault(),z=!1)}function q(){return B}return{init:F,destroy:W,pointerDown:q}}function AY(e,t){let n,a;function i(f){return f.timeStamp}function o(f,m){const x=`client${(m||e.scroll)==="x"?"X":"Y"}`;return(Jw(f,t)?f:f.touches[0])[x]}function l(f){return n=f,a=f,o(f)}function c(f){const m=o(f)-o(a),p=i(f)-i(n)>170;return a=f,p&&(n=f),m}function d(f){if(!n||!a)return 0;const m=o(a)-o(n),p=i(f)-i(n),x=i(f)-i(a)>170,g=m/p;return p&&!x&&Wt(g)>.1?g:0}return{pointerDown:l,pointerMove:c,pointerUp:d,readPoint:o}}function TY(){function e(r){const{offsetTop:n,offsetLeft:a,offsetWidth:i,offsetHeight:o}=r;return{top:n,right:a+i,bottom:n+o,left:a,width:i,height:o}}return{measure:e}}function OY(e){function t(n){return e*(n/100)}return{measure:t}}function RY(e,t,r,n,a,i,o){const l=[e].concat(n);let c,d,u=[],f=!1;function m(w){return a.measureSize(o.measure(w))}function p(w){if(!i)return;d=m(e),u=n.map(m);function y(v){for(const b of v){if(f)return;const j=b.target===e,N=n.indexOf(b.target),S=j?d:u[N],C=m(j?e:n[N]);if(Wt(C-S)>=.5){w.reInit(),t.emit("resize");break}}}c=new ResizeObserver(v=>{(uv(i)||i(w,v))&&y(v)}),r.requestAnimationFrame(()=>{l.forEach(v=>c.observe(v))})}function x(){f=!0,c&&c.disconnect()}return{init:p,destroy:x}}function DY(e,t,r,n,a,i){let o=0,l=0,c=a,d=i,u=e.get(),f=0;function m(){const S=n.get()-e.get(),C=!c;let k=0;return C?(o=0,r.set(n),e.set(n),k=S):(r.set(e),o+=S/c,o*=d,u+=o,e.add(o),k=u-f),l=K1(k),f=u,N}function p(){const S=n.get()-t.get();return Wt(S)<.001}function x(){return c}function g(){return l}function w(){return o}function y(){return b(a)}function v(){return j(i)}function b(S){return c=S,N}function j(S){return d=S,N}const N={direction:g,duration:x,velocity:w,seek:m,settled:p,useBaseFriction:v,useBaseDuration:y,useFriction:j,useDuration:b};return N}function IY(e,t,r,n,a){const i=a.measure(10),o=a.measure(50),l=Vl(.1,.99);let c=!1;function d(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function u(p){if(!d())return;const x=e.reachedMin(t.get())?"min":"max",g=Wt(e[x]-t.get()),w=r.get()-t.get(),y=l.constrain(g/o);r.subtract(w*y),!p&&Wt(w)<i&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function f(p){c=!p}return{shouldConstrain:d,constrain:u,toggleActive:f}}function MY(e,t,r,n,a){const i=Vl(-t+e,0),o=f(),l=u(),c=m();function d(x,g){return vf(x,g)<=1}function u(){const x=o[0],g=ra(o),w=o.lastIndexOf(x),y=o.indexOf(g)+1;return Vl(w,y)}function f(){return r.map((x,g)=>{const{min:w,max:y}=i,v=i.constrain(x),b=!g,j=Y1(r,g);return b?y:j||d(w,v)?w:d(y,v)?y:v}).map(x=>parseFloat(x.toFixed(3)))}function m(){if(t<=e+a)return[i.max];if(n==="keepSnaps")return o;const{min:x,max:g}=l;return o.slice(x,g)}return{snapsContained:c,scrollContainLimit:l}}function LY(e,t,r){const n=t[0],a=r?n-e:ra(t);return{limit:Vl(a,n)}}function $Y(e,t,r,n){const i=t.min+.1,o=t.max+.1,{reachedMin:l,reachedMax:c}=Vl(i,o);function d(m){return m===1?c(r.get()):m===-1?l(r.get()):!1}function u(m){if(!d(m))return;const p=e*(m*-1);n.forEach(x=>x.add(p))}return{loop:u}}function FY(e){const{max:t,length:r}=e;function n(i){const o=i-t;return r?o/-r:0}return{get:n}}function UY(e,t,r,n,a){const{startEdge:i,endEdge:o}=e,{groupSlides:l}=a,c=f().map(t.measure),d=m(),u=p();function f(){return l(n).map(g=>ra(g)[o]-g[0][i]).map(Wt)}function m(){return n.map(g=>r[i]-g[i]).map(g=>-Wt(g))}function p(){return l(d).map(g=>g[0]).map((g,w)=>g+c[w])}return{snaps:d,snapsAligned:u}}function BY(e,t,r,n,a,i){const{groupSlides:o}=a,{min:l,max:c}=n,d=u();function u(){const m=o(i),p=!e||t==="keepSnaps";return r.length===1?[i]:p?m:m.slice(l,c).map((x,g,w)=>{const y=!g,v=Y1(w,g);if(y){const b=ra(w[0])+1;return rE(b)}if(v){const b=Dh(i)-ra(w)[0]+1;return rE(b,ra(w)[0])}return x})}return{slideRegistry:d}}function zY(e,t,r,n,a){const{reachedAny:i,removeOffset:o,constrain:l}=n;function c(x){return x.concat().sort((g,w)=>Wt(g)-Wt(w))[0]}function d(x){const g=e?o(x):l(x),w=t.map((v,b)=>({diff:u(v-g,0),index:b})).sort((v,b)=>Wt(v.diff)-Wt(b.diff)),{index:y}=w[0];return{index:y,distance:g}}function u(x,g){const w=[x,x+r,x-r];if(!e)return x;if(!g)return c(w);const y=w.filter(v=>K1(v)===g);return y.length?c(y):ra(w)-r}function f(x,g){const w=t[x]-a.get(),y=u(w,g);return{index:x,distance:y}}function m(x,g){const w=a.get()+x,{index:y,distance:v}=d(w),b=!e&&i(w);if(!g||b)return{index:y,distance:x};const j=t[y]-v,N=x+u(j,0);return{index:y,distance:N}}return{byDistance:m,byIndex:f,shortcut:u}}function VY(e,t,r,n,a,i,o){function l(f){const m=f.distance,p=f.index!==t.get();i.add(m),m&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),p&&(r.set(t.get()),t.set(f.index),o.emit("select"))}function c(f,m){const p=a.byDistance(f,m);l(p)}function d(f,m){const p=t.clone().set(f),x=a.byIndex(p.get(),m);l(x)}return{distance:c,index:d}}function WY(e,t,r,n,a,i,o,l){const c={passive:!0,capture:!0};let d=0;function u(p){if(!l)return;function x(g){if(new Date().getTime()-d>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;const v=r.findIndex(b=>b.includes(g));G1(v)&&(a.useDuration(0),n.index(v,0),o.emit("slideFocus"))}i.add(document,"keydown",f,!1),t.forEach((g,w)=>{i.add(g,"focus",y=>{(uv(l)||l(p,y))&&x(w)},c)})}function f(p){p.code==="Tab"&&(d=new Date().getTime())}return{init:u}}function ef(e){let t=e;function r(){return t}function n(c){t=o(c)}function a(c){t+=o(c)}function i(c){t-=o(c)}function o(c){return G1(c)?c:c.get()}return{get:r,set:n,add:a,subtract:i}}function II(e,t){const r=e.scroll==="x"?o:l,n=t.style;let a=null,i=!1;function o(m){return`translate3d(${m}px,0px,0px)`}function l(m){return`translate3d(0px,${m}px,0px)`}function c(m){if(i)return;const p=CY(e.direction(m));p!==a&&(n.transform=r(p),a=p)}function d(m){i=!m}function u(){i||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:u,to:c,toggleActive:d}}function qY(e,t,r,n,a,i,o,l,c){const u=Xf(a),f=Xf(a).reverse(),m=y().concat(v());function p(C,k){return C.reduce((A,P)=>A-a[P],k)}function x(C,k){return C.reduce((A,P)=>p(A,k)>0?A.concat([P]):A,[])}function g(C){return i.map((k,A)=>({start:k-n[A]+.5+C,end:k+t-.5+C}))}function w(C,k,A){const P=g(k);return C.map(_=>{const E=A?0:-r,M=A?r:0,R=A?"end":"start",T=P[_][R];return{index:_,loopPoint:T,slideLocation:ef(-1),translate:II(e,c[_]),target:()=>l.get()>T?E:M}})}function y(){const C=o[0],k=x(f,C);return w(k,r,!1)}function v(){const C=t-o[0]-1,k=x(u,C);return w(k,-r,!0)}function b(){return m.every(({index:C})=>{const k=u.filter(A=>A!==C);return p(k,t)<=.1})}function j(){m.forEach(C=>{const{target:k,translate:A,slideLocation:P}=C,_=k();_!==P.get()&&(A.to(_),P.set(_))})}function N(){m.forEach(C=>C.translate.clear())}return{canLoop:b,clear:N,loop:j,loopPoints:m}}function HY(e,t,r){let n,a=!1;function i(c){if(!r)return;function d(u){for(const f of u)if(f.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(u=>{a||(uv(r)||r(c,u))&&d(u)}),n.observe(e,{childList:!0})}function o(){n&&n.disconnect(),a=!0}return{init:i,destroy:o}}function GY(e,t,r,n){const a={};let i=null,o=null,l,c=!1;function d(){l=new IntersectionObserver(x=>{c||(x.forEach(g=>{const w=t.indexOf(g.target);a[w]=g}),i=null,o=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(x=>l.observe(x))}function u(){l&&l.disconnect(),c=!0}function f(x){return eh(a).reduce((g,w)=>{const y=parseInt(w),{isIntersecting:v}=a[y];return(x&&v||!x&&!v)&&g.push(y),g},[])}function m(x=!0){if(x&&i)return i;if(!x&&o)return o;const g=f(x);return x&&(i=g),x||(o=g),g}return{init:d,destroy:u,get:m}}function KY(e,t,r,n,a,i){const{measureSize:o,startEdge:l,endEdge:c}=e,d=r[0]&&a,u=x(),f=g(),m=r.map(o),p=w();function x(){if(!d)return 0;const v=r[0];return Wt(t[l]-v[l])}function g(){if(!d)return 0;const v=i.getComputedStyle(ra(n));return parseFloat(v.getPropertyValue(`margin-${c}`))}function w(){return r.map((v,b,j)=>{const N=!b,S=Y1(j,b);return N?m[b]+u:S?m[b]+f:j[b+1][l]-v[l]}).map(Wt)}return{slideSizes:m,slideSizesWithGaps:p,startGap:u,endGap:f}}function YY(e,t,r,n,a,i,o,l,c){const{startEdge:d,endEdge:u,direction:f}=e,m=G1(r);function p(y,v){return Xf(y).filter(b=>b%v===0).map(b=>y.slice(b,b+v))}function x(y){return y.length?Xf(y).reduce((v,b,j)=>{const N=ra(v)||0,S=N===0,C=b===Dh(y),k=a[d]-i[N][d],A=a[d]-i[b][u],P=!n&&S?f(o):0,_=!n&&C?f(l):0,E=Wt(A-_-(k+P));return j&&E>t+c&&v.push(b),C&&v.push(y.length),v},[]).map((v,b,j)=>{const N=Math.max(j[b-1]||0);return y.slice(N,v)}):[]}function g(y){return m?p(y,r):x(y)}return{groupSlides:g}}function QY(e,t,r,n,a,i,o){const{align:l,axis:c,direction:d,startIndex:u,loop:f,duration:m,dragFree:p,dragThreshold:x,inViewThreshold:g,slidesToScroll:w,skipSnaps:y,containScroll:v,watchResize:b,watchSlides:j,watchDrag:N,watchFocus:S}=i,C=2,k=TY(),A=k.measure(t),P=r.map(k.measure),_=EY(c,d),E=_.measureSize(A),M=OY(E),R=_Y(l,E),T=!f&&!!v,B=f||!!v,{slideSizes:K,slideSizesWithGaps:z,startGap:V,endGap:F}=KY(_,A,P,r,B,a),W=YY(_,E,w,f,A,P,V,F,C),{snaps:D,snapsAligned:L}=UY(_,R,A,P,W),J=-ra(D)+ra(z),{snapsContained:U,scrollContainLimit:ee}=MY(E,J,L,v,C),G=T?U:L,{limit:ce}=LY(J,G,f),H=DI(Dh(G),u,f),q=H.clone(),te=Xf(r),I=({dragHandler:mn,scrollBody:Zo,scrollBounds:pc,options:{loop:_i}})=>{_i||pc.constrain(mn.pointerDown()),Zo.seek()},ie=({scrollBody:mn,translate:Zo,location:pc,offsetLocation:_i,previousLocation:ki,scrollLooper:pm,slideLooper:Ei,dragHandler:Hy,animation:Gy,eventHandler:Cu,scrollBounds:gm,options:{loop:xm}},gc)=>{const Is=mn.settled(),Ky=!gm.shouldConstrain(),Me=xm?Is:Is&&Ky,ut=Me&&!Hy.pointerDown();ut&&Gy.stop();const _t=pc.get()*gc+ki.get()*(1-gc);_i.set(_t),xm&&(pm.loop(mn.direction()),Ei.loop()),Zo.to(_i.get()),ut&&Cu.emit("settle"),Me||Cu.emit("scroll")},Z=kY(n,a,()=>I(Ci),mn=>ie(Ci,mn)),pe=.68,xe=G[H.get()],be=ef(xe),ke=ef(xe),ve=ef(xe),Le=ef(xe),ft=DY(be,ve,ke,Le,m,pe),tr=zY(f,G,J,ce,Le),It=VY(Z,H,q,ft,tr,Le,o),rr=FY(ce),An=th(),Ar=GY(t,r,o,g),{slideRegistry:Zn}=BY(T,v,G,ee,W,te),mc=WY(e,r,Zn,It,ft,An,o,S),Ci={ownerDocument:n,ownerWindow:a,eventHandler:o,containerRect:A,slideRects:P,animation:Z,axis:_,dragHandler:PY(_,e,n,a,Le,AY(_,a),be,Z,It,ft,tr,H,o,M,p,x,y,pe,N),eventStore:An,percentOfView:M,index:H,indexPrevious:q,limit:ce,location:be,offsetLocation:ve,previousLocation:ke,options:i,resizeHandler:RY(t,o,a,r,_,b,k),scrollBody:ft,scrollBounds:IY(ce,ve,Le,ft,M),scrollLooper:$Y(J,ce,ve,[be,ve,ke,Le]),scrollProgress:rr,scrollSnapList:G.map(rr.get),scrollSnaps:G,scrollTarget:tr,scrollTo:It,slideLooper:qY(_,E,J,K,z,D,G,ve,r),slideFocus:mc,slidesHandler:HY(t,o,j),slidesInView:Ar,slideIndexes:te,slideRegistry:Zn,slidesToScroll:W,target:Le,translate:II(_,t)};return Ci}function JY(){let e={},t;function r(d){t=d}function n(d){return e[d]||[]}function a(d){return n(d).forEach(u=>u(t,d)),c}function i(d,u){return e[d]=n(d).concat([u]),c}function o(d,u){return e[d]=n(d).filter(f=>f!==u),c}function l(){e={}}const c={init:r,emit:a,off:o,on:i,clear:l};return c}const ZY={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function XY(e){function t(i,o){return RI(i,o||{})}function r(i){const o=i.breakpoints||{},l=eh(o).filter(c=>e.matchMedia(c).matches).map(c=>o[c]).reduce((c,d)=>t(c,d),{});return t(i,l)}function n(i){return i.map(o=>eh(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function eQ(e){let t=[];function r(i,o){return t=o.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(i,e)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(i=>i.destroy())}return{init:r,destroy:n}}function wg(e,t,r){const n=e.ownerDocument,a=n.defaultView,i=XY(a),o=eQ(i),l=th(),c=JY(),{mergeOptions:d,optionsAtMedia:u,optionsMediaQueries:f}=i,{on:m,off:p,emit:x}=c,g=_;let w=!1,y,v=d(ZY,wg.globalOptions),b=d(v),j=[],N,S,C;function k(){const{container:te,slides:I}=b;S=(Qw(te)?e.querySelector(te):te)||e.children[0];const Z=Qw(I)?S.querySelectorAll(I):I;C=[].slice.call(Z||S.children)}function A(te){const I=QY(e,S,C,n,a,te,c);if(te.loop&&!I.slideLooper.canLoop()){const ie=Object.assign({},te,{loop:!1});return A(ie)}return I}function P(te,I){w||(v=d(v,te),b=u(v),j=I||j,k(),y=A(b),f([v,...j.map(({options:ie})=>ie)]).forEach(ie=>l.add(ie,"change",_)),b.active&&(y.translate.to(y.location.get()),y.animation.init(),y.slidesInView.init(),y.slideFocus.init(q),y.eventHandler.init(q),y.resizeHandler.init(q),y.slidesHandler.init(q),y.options.loop&&y.slideLooper.loop(),S.offsetParent&&C.length&&y.dragHandler.init(q),N=o.init(q,j)))}function _(te,I){const ie=W();E(),P(d({startIndex:ie},te),I),c.emit("reInit")}function E(){y.dragHandler.destroy(),y.eventStore.clear(),y.translate.clear(),y.slideLooper.clear(),y.resizeHandler.destroy(),y.slidesHandler.destroy(),y.slidesInView.destroy(),y.animation.destroy(),o.destroy(),l.clear()}function M(){w||(w=!0,l.clear(),E(),c.emit("destroy"),c.clear())}function R(te,I,ie){!b.active||w||(y.scrollBody.useBaseFriction().useDuration(I===!0?0:b.duration),y.scrollTo.index(te,ie||0))}function T(te){const I=y.index.add(1).get();R(I,te,-1)}function B(te){const I=y.index.add(-1).get();R(I,te,1)}function K(){return y.index.add(1).get()!==W()}function z(){return y.index.add(-1).get()!==W()}function V(){return y.scrollSnapList}function F(){return y.scrollProgress.get(y.offsetLocation.get())}function W(){return y.index.get()}function D(){return y.indexPrevious.get()}function L(){return y.slidesInView.get()}function J(){return y.slidesInView.get(!1)}function U(){return N}function ee(){return y}function G(){return e}function ce(){return S}function H(){return C}const q={canScrollNext:K,canScrollPrev:z,containerNode:ce,internalEngine:ee,destroy:M,off:p,on:m,emit:x,plugins:U,previousScrollSnap:D,reInit:g,rootNode:G,scrollNext:T,scrollPrev:B,scrollProgress:F,scrollSnapList:V,scrollTo:R,selectedScrollSnap:W,slideNodes:H,slidesInView:L,slidesNotInView:J};return P(t,r),setTimeout(()=>c.emit("init"),0),q}wg.globalOptions=void 0;function Q1(e={},t=[]){const r=h.useRef(e),n=h.useRef(t),[a,i]=h.useState(),[o,l]=h.useState(),c=h.useCallback(()=>{a&&a.reInit(r.current,n.current)},[a]);return h.useEffect(()=>{H1(r.current,e)||(r.current=e,c())},[e,c]),h.useEffect(()=>{NY(n.current,t)||(n.current=t,c())},[t,c]),h.useEffect(()=>{if(jY()&&o){wg.globalOptions=Q1.globalOptions;const d=wg(o,r.current,n.current);return i(d),()=>d.destroy()}else i(void 0)},[o,i]),[l,a]}Q1.globalOptions=void 0;const MI=h.createContext(null);function fv(){const e=h.useContext(MI);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const LI=h.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:a,children:i,...o},l)=>{const[c,d]=Q1({...t,axis:e==="horizontal"?"x":"y"},n),[u,f]=h.useState(!1),[m,p]=h.useState(!1),x=h.useCallback(v=>{v&&(f(v.canScrollPrev()),p(v.canScrollNext()))},[]),g=h.useCallback(()=>{d==null||d.scrollPrev()},[d]),w=h.useCallback(()=>{d==null||d.scrollNext()},[d]),y=h.useCallback(v=>{v.key==="ArrowLeft"?(v.preventDefault(),g()):v.key==="ArrowRight"&&(v.preventDefault(),w())},[g,w]);return h.useEffect(()=>{!d||!r||r(d)},[d,r]),h.useEffect(()=>{if(d)return x(d),d.on("reInit",x),d.on("select",x),()=>{d==null||d.off("select",x)}},[d,x]),s.jsx(MI.Provider,{value:{carouselRef:c,api:d,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:g,scrollNext:w,canScrollPrev:u,canScrollNext:m},children:s.jsx("div",{ref:l,onKeyDownCapture:y,className:ne("relative",a),role:"region","aria-roledescription":"carousel",...o,children:i})})});LI.displayName="Carousel";const $I=h.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:a}=fv();return s.jsx("div",{ref:n,className:"overflow-hidden",children:s.jsx("div",{ref:r,className:ne("flex",a==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});$I.displayName="CarouselContent";const FI=h.forwardRef(({className:e,...t},r)=>{const{orientation:n}=fv();return s.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:ne("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});FI.displayName="CarouselItem";const tQ=h.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollPrev:o,canScrollPrev:l}=fv();return s.jsxs(O,{ref:a,variant:t,size:r,className:ne("absolute  h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[s.jsx(bd,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Previous slide"})]})});tQ.displayName="CarouselPrevious";const rQ=h.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollNext:o,canScrollNext:l}=fv();return s.jsxs(O,{ref:a,variant:t,size:r,className:ne("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[s.jsx(NW,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Next slide"})]})});rQ.displayName="CarouselNext";/*! Capacitor: https://capacitorjs.com/ - MIT License */var _d;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(_d||(_d={}));class Rb extends Error{constructor(t,r,n){super(t),this.message=t,this.code=r,this.data=n}}const nQ=e=>{var t,r;return e!=null&&e.androidBridge?"android":!((r=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},sQ=e=>{const t=e.CapacitorCustomPlatform||null,r=e.Capacitor||{},n=r.Plugins=r.Plugins||{},a=()=>t!==null?t.name:nQ(e),i=()=>a()!=="web",o=f=>{const m=d.get(f);return!!(m!=null&&m.platforms.has(a())||l(f))},l=f=>{var m;return(m=r.PluginHeaders)===null||m===void 0?void 0:m.find(p=>p.name===f)},c=f=>e.console.error(f),d=new Map,u=(f,m={})=>{const p=d.get(f);if(p)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),p.proxy;const x=a(),g=l(f);let w;const y=async()=>(!w&&x in m?w=typeof m[x]=="function"?w=await m[x]():w=m[x]:t!==null&&!w&&"web"in m&&(w=typeof m.web=="function"?w=await m.web():w=m.web),w),v=(k,A)=>{var P,_;if(g){const E=g==null?void 0:g.methods.find(M=>A===M.name);if(E)return E.rtype==="promise"?M=>r.nativePromise(f,A.toString(),M):(M,R)=>r.nativeCallback(f,A.toString(),M,R);if(k)return(P=k[A])===null||P===void 0?void 0:P.bind(k)}else{if(k)return(_=k[A])===null||_===void 0?void 0:_.bind(k);throw new Rb(`"${f}" plugin is not implemented on ${x}`,_d.Unimplemented)}},b=k=>{let A;const P=(..._)=>{const E=y().then(M=>{const R=v(M,k);if(R){const T=R(..._);return A=T==null?void 0:T.remove,T}else throw new Rb(`"${f}.${k}()" is not implemented on ${x}`,_d.Unimplemented)});return k==="addListener"&&(E.remove=async()=>A()),E};return P.toString=()=>`${k.toString()}() { [capacitor code] }`,Object.defineProperty(P,"name",{value:k,writable:!1,configurable:!1}),P},j=b("addListener"),N=b("removeListener"),S=(k,A)=>{const P=j({eventName:k},A),_=async()=>{const M=await P;N({eventName:k,callbackId:M},A)},E=new Promise(M=>P.then(()=>M({remove:_})));return E.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await _()},E},C=new Proxy({},{get(k,A){switch(A){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return g?S:j;case"removeListener":return N;default:return b(A)}}});return n[f]=C,d.set(f,{name:f,proxy:C,platforms:new Set([...Object.keys(m),...g?[x]:[]])}),C};return r.convertFileSrc||(r.convertFileSrc=f=>f),r.getPlatform=a,r.handleError=c,r.isNativePlatform=i,r.isPluginAvailable=o,r.registerPlugin=u,r.Exception=Rb,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},aQ=e=>e.Capacitor=sQ(e),ko=aQ(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),UI=ko.registerPlugin;class BI{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,r){let n=!1;this.listeners[t]||(this.listeners[t]=[],n=!0),this.listeners[t].push(r);const i=this.windowListeners[t];i&&!i.registered&&this.addWindowListener(i),n&&this.sendRetainedArgumentsForEvent(t);const o=async()=>this.removeListener(t,r);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,r,n){const a=this.listeners[t];if(!a){if(n){let i=this.retainedEventArguments[t];i||(i=[]),i.push(r),this.retainedEventArguments[t]=i}return}a.forEach(i=>i(r))}hasListeners(t){var r;return!!(!((r=this.listeners[t])===null||r===void 0)&&r.length)}registerWindowListener(t,r){this.windowListeners[r]={registered:!1,windowEventName:t,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(t="not implemented"){return new ko.Exception(t,_d.Unimplemented)}unavailable(t="not available"){return new ko.Exception(t,_d.Unavailable)}async removeListener(t,r){const n=this.listeners[t];if(!n)return;const a=n.indexOf(r);this.listeners[t].splice(a,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const r=this.retainedEventArguments[t];r&&(delete this.retainedEventArguments[t],r.forEach(n=>{this.notifyListeners(t,n)}))}}const nE=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),sE=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class iQ extends BI{async getCookies(){const t=document.cookie,r={};return t.split(";").forEach(n=>{if(n.length<=0)return;let[a,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=sE(a).trim(),i=sE(i).trim(),r[a]=i}),r}async setCookie(t){try{const r=nE(t.key),n=nE(t.value),a=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${r}=${n||""}${a}; path=${i}; ${o};`}catch(r){return Promise.reject(r)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const r of t)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}UI("CapacitorCookies",{web:()=>new iQ});const oQ=async e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{const a=n.result;t(a.indexOf(",")>=0?a.split(",")[1]:a)},n.onerror=a=>r(a),n.readAsDataURL(e)}),lQ=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(a=>a.toLocaleLowerCase()).reduce((a,i,o)=>(a[i]=e[t[o]],a),{})},cQ=(e,t=!0)=>e?Object.entries(e).reduce((n,a)=>{const[i,o]=a;let l,c;return Array.isArray(o)?(c="",o.forEach(d=>{l=t?encodeURIComponent(d):d,c+=`${i}=${l}&`}),c.slice(0,-1)):(l=t?encodeURIComponent(o):o,c=`${i}=${l}`),`${n}&${c}`},"").substr(1):null,dQ=(e,t={})=>{const r=Object.assign({method:e.method||"GET",headers:e.headers},t),a=lQ(e.headers)["content-type"]||"";if(typeof e.data=="string")r.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,l]of Object.entries(e.data||{}))i.set(o,l);r.body=i.toString()}else if(a.includes("multipart/form-data")||e.data instanceof FormData){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((l,c)=>{i.append(c,l)});else for(const l of Object.keys(e.data))i.append(l,e.data[l]);r.body=i;const o=new Headers(r.headers);o.delete("content-type"),r.headers=o}else(a.includes("application/json")||typeof e.data=="object")&&(r.body=JSON.stringify(e.data));return r};class uQ extends BI{async request(t){const r=dQ(t,t.webFetchExtra),n=cQ(t.params,t.shouldEncodeUrlParams),a=n?`${t.url}?${n}`:t.url,i=await fetch(a,r),o=i.headers.get("content-type")||"";let{responseType:l="text"}=i.ok?t:{};o.includes("application/json")&&(l="json");let c,d;switch(l){case"arraybuffer":case"blob":d=await i.blob(),c=await oQ(d);break;case"json":c=await i.json();break;case"document":case"text":default:c=await i.text()}const u={};return i.headers.forEach((f,m)=>{u[m]=f}),{data:c,headers:u,status:i.status,url:i.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}UI("CapacitorHttp",{web:()=>new uQ});var zI={exports:{}},VI={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kd=h;function fQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hQ=typeof Object.is=="function"?Object.is:fQ,mQ=kd.useState,pQ=kd.useEffect,gQ=kd.useLayoutEffect,xQ=kd.useDebugValue;function vQ(e,t){var r=t(),n=mQ({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return gQ(function(){a.value=r,a.getSnapshot=t,Db(a)&&i({inst:a})},[e,r,t]),pQ(function(){return Db(a)&&i({inst:a}),e(function(){Db(a)&&i({inst:a})})},[e]),xQ(r),r}function Db(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!hQ(e,r)}catch{return!0}}function yQ(e,t){return t()}var bQ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?yQ:vQ;VI.useSyncExternalStore=kd.useSyncExternalStore!==void 0?kd.useSyncExternalStore:bQ;zI.exports=VI;var WI=zI.exports;function wQ(){return WI.useSyncExternalStore(jQ,()=>!0,()=>!1)}function jQ(){return()=>{}}var J1="Avatar",[NQ,CNe]=ur(J1),[SQ,qI]=NQ(J1),HI=h.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=h.useState("idle");return s.jsx(SQ,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(we.span,{...n,ref:t})})});HI.displayName=J1;var GI="AvatarImage",KI=h.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=qI(GI,r),l=CQ(n,i),c=zt(d=>{a(d),o.onImageLoadingStatusChange(d)});return Ft(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(we.img,{...i,ref:t,src:n}):null});KI.displayName=GI;var YI="AvatarFallback",QI=h.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=qI(YI,r),[o,l]=h.useState(n===void 0);return h.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(we.span,{...a,ref:t}):null});QI.displayName=YI;function aE(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function CQ(e,{referrerPolicy:t,crossOrigin:r}){const n=wQ(),a=h.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=h.useState(()=>aE(i,e));return Ft(()=>{l(aE(i,e))},[i,e]),Ft(()=>{const c=f=>()=>{l(f)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,r,t]),o}var JI=HI,ZI=KI,XI=QI;const Z1=h.forwardRef(({className:e,...t},r)=>s.jsx(JI,{ref:r,className:ne("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Z1.displayName=JI.displayName;const X1=h.forwardRef(({className:e,...t},r)=>s.jsx(ZI,{ref:r,className:ne("aspect-square h-full w-full",e),...t}));X1.displayName=ZI.displayName;const eS=h.forwardRef(({className:e,...t},r)=>s.jsx(XI,{ref:r,className:ne("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));eS.displayName=XI.displayName;var _Q=h.createContext(void 0);function ic(e){const t=h.useContext(_Q);return e||t||"ltr"}var Ib=0;function hv(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??iE()),document.body.insertAdjacentElement("beforeend",e[1]??iE()),Ib++,()=>{Ib===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ib--}},[])}function iE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Mb="focusScope.autoFocusOnMount",Lb="focusScope.autoFocusOnUnmount",oE={bubbles:!1,cancelable:!0},kQ="FocusScope",Ih=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=h.useState(null),d=zt(a),u=zt(i),f=h.useRef(null),m=De(t,g=>c(g)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let g=function(b){if(p.paused||!l)return;const j=b.target;l.contains(j)?f.current=j:Fi(f.current,{select:!0})},w=function(b){if(p.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||Fi(f.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&Fi(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),v.disconnect()}}},[n,l,p.paused]),h.useEffect(()=>{if(l){cE.add(p);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(Mb,oE);l.addEventListener(Mb,d),l.dispatchEvent(y),y.defaultPrevented||(EQ(RQ(eM(l)),{select:!0}),document.activeElement===g&&Fi(l))}return()=>{l.removeEventListener(Mb,d),setTimeout(()=>{const y=new CustomEvent(Lb,oE);l.addEventListener(Lb,u),l.dispatchEvent(y),y.defaultPrevented||Fi(g??document.body,{select:!0}),l.removeEventListener(Lb,u),cE.remove(p)},0)}}},[l,d,u,p]);const x=h.useCallback(g=>{if(!r&&!n||p.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(w&&y){const v=g.currentTarget,[b,j]=PQ(v);b&&j?!g.shiftKey&&y===j?(g.preventDefault(),r&&Fi(b,{select:!0})):g.shiftKey&&y===b&&(g.preventDefault(),r&&Fi(j,{select:!0})):y===v&&g.preventDefault()}},[r,n,p.paused]);return s.jsx(we.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});Ih.displayName=kQ;function EQ(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Fi(n,{select:t}),document.activeElement!==r)return}function PQ(e){const t=eM(e),r=lE(t,e),n=lE(t.reverse(),e);return[r,n]}function eM(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function lE(e,t){for(const r of e)if(!AQ(r,{upTo:t}))return r}function AQ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function TQ(e){return e instanceof HTMLInputElement&&"select"in e}function Fi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&TQ(e)&&t&&e.select()}}var cE=OQ();function OQ(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=dE(e,t),e.unshift(t)},remove(t){var r;e=dE(e,t),(r=e[0])==null||r.resume()}}}function dE(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function RQ(e){return e.filter(t=>t.tagName!=="A")}var $b="rovingFocusGroup.onEntryFocus",DQ={bubbles:!1,cancelable:!0},Mh="RovingFocusGroup",[Zw,tM,IQ]=Xd(Mh),[MQ,rM]=ur(Mh,[IQ]),[LQ,$Q]=MQ(Mh),nM=h.forwardRef((e,t)=>s.jsx(Zw.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Zw.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(FQ,{...e,ref:t})})}));nM.displayName=Mh;var FQ=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,m=h.useRef(null),p=De(t,m),x=ic(i),[g,w]=cn({prop:o,defaultProp:l??null,onChange:c,caller:Mh}),[y,v]=h.useState(!1),b=zt(d),j=tM(r),N=h.useRef(!1),[S,C]=h.useState(0);return h.useEffect(()=>{const k=m.current;if(k)return k.addEventListener($b,b),()=>k.removeEventListener($b,b)},[b]),s.jsx(LQ,{scope:r,orientation:n,dir:x,loop:a,currentTabStopId:g,onItemFocus:h.useCallback(k=>w(k),[w]),onItemShiftTab:h.useCallback(()=>v(!0),[]),onFocusableItemAdd:h.useCallback(()=>C(k=>k+1),[]),onFocusableItemRemove:h.useCallback(()=>C(k=>k-1),[]),children:s.jsx(we.div,{tabIndex:y||S===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:ge(e.onMouseDown,()=>{N.current=!0}),onFocus:ge(e.onFocus,k=>{const A=!N.current;if(k.target===k.currentTarget&&A&&!y){const P=new CustomEvent($b,DQ);if(k.currentTarget.dispatchEvent(P),!P.defaultPrevented){const _=j().filter(B=>B.focusable),E=_.find(B=>B.active),M=_.find(B=>B.id===g),T=[E,M,..._].filter(Boolean).map(B=>B.ref.current);iM(T,u)}}N.current=!1}),onBlur:ge(e.onBlur,()=>v(!1))})})}),sM="RovingFocusGroupItem",aM=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=sr(),d=i||c,u=$Q(sM,r),f=u.currentTabStopId===d,m=tM(r),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:g}=u;return h.useEffect(()=>{if(n)return p(),()=>x()},[n,p,x]),s.jsx(Zw.ItemSlot,{scope:r,id:d,focusable:n,active:a,children:s.jsx(we.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:ge(e.onMouseDown,w=>{n?u.onItemFocus(d):w.preventDefault()}),onFocus:ge(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:ge(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=zQ(w,u.orientation,u.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let b=m().filter(j=>j.focusable).map(j=>j.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const j=b.indexOf(w.currentTarget);b=u.loop?VQ(b,j+1):b.slice(j+1)}setTimeout(()=>iM(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});aM.displayName=sM;var UQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function BQ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function zQ(e,t,r){const n=BQ(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return UQ[n]}function iM(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function VQ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var WQ=nM,qQ=aM,HQ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},vc=new WeakMap,Bm=new WeakMap,zm={},Fb=0,oM=function(e){return e&&(e.host||oM(e.parentNode))},GQ=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=oM(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},KQ=function(e,t,r,n){var a=GQ(t,Array.isArray(e)?e:[e]);zm[r]||(zm[r]=new WeakMap);var i=zm[r],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))u(m);else try{var p=m.getAttribute(n),x=p!==null&&p!=="false",g=(vc.get(m)||0)+1,w=(i.get(m)||0)+1;vc.set(m,g),i.set(m,w),o.push(m),g===1&&x&&Bm.set(m,!0),w===1&&m.setAttribute(r,"true"),x||m.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return u(t),l.clear(),Fb++,function(){o.forEach(function(f){var m=vc.get(f)-1,p=i.get(f)-1;vc.set(f,m),i.set(f,p),m||(Bm.has(f)||f.removeAttribute(n),Bm.delete(f)),p||f.removeAttribute(r)}),Fb--,Fb||(vc=new WeakMap,vc=new WeakMap,Bm=new WeakMap,zm={})}},mv=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=HQ(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),KQ(n,a,r,"aria-hidden")):function(){return null}},ja=function(){return ja=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ja.apply(this,arguments)};function lM(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function YQ(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Tp="right-scroll-bar-position",Op="width-before-scroll-bar",QQ="with-scroll-bars-hidden",JQ="--removed-body-scroll-bar-size";function Ub(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ZQ(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var XQ=typeof window<"u"?h.useLayoutEffect:h.useEffect,uE=new WeakMap;function eJ(e,t){var r=ZQ(null,function(n){return e.forEach(function(a){return Ub(a,n)})});return XQ(function(){var n=uE.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Ub(l,null)}),i.forEach(function(l){a.has(l)||Ub(l,o)})}uE.set(r,e)},[e]),r}function tJ(e){return e}function rJ(e,t){t===void 0&&(t=tJ);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function nJ(e){e===void 0&&(e={});var t=rJ(null);return t.options=ja({async:!0,ssr:!1},e),t}var cM=function(e){var t=e.sideCar,r=lM(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,ja({},r))};cM.isSideCarExport=!0;function sJ(e,t){return e.useMedium(t),cM}var dM=nJ(),Bb=function(){},pv=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:Bb,onWheelCapture:Bb,onTouchMoveCapture:Bb}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,x=e.noIsolation,g=e.inert,w=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,b=e.gapMode,j=lM(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,S=eJ([r,t]),C=ja(ja({},j),a);return h.createElement(h.Fragment,null,u&&h.createElement(N,{sideCar:dM,removeScrollBar:d,shards:f,noRelative:p,noIsolation:x,inert:g,setCallbacks:i,allowPinchZoom:!!w,lockRef:r,gapMode:b}),o?h.cloneElement(h.Children.only(l),ja(ja({},C),{ref:S})):h.createElement(v,ja({},C,{className:c,ref:S}),l))});pv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pv.classNames={fullWidth:Op,zeroRight:Tp};var aJ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iJ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=aJ();return t&&e.setAttribute("nonce",t),e}function oJ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function lJ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var cJ=function(){var e=0,t=null;return{add:function(r){e==0&&(t=iJ())&&(oJ(t,r),lJ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},dJ=function(){var e=cJ();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},uM=function(){var e=dJ(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},uJ={left:0,top:0,right:0,gap:0},zb=function(e){return parseInt(e||"",10)||0},fJ=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[zb(r),zb(n),zb(a)]},hJ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return uJ;var t=fJ(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},mJ=uM(),td="data-scroll-locked",pJ=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(QQ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(td,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Tp,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Op,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Tp," .").concat(Tp,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Op," .").concat(Op,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(td,`] {
    `).concat(JQ,": ").concat(l,`px;
  }
`)},fE=function(){var e=parseInt(document.body.getAttribute(td)||"0",10);return isFinite(e)?e:0},gJ=function(){h.useEffect(function(){return document.body.setAttribute(td,(fE()+1).toString()),function(){var e=fE()-1;e<=0?document.body.removeAttribute(td):document.body.setAttribute(td,e.toString())}},[])},xJ=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;gJ();var i=h.useMemo(function(){return hJ(a)},[a]);return h.createElement(mJ,{styles:pJ(i,!t,a,r?"":"!important")})},Xw=!1;if(typeof window<"u")try{var Vm=Object.defineProperty({},"passive",{get:function(){return Xw=!0,!0}});window.addEventListener("test",Vm,Vm),window.removeEventListener("test",Vm,Vm)}catch{Xw=!1}var yc=Xw?{passive:!1}:!1,vJ=function(e){return e.tagName==="TEXTAREA"},fM=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!vJ(e)&&r[t]==="visible")},yJ=function(e){return fM(e,"overflowY")},bJ=function(e){return fM(e,"overflowX")},hE=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=hM(e,n);if(a){var i=mM(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},wJ=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},jJ=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},hM=function(e,t){return e==="v"?yJ(t):bJ(t)},mM=function(e,t){return e==="v"?wJ(t):jJ(t)},NJ=function(e,t){return e==="h"&&t==="rtl"?-1:1},SJ=function(e,t,r,n,a){var i=NJ(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,m=0;do{if(!l)break;var p=mM(e,l),x=p[0],g=p[1],w=p[2],y=g-w-i*x;(x||y)&&hM(e,l)&&(f+=y,m+=x);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!a)||!u&&(Math.abs(m)<1||!a))&&(d=!0),d},Wm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mE=function(e){return[e.deltaX,e.deltaY]},pE=function(e){return e&&"current"in e?e.current:e},CJ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},_J=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},kJ=0,bc=[];function EJ(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),a=h.useState(kJ++)[0],i=h.useState(uM)[0],o=h.useRef(e);h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=YQ([e.lockRef.current],(e.shards||[]).map(pE),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=Wm(g),v=r.current,b="deltaX"in g?g.deltaX:v[0]-y[0],j="deltaY"in g?g.deltaY:v[1]-y[1],N,S=g.target,C=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in g&&C==="h"&&S.type==="range")return!1;var k=hE(C,S);if(!k)return!0;if(k?N=C:(N=C==="v"?"h":"v",k=hE(C,S)),!k)return!1;if(!n.current&&"changedTouches"in g&&(b||j)&&(n.current=N),!N)return!0;var A=n.current||N;return SJ(A,w,g,A==="h"?b:j,!0)},[]),c=h.useCallback(function(g){var w=g;if(!(!bc.length||bc[bc.length-1]!==i)){var y="deltaY"in w?mE(w):Wm(w),v=t.current.filter(function(N){return N.name===w.type&&(N.target===w.target||w.target===N.shadowParent)&&CJ(N.delta,y)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(pE).filter(Boolean).filter(function(N){return N.contains(w.target)}),j=b.length>0?l(w,b[0]):!o.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),d=h.useCallback(function(g,w,y,v){var b={name:g,delta:w,target:y,should:v,shadowParent:PJ(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),u=h.useCallback(function(g){r.current=Wm(g),n.current=void 0},[]),f=h.useCallback(function(g){d(g.type,mE(g),g.target,l(g,e.lockRef.current))},[]),m=h.useCallback(function(g){d(g.type,Wm(g),g.target,l(g,e.lockRef.current))},[]);h.useEffect(function(){return bc.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,yc),document.addEventListener("touchmove",c,yc),document.addEventListener("touchstart",u,yc),function(){bc=bc.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,yc),document.removeEventListener("touchmove",c,yc),document.removeEventListener("touchstart",u,yc)}},[]);var p=e.removeScrollBar,x=e.inert;return h.createElement(h.Fragment,null,x?h.createElement(i,{styles:_J(a)}):null,p?h.createElement(xJ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function PJ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const AJ=sJ(dM,EJ);var Lh=h.forwardRef(function(e,t){return h.createElement(pv,ja({},e,{ref:t,sideCar:AJ}))});Lh.classNames=pv.classNames;var ej=["Enter"," "],TJ=["ArrowDown","PageUp","Home"],pM=["ArrowUp","PageDown","End"],OJ=[...TJ,...pM],RJ={ltr:[...ej,"ArrowRight"],rtl:[...ej,"ArrowLeft"]},DJ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$h="Menu",[rh,IJ,MJ]=Xd($h),[oc,gM]=ur($h,[MJ,$o,rM]),gv=$o(),xM=rM(),[LJ,lc]=oc($h),[$J,Fh]=oc($h),vM=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=gv(t),[c,d]=h.useState(null),u=h.useRef(!1),f=zt(i),m=ic(a);return h.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),s.jsx(ev,{...l,children:s.jsx(LJ,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:d,children:s.jsx($J,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:m,modal:o,children:n})})})};vM.displayName=$h;var FJ="MenuAnchor",tS=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=gv(r);return s.jsx(Th,{...a,...n,ref:t})});tS.displayName=FJ;var rS="MenuPortal",[UJ,yM]=oc(rS,{forceMount:void 0}),bM=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=lc(rS,t);return s.jsx(UJ,{scope:t,forceMount:r,children:s.jsx(kr,{present:r||i.open,children:s.jsx(eu,{asChild:!0,container:a,children:n})})})};bM.displayName=rS;var fs="MenuContent",[BJ,nS]=oc(fs),wM=h.forwardRef((e,t)=>{const r=yM(fs,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=lc(fs,e.__scopeMenu),o=Fh(fs,e.__scopeMenu);return s.jsx(rh.Provider,{scope:e.__scopeMenu,children:s.jsx(kr,{present:n||i.open,children:s.jsx(rh.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(zJ,{...a,ref:t}):s.jsx(VJ,{...a,ref:t})})})})}),zJ=h.forwardRef((e,t)=>{const r=lc(fs,e.__scopeMenu),n=h.useRef(null),a=De(t,n);return h.useEffect(()=>{const i=n.current;if(i)return mv(i)},[]),s.jsx(sS,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ge(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),VJ=h.forwardRef((e,t)=>{const r=lc(fs,e.__scopeMenu);return s.jsx(sS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),WJ=jo("MenuContent.ScrollLock"),sS=h.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:x,...g}=e,w=lc(fs,r),y=Fh(fs,r),v=gv(r),b=xM(r),j=IJ(r),[N,S]=h.useState(null),C=h.useRef(null),k=De(t,C,w.onContentChange),A=h.useRef(0),P=h.useRef(""),_=h.useRef(0),E=h.useRef(null),M=h.useRef("right"),R=h.useRef(0),T=x?Lh:h.Fragment,B=x?{as:WJ,allowPinchZoom:!0}:void 0,K=V=>{var G,ce;const F=P.current+V,W=j().filter(H=>!H.disabled),D=document.activeElement,L=(G=W.find(H=>H.ref.current===D))==null?void 0:G.textValue,J=W.map(H=>H.textValue),U=rZ(J,F,L),ee=(ce=W.find(H=>H.textValue===U))==null?void 0:ce.ref.current;(function H(q){P.current=q,window.clearTimeout(A.current),q!==""&&(A.current=window.setTimeout(()=>H(""),1e3))})(F),ee&&setTimeout(()=>ee.focus())};h.useEffect(()=>()=>window.clearTimeout(A.current),[]),hv();const z=h.useCallback(V=>{var W,D;return M.current===((W=E.current)==null?void 0:W.side)&&sZ(V,(D=E.current)==null?void 0:D.area)},[]);return s.jsx(BJ,{scope:r,searchRef:P,onItemEnter:h.useCallback(V=>{z(V)&&V.preventDefault()},[z]),onItemLeave:h.useCallback(V=>{var F;z(V)||((F=C.current)==null||F.focus(),S(null))},[z]),onTriggerLeave:h.useCallback(V=>{z(V)&&V.preventDefault()},[z]),pointerGraceTimerRef:_,onPointerGraceIntentChange:h.useCallback(V=>{E.current=V},[]),children:s.jsx(T,{...B,children:s.jsx(Ih,{asChild:!0,trapped:a,onMountAutoFocus:ge(i,V=>{var F;V.preventDefault(),(F=C.current)==null||F.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(rc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:s.jsx(WQ,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:S,onEntryFocus:ge(c,V=>{y.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(tv,{role:"menu","aria-orientation":"vertical","data-state":LM(w.open),"data-radix-menu-content":"",dir:y.dir,...v,...g,ref:k,style:{outline:"none",...g.style},onKeyDown:ge(g.onKeyDown,V=>{const W=V.target.closest("[data-radix-menu-content]")===V.currentTarget,D=V.ctrlKey||V.altKey||V.metaKey,L=V.key.length===1;W&&(V.key==="Tab"&&V.preventDefault(),!D&&L&&K(V.key));const J=C.current;if(V.target!==J||!OJ.includes(V.key))return;V.preventDefault();const ee=j().filter(G=>!G.disabled).map(G=>G.ref.current);pM.includes(V.key)&&ee.reverse(),eZ(ee)}),onBlur:ge(e.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(A.current),P.current="")}),onPointerMove:ge(e.onPointerMove,nh(V=>{const F=V.target,W=R.current!==V.clientX;if(V.currentTarget.contains(F)&&W){const D=V.clientX>R.current?"right":"left";M.current=D,R.current=V.clientX}}))})})})})})})});wM.displayName=fs;var qJ="MenuGroup",aS=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(we.div,{role:"group",...n,ref:t})});aS.displayName=qJ;var HJ="MenuLabel",jM=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(we.div,{...n,ref:t})});jM.displayName=HJ;var jg="MenuItem",gE="menu.itemSelect",xv=h.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=h.useRef(null),o=Fh(jg,e.__scopeMenu),l=nS(jg,e.__scopeMenu),c=De(t,i),d=h.useRef(!1),u=()=>{const f=i.current;if(!r&&f){const m=new CustomEvent(gE,{bubbles:!0,cancelable:!0});f.addEventListener(gE,p=>n==null?void 0:n(p),{once:!0}),y1(f,m),m.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(NM,{...a,ref:c,disabled:r,onClick:ge(e.onClick,u),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),d.current=!0},onPointerUp:ge(e.onPointerUp,f=>{var m;d.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:ge(e.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||ej.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});xv.displayName=jg;var NM=h.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=nS(jg,r),l=xM(r),c=h.useRef(null),d=De(t,c),[u,f]=h.useState(!1),[m,p]=h.useState("");return h.useEffect(()=>{const x=c.current;x&&p((x.textContent??"").trim())},[i.children]),s.jsx(rh.ItemSlot,{scope:r,disabled:n,textValue:a??m,children:s.jsx(qQ,{asChild:!0,...l,focusable:!n,children:s.jsx(we.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:d,onPointerMove:ge(e.onPointerMove,nh(x=>{n?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ge(e.onPointerLeave,nh(x=>o.onItemLeave(x))),onFocus:ge(e.onFocus,()=>f(!0)),onBlur:ge(e.onBlur,()=>f(!1))})})})}),GJ="MenuCheckboxItem",SM=h.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(PM,{scope:e.__scopeMenu,checked:r,children:s.jsx(xv,{role:"menuitemcheckbox","aria-checked":Ng(r)?"mixed":r,...a,ref:t,"data-state":oS(r),onSelect:ge(a.onSelect,()=>n==null?void 0:n(Ng(r)?!0:!r),{checkForDefaultPrevented:!1})})})});SM.displayName=GJ;var CM="MenuRadioGroup",[KJ,YJ]=oc(CM,{value:void 0,onValueChange:()=>{}}),_M=h.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=zt(n);return s.jsx(KJ,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(aS,{...a,ref:t})})});_M.displayName=CM;var kM="MenuRadioItem",EM=h.forwardRef((e,t)=>{const{value:r,...n}=e,a=YJ(kM,e.__scopeMenu),i=r===a.value;return s.jsx(PM,{scope:e.__scopeMenu,checked:i,children:s.jsx(xv,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":oS(i),onSelect:ge(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});EM.displayName=kM;var iS="MenuItemIndicator",[PM,QJ]=oc(iS,{checked:!1}),AM=h.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=QJ(iS,r);return s.jsx(kr,{present:n||Ng(i.checked)||i.checked===!0,children:s.jsx(we.span,{...a,ref:t,"data-state":oS(i.checked)})})});AM.displayName=iS;var JJ="MenuSeparator",TM=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(we.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});TM.displayName=JJ;var ZJ="MenuArrow",OM=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=gv(r);return s.jsx(rv,{...a,...n,ref:t})});OM.displayName=ZJ;var XJ="MenuSub",[_Ne,RM]=oc(XJ),tf="MenuSubTrigger",DM=h.forwardRef((e,t)=>{const r=lc(tf,e.__scopeMenu),n=Fh(tf,e.__scopeMenu),a=RM(tf,e.__scopeMenu),i=nS(tf,e.__scopeMenu),o=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=h.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return h.useEffect(()=>u,[u]),h.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(tS,{asChild:!0,...d,children:s.jsx(NM,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":LM(r.open),...e,ref:li(t,a.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ge(e.onPointerMove,nh(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:ge(e.onPointerLeave,nh(f=>{var p,x;u();const m=(p=r.content)==null?void 0:p.getBoundingClientRect();if(m){const g=(x=r.content)==null?void 0:x.dataset.side,w=g==="right",y=w?-5:5,v=m[w?"left":"right"],b=m[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:v,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:v,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ge(e.onKeyDown,f=>{var p;const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||RJ[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});DM.displayName=tf;var IM="MenuSubContent",MM=h.forwardRef((e,t)=>{const r=yM(fs,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=lc(fs,e.__scopeMenu),o=Fh(fs,e.__scopeMenu),l=RM(IM,e.__scopeMenu),c=h.useRef(null),d=De(t,c);return s.jsx(rh.Provider,{scope:e.__scopeMenu,children:s.jsx(kr,{present:n||i.open,children:s.jsx(rh.Slot,{scope:e.__scopeMenu,children:s.jsx(sS,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ge(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ge(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:ge(e.onKeyDown,u=>{var p;const f=u.currentTarget.contains(u.target),m=DJ[o.dir].includes(u.key);f&&m&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});MM.displayName=IM;function LM(e){return e?"open":"closed"}function Ng(e){return e==="indeterminate"}function oS(e){return Ng(e)?"indeterminate":e?"checked":"unchecked"}function eZ(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function tZ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function rZ(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=tZ(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function nZ(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,f=c.x,m=c.y;u>n!=m>n&&r<(f-d)*(n-u)/(m-u)+d&&(a=!a)}return a}function sZ(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return nZ(r,t)}function nh(e){return t=>t.pointerType==="mouse"?e(t):void 0}var aZ=vM,iZ=tS,oZ=bM,lZ=wM,cZ=aS,dZ=jM,uZ=xv,fZ=SM,hZ=_M,mZ=EM,pZ=AM,gZ=TM,xZ=OM,vZ=DM,yZ=MM,vv="DropdownMenu",[bZ,kNe]=ur(vv,[gM]),fn=gM(),[wZ,$M]=bZ(vv),FM=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=fn(t),d=h.useRef(null),[u,f]=cn({prop:a,defaultProp:i??!1,onChange:o,caller:vv});return s.jsx(wZ,{scope:t,triggerId:sr(),triggerRef:d,contentId:sr(),open:u,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(m=>!m),[f]),modal:l,children:s.jsx(aZ,{...c,open:u,onOpenChange:f,dir:n,modal:l,children:r})})};FM.displayName=vv;var UM="DropdownMenuTrigger",BM=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=$M(UM,r),o=fn(r);return s.jsx(iZ,{asChild:!0,...o,children:s.jsx(we.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:li(t,i.triggerRef),onPointerDown:ge(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ge(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});BM.displayName=UM;var jZ="DropdownMenuPortal",zM=e=>{const{__scopeDropdownMenu:t,...r}=e,n=fn(t);return s.jsx(oZ,{...n,...r})};zM.displayName=jZ;var VM="DropdownMenuContent",WM=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=$M(VM,r),i=fn(r),o=h.useRef(!1);return s.jsx(lZ,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:ge(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ge(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});WM.displayName=VM;var NZ="DropdownMenuGroup",SZ=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fn(r);return s.jsx(cZ,{...a,...n,ref:t})});SZ.displayName=NZ;var CZ="DropdownMenuLabel",qM=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fn(r);return s.jsx(dZ,{...a,...n,ref:t})});qM.displayName=CZ;var _Z="DropdownMenuItem",HM=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fn(r);return s.jsx(uZ,{...a,...n,ref:t})});HM.displayName=_Z;var kZ="DropdownMenuCheckboxItem",GM=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fn(r);return s.jsx(fZ,{...a,...n,ref:t})});GM.displayName=kZ;var EZ="DropdownMenuRadioGroup",PZ=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fn(r);return s.jsx(hZ,{...a,...n,ref:t})});PZ.displayName=EZ;var AZ="DropdownMenuRadioItem",KM=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fn(r);return s.jsx(mZ,{...a,...n,ref:t})});KM.displayName=AZ;var TZ="DropdownMenuItemIndicator",YM=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fn(r);return s.jsx(pZ,{...a,...n,ref:t})});YM.displayName=TZ;var OZ="DropdownMenuSeparator",QM=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fn(r);return s.jsx(gZ,{...a,...n,ref:t})});QM.displayName=OZ;var RZ="DropdownMenuArrow",DZ=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fn(r);return s.jsx(xZ,{...a,...n,ref:t})});DZ.displayName=RZ;var IZ="DropdownMenuSubTrigger",JM=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fn(r);return s.jsx(vZ,{...a,...n,ref:t})});JM.displayName=IZ;var MZ="DropdownMenuSubContent",ZM=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fn(r);return s.jsx(yZ,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZM.displayName=MZ;var LZ=FM,$Z=BM,FZ=zM,XM=WM,eL=qM,tL=HM,rL=GM,nL=KM,sL=YM,aL=QM,iL=JM,oL=ZM;const nn=LZ,sn=$Z,UZ=h.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(iL,{ref:a,className:ne("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(qx,{className:"ml-auto h-4 w-4"})]}));UZ.displayName=iL.displayName;const BZ=h.forwardRef(({className:e,...t},r)=>s.jsx(oL,{ref:r,className:ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));BZ.displayName=oL.displayName;const Gr=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(FZ,{children:s.jsx(XM,{ref:n,sideOffset:t,className:ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Gr.displayName=XM.displayName;const Oe=h.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(tL,{ref:n,className:ne("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Oe.displayName=tL.displayName;const zZ=h.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(rL,{ref:a,className:ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(sL,{children:s.jsx(st,{className:"h-4 w-4"})})}),t]}));zZ.displayName=rL.displayName;const VZ=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(nL,{ref:n,className:ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(sL,{children:s.jsx(kW,{className:"h-2 w-2 fill-current"})})}),t]}));VZ.displayName=nL.displayName;const WZ=h.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(eL,{ref:n,className:ne("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));WZ.displayName=eL.displayName;const Wi=h.forwardRef(({className:e,...t},r)=>s.jsx(aL,{ref:r,className:ne("-mx-1 my-1 h-px bg-muted",e),...t}));Wi.displayName=aL.displayName;const qZ=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Zr(async()=>{const{default:n}=await Promise.resolve().then(()=>ou);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class lS extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class HZ extends lS{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class xE extends lS{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class vE extends lS{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var tj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(tj||(tj={}));var GZ=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class KZ{constructor(t,{headers:r={},customFetch:n,region:a=tj.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=qZ(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return GZ(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const f=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(g=>{throw new HZ(g)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new xE(f);if(!f.ok)throw new vE(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return p==="application/json"?x=yield f.json():p==="application/octet-stream"?x=yield f.blob():p==="text/event-stream"?x=f:p==="multipart/form-data"?x=yield f.formData():x=yield f.text(),{data:x,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof vE||a instanceof xE?a.context:void 0}}})}}var yn={},cS={},yv={},Uh={},bv={},wv={},YZ=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ed=YZ();const QZ=Ed.fetch,lL=Ed.fetch.bind(Ed),cL=Ed.Headers,JZ=Ed.Request,ZZ=Ed.Response,ou=Object.freeze(Object.defineProperty({__proto__:null,Headers:cL,Request:JZ,Response:ZZ,default:lL,fetch:QZ},Symbol.toStringTag,{value:"Module"})),XZ=t9(ou);var jv={};Object.defineProperty(jv,"__esModule",{value:!0});let eX=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};jv.default=eX;var dL=ms&&ms.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wv,"__esModule",{value:!0});const tX=dL(XZ),rX=dL(jv);let nX=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=tX.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,d;let u=null,f=null,m=null,p=i.status,x=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=v:f=JSON.parse(v))}const w=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),y=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&y&&y.length>1&&(m=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,p=406,x="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(f=[],u=null,p=200,x="OK")}catch{i.status===404&&w===""?(p=204,x="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,p=200,x="OK"),u&&this.shouldThrowOnError)throw new rX.default(u)}return{error:u,data:f,count:m,status:p,statusText:x}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};wv.default=nX;var sX=ms&&ms.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bv,"__esModule",{value:!0});const aX=sX(wv);let iX=class extends aX.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};bv.default=iX;var oX=ms&&ms.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uh,"__esModule",{value:!0});const lX=oX(bv);let cX=class extends lX.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Uh.default=cX;var dX=ms&&ms.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yv,"__esModule",{value:!0});const Mu=dX(Uh);let uX=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Mu.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Mu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Mu.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Mu.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Mu.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};yv.default=uX;var uL=ms&&ms.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cS,"__esModule",{value:!0});const fX=uL(yv),hX=uL(Uh);let mX=class fL{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new fX.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new fL(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{c.searchParams.append(f,m)})):(l="POST",d=r);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new hX.default({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};cS.default=mX;var lu=ms&&ms.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yn,"__esModule",{value:!0});yn.PostgrestError=yn.PostgrestBuilder=yn.PostgrestTransformBuilder=yn.PostgrestFilterBuilder=yn.PostgrestQueryBuilder=yn.PostgrestClient=void 0;const hL=lu(cS);yn.PostgrestClient=hL.default;const mL=lu(yv);yn.PostgrestQueryBuilder=mL.default;const pL=lu(Uh);yn.PostgrestFilterBuilder=pL.default;const gL=lu(bv);yn.PostgrestTransformBuilder=gL.default;const xL=lu(wv);yn.PostgrestBuilder=xL.default;const vL=lu(jv);yn.PostgrestError=vL.default;var pX=yn.default={PostgrestClient:hL.default,PostgrestQueryBuilder:mL.default,PostgrestFilterBuilder:pL.default,PostgrestTransformBuilder:gL.default,PostgrestBuilder:xL.default,PostgrestError:vL.default};const{PostgrestClient:gX,PostgrestQueryBuilder:RNe,PostgrestFilterBuilder:DNe,PostgrestTransformBuilder:INe,PostgrestBuilder:MNe,PostgrestError:LNe}=pX;class xX{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const vX="2.15.4",yX=`realtime-js/${vX}`,bX="1.0.0",rj=1e4,wX=1e3,jX=100;var yf;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(yf||(yf={}));var hr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(hr||(hr={}));var Ks;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ks||(Ks={}));var nj;(function(e){e.websocket="websocket"})(nj||(nj={}));var cl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(cl||(cl={}));class NX{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class yL{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var kt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(kt||(kt={}));const yE=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=SX(o,e,t,a),i),{})},SX=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?bL(i,o):sj(o)},bL=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return EX(t,r)}switch(e){case kt.bool:return CX(t);case kt.float4:case kt.float8:case kt.int2:case kt.int4:case kt.int8:case kt.numeric:case kt.oid:return _X(t);case kt.json:case kt.jsonb:return kX(t);case kt.timestamp:return PX(t);case kt.abstime:case kt.date:case kt.daterange:case kt.int4range:case kt.int8range:case kt.money:case kt.reltime:case kt.text:case kt.time:case kt.timestamptz:case kt.timetz:case kt.tsrange:case kt.tstzrange:return sj(t);default:return sj(t)}},sj=e=>e,CX=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},_X=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},kX=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},EX=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>bL(t,l))}return e},PX=e=>typeof e=="string"?e.replace(" ","T"):e,wL=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Vb{constructor(t,r,n={},a=rj){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var bE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(bE||(bE={}));class bf{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bf.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=bf.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=bf.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const f=i[d];if(f){const m=u.map(w=>w.presence_ref),p=f.map(w=>w.presence_ref),x=u.filter(w=>p.indexOf(w.presence_ref)<0),g=f.filter(w=>m.indexOf(w.presence_ref)<0);x.length>0&&(l[d]=x),g.length>0&&(c[d]=g)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const f=t[l].map(p=>p.presence_ref),m=u.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...m)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(wE||(wE={}));var wf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(wf||(wf={}));var Wa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Wa||(Wa={}));class dS{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=hr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Vb(this,Ks.join,this.params,this.timeout),this.rejoinTimer=new yL(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=hr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=hr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=hr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=hr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=hr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ks.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new bf(this),this.broadcastEndpointURL=wL(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==hr.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[wf.PRESENCE]&&this.bindings[wf.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Wa.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Wa.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket.setAuth(),p===void 0){t==null||t(Wa.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,w=(x=g==null?void 0:g.length)!==null&&x!==void 0?x:0,y=[];for(let v=0;v<w;v++){const b=g[v],{filter:{event:j,schema:N,table:S,filter:C}}=b,k=p&&p[v];if(k&&k.event===j&&k.schema===N&&k.table===S&&k.filter===C)y.push(Object.assign(Object.assign({},b),{id:k.id}));else{this.unsubscribe(),this.state=hr.errored,t==null||t(Wa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Wa.SUBSCRIBED);return}}).receive("error",p=>{this.state=hr.errored,t==null||t(Wa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Wa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===hr.joined&&t===wf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=hr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ks.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Vb(this,Ks.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=hr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Vb(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>jX){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Ks;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var x,g,w;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(g=p.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(p=>p.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var x,g,w,y,v,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,N=(x=p.filter)===null||x===void 0?void 0:x.event;return j&&((g=r.ids)===null||g===void 0?void 0:g.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(v=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:g,table:w,commit_timestamp:y,type:v,errors:b}=x;m=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:y,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(x))}p.callback(m,n)})}_isClosed(){return this.state===hr.closed}_isJoined(){return this.state===hr.joined}_isJoining(){return this.state===hr.joining}_isLeaving(){return this.state===hr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&dS.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ks.close,{},t)}_onError(t){this._on(Ks.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=hr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=yE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=yE(t.columns,t.old_record)),r}}const Wb=()=>{},qm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},AX=[1e3,2e3,5e3,1e4],TX=1e4,OX=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RX{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rj,this.transport=null,this.heartbeatIntervalMs=qm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wb,this.ref=0,this.reconnectTimer=null,this.logger=Wb,this.conn=null,this.sendBuffer=[],this.serializer=new NX,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Zr(async()=>{const{default:l}=await Promise.resolve().then(()=>ou);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${nj.websocket}`,this.httpEndpoint=wL(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=xX.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:bX}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case yf.connecting:return cl.Connecting;case yf.open:return cl.Open;case yf.closing:return cl.Closing;default:return cl.Closed}}isConnected(){return this.connectionState()===cl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new dS(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(wX,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},qm.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ks.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([OX],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:yX};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Ks.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new yL(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,d,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:rj,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:qm.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Wb,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>AX[f-1]||TX,this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(f,m)=>m(JSON.stringify(f)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class uS extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function mr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class DX extends uS{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class aj extends uS{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var IX=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const jL=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Zr(async()=>{const{default:n}=await Promise.resolve().then(()=>ou);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},MX=()=>IX(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Zr(()=>Promise.resolve().then(()=>ou),void 0)).Response:Response}),ij=e=>{if(Array.isArray(e))return e.map(r=>ij(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=ij(n)}),t},LX=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var cc=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const qb=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$X=(e,t,r)=>cc(void 0,void 0,void 0,function*(){const n=yield MX();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new DX(qb(a),i,o))}).catch(a=>{t(new aj(qb(a),a))}):t(new aj(qb(e),e))}),FX=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(LX(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Bh(e,t,r,n,a,i){return cc(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,FX(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>$X(c,l,n))})})}function Sg(e,t,r,n){return cc(this,void 0,void 0,function*(){return Bh(e,"GET",t,r,n)})}function xa(e,t,r,n,a){return cc(this,void 0,void 0,function*(){return Bh(e,"POST",t,n,a,r)})}function oj(e,t,r,n,a){return cc(this,void 0,void 0,function*(){return Bh(e,"PUT",t,n,a,r)})}function UX(e,t,r,n){return cc(this,void 0,void 0,function*(){return Bh(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function NL(e,t,r,n,a){return cc(this,void 0,void 0,function*(){return Bh(e,"DELETE",t,n,a,r)})}var Xr=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const BX={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zX{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=jL(a)}uploadOrUpdate(t,r,n,a){return Xr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},jE),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),f=yield(t=="PUT"?oj:xa)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(mr(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Xr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Xr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:jE.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield oj(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(mr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Xr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield xa(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new uS("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(mr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Xr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Xr(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(mr(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Xr(this,void 0,void 0,function*(){try{return{data:{path:(yield xa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(mr(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Xr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield xa(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(mr(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Xr(this,void 0,void 0,function*(){try{const a=yield xa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(mr(a))return{data:null,error:a};throw a}})}download(t,r){return Xr(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Sg(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(mr(l))return{data:null,error:l};throw l}})}info(t){return Xr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Sg(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ij(n),error:null}}catch(n){if(mr(n))return{data:null,error:n};throw n}})}exists(t){return Xr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield UX(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(mr(n)&&n instanceof aj){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return Xr(this,void 0,void 0,function*(){try{return{data:yield NL(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(mr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Xr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},BX),r),{prefix:t||""});return{data:yield xa(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(mr(a))return{data:null,error:a};throw a}})}listV2(t,r){return Xr(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield xa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(mr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const VX="2.11.0",WX={"X-Client-Info":`storage-js/${VX}`};var wc=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class qX{constructor(t,r={},n,a){const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},WX),r),this.fetch=jL(n)}listBuckets(){return wc(this,void 0,void 0,function*(){try{return{data:yield Sg(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(mr(t))return{data:null,error:t};throw t}})}getBucket(t){return wc(this,void 0,void 0,function*(){try{return{data:yield Sg(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(mr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return wc(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(mr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return wc(this,void 0,void 0,function*(){try{return{data:yield oj(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(mr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return wc(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(mr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return wc(this,void 0,void 0,function*(){try{return{data:yield NL(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(mr(r))return{data:null,error:r};throw r}})}}class HX extends qX{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new zX(this.url,this.headers,t,this.fetch)}}const GX="2.57.0";let rf="";typeof Deno<"u"?rf="deno":typeof document<"u"?rf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?rf="react-native":rf="node";const KX={"X-Client-Info":`supabase-js-${rf}/${GX}`},YX={headers:KX},QX={schema:"public"},JX={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ZX={};var XX=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const eee=e=>{let t;return e?t=e:typeof fetch>"u"?t=lL:t=fetch,(...r)=>t(...r)},tee=()=>typeof Headers>"u"?cL:Headers,ree=(e,t,r)=>{const n=eee(r),a=tee();return(i,o)=>XX(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var nee=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};function see(e){return e.endsWith("/")?e:e+"/"}function aee(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:f}=t,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>nee(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const SL="2.71.1",Ec=30*1e3,lj=3,Hb=lj*Ec,iee="http://localhost:9999",oee="supabase.auth.token",lee={"X-Client-Info":`gotrue-js/${SL}`},cj="X-Supabase-Api-Version",CL={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cee=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,dee=10*60*1e3;class fS extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class uee extends fS{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function fee(e){return Be(e)&&e.name==="AuthApiError"}class _L extends fS{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Fo extends fS{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Ui extends Fo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hee(e){return Be(e)&&e.name==="AuthSessionMissingError"}class Hm extends Fo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gm extends Fo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Km extends Fo{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function mee(e){return Be(e)&&e.name==="AuthImplicitGrantRedirectError"}class NE extends Fo{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dj extends Fo{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Gb(e){return Be(e)&&e.name==="AuthRetryableFetchError"}class SE extends Fo{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class uj extends Fo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),CE=` 	
\r=`.split(""),pee=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<CE.length;t+=1)e[CE[t].charCodeAt(0)]=-2;for(let t=0;t<Cg.length;t+=1)e[Cg[t].charCodeAt(0)]=t;return e})();function _E(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Cg[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Cg[n]),t.queuedBits-=6}}function kL(e,t,r){const n=pee[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function kE(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{vee(o,n,r)};for(let o=0;o<e.length;o+=1)kL(e.charCodeAt(o),a,i);return t.join("")}function gee(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function xee(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}gee(n,t)}}function vee(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function yee(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)kL(e.charCodeAt(a),r,n);return new Uint8Array(t)}function bee(e){const t=[];return xee(e,r=>t.push(r)),new Uint8Array(t)}function wee(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>_E(a,r,n)),_E(null,r,n),t.join("")}function jee(e){return Math.round(Date.now()/1e3)+e}function Nee(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Bs=()=>typeof window<"u"&&typeof document<"u",el={tested:!1,writable:!1},EL=()=>{if(!Bs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(el.tested)return el.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),el.tested=!0,el.writable=!0}catch{el.tested=!0,el.writable=!1}return el.writable};function See(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const PL=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Zr(async()=>{const{default:n}=await Promise.resolve().then(()=>ou);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Cee=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Pc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},tl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Di=async(e,t)=>{await e.removeItem(t)};class Nv{constructor(){this.promise=new Nv.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Nv.promiseConstructor=Promise;function Kb(e){const t=e.split(".");if(t.length!==3)throw new uj("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!cee.test(t[n]))throw new uj("JWT not in base64url format");return{header:JSON.parse(kE(t[0])),payload:JSON.parse(kE(t[1])),signature:yee(t[2]),raw:{header:t[0],payload:t[1]}}}async function _ee(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function kee(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function Eee(e){return("0"+e.toString(16)).substr(-2)}function Pee(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,Eee).join("")}async function Aee(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Tee(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Aee(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jc(e,t,r=!1){const n=Pee();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Pc(e,`${t}-code-verifier`,a);const i=await Tee(n);return[i,n===i?"plain":"s256"]}const Oee=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ree(e){const t=e.headers.get(cj);if(!t||!t.match(Oee))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Dee(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Iee(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Mee=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nc(e){if(!Mee.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Yb(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function EE(e){return JSON.parse(JSON.stringify(e))}var Lee=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const sl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$ee=[502,503,504];async function PE(e){var t;if(!Cee(e))throw new dj(sl(e),0);if($ee.includes(e.status))throw new dj(sl(e),e.status);let r;try{r=await e.json()}catch(i){throw new _L(sl(i),i)}let n;const a=Ree(e);if(a&&a.getTime()>=CL["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new SE(sl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ui}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new SE(sl(r),e.status,r.weak_password.reasons);throw new uee(sl(r),e.status||500,n)}const Fee=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ye(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[cj]||(i[cj]=CL["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Uee(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Uee(e,t,r,n,a,i){const o=Fee(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new dj(sl(c),0)}if(l.ok||await PE(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await PE(c)}}function za(e){var t;let r=null;Wee(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=jee(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function AE(e){const t=za(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Yi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Bee(e){return{data:e,error:null}}function zee(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=Lee(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Vee(e){return e}function Wee(e){return e.access_token&&e.refresh_token&&e.expires_in}const Qb=["global","local","others"];var qee=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class Hee{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=PL(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Qb[0]){if(Qb.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qb.join(", ")}`);try{return await Ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Yi})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=qee(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:zee,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Be(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Yi})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Vee});if(u.error)throw u.error;const f=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);d[`${w}Page`]=g}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(Be(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Nc(t);try{return await Ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Yi})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Nc(t);try{return await Ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Yi})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Nc(t);try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Yi})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Nc(t.userId);try{const{data:r,error:n}=await Ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Nc(t.userId),Nc(t.id);try{return{data:await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}}function TE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Gee(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Sc={debug:!!(globalThis&&EL()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class AL extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Kee extends AL{}async function Yee(e,t,r){Sc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Sc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Sc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Sc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Sc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Kee(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Sc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Gee();const Qee={url:iee,storageKey:oee,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lee,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function OE(e,t,r){return await r()}const Cc={};class sh{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=sh.nextInstanceID,sh.nextInstanceID+=1,this.instanceID>0&&Bs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Qee),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Hee({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=PL(a.fetch),this.lock=a.lock||OE,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Bs()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Yee:this.lock=OE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:EL()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=TE(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=TE(this.memoryStorage)),Bs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Cc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Cc[this.storageKey]=Object.assign(Object.assign({},Cc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Cc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Cc[this.storageKey]=Object.assign(Object.assign({},Cc[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${SL}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=See(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Bs()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),mee(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Be(r)?{error:r}:{error:new _L("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:za}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Be(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:u,password:f,options:m}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await jc(this.storage,this.storageKey)),i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:x},xform:za})}else if("phone"in t){const{phone:u,password:f,options:m}=t;i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:za})}else throw new Gm("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Be(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:AE})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:AE})}else throw new Gm("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Hm}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,i,o,l,c,d,u,f,m,p;let x,g;if("message"in t)x=t.message,g=t.signature;else{const{chain:w,wallet:y,statement:v,options:b}=t;let j;if(Bs())if(typeof y=="object")j=y;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const N=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),v?{statement:v}:null));let C;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")C=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)C=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)x=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),g=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(x),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:w,error:y}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:wee(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:za});if(y)throw y;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Hm}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:y})}catch(w){if(Be(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await tl(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:za});if(await Di(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Hm}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Be(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:za}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Hm}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await jc(this.storage,this.storageKey));const{error:f}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Gm("You must provide either an email or phone number.")}catch(l){if(Be(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:za});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Be(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await jc(this.storage,this.storageKey)),await Ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Bee})}catch(i){if(Be(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ui;const{error:a}=await Ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Be(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Gm("You must provide either an email or phone number and a type")}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await tl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Hb:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await tl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Yb()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Yi}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ui}:await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Yi})})}catch(r){if(Be(r))return hee(r)&&(await this._removeSession(),await Di(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Ui;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await jc(this.storage,this.storageKey));const{data:d,error:u}=await Ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Yi});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ui;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Kb(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Be(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ui;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Bs())throw new Km("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Km(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new NE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Km("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new NE("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new Km("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(l);let m=u+f;c&&(m=parseInt(c));const p=m-u;p*1e3<=Ec&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const x=m-f;u-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,u):u-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,u);const{data:g,error:w}=await this._getUser(i);if(w)throw w;const y={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(Be(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await tl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(fee(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Di(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Nee(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await jc(this.storage,this.storageKey,!0));try{return await Ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Be(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:f,error:m}=i;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ye(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Bs()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Be(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await kee(async a=>(a>0&&await _ee(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:za})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Gb(i)&&Date.now()+o-n<Ec})}catch(n){if(this._debug(r,"error",n),Be(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Bs()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await tl(this.storage,this.storageKey);if(a&&this.userStorage){let o=await tl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Pc(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Yb()}else if(a&&!a.user&&!a.user){const o=await tl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Di(this.storage,this.storageKey+"-user"),await Pc(this.storage,this.storageKey,a)):a.user=Yb()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Hb;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Hb}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Gb(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ui;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Nv;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ui;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Be(i)){const o={session:null,error:i};return Gb(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Pc(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=EE(a);await Pc(this.storage,this.storageKey,i)}else{const a=EE(r);await Pc(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Di(this.storage,this.storageKey),await Di(this.storage,this.storageKey+"-code-verifier"),await Di(this.storage,this.storageKey+"-user"),this.userStorage&&await Di(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Bs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ec);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Ec);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ec}ms, refresh threshold is ${lj} ticks`),a<=lj&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof AL)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await jc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await Ye(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Be(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Be(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Kb(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+dee>a)return n;const{data:i,error:o}=await Ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:x}=await this.getSession();if(x||!p.session)return{data:null,error:x};n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Kb(n);r!=null&&r.allowExpired||Dee(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const u=Iee(a.alg),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,bee(`${l}.${c}`)))throw new uj("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}}sh.nextInstanceID=0;const Jee=sh;class Zee extends Jee{constructor(t){super(t)}}var Xee=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class ete{constructor(t,r,n){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=see(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:QX,realtime:ZX,auth:Object.assign(Object.assign({},JX),{storageKey:d}),global:YX},f=aee(n??{},u);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=ree(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new gX(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new HX(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new KZ(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Xee(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:d},u,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Zee({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:d,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new RX(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tte=(e,t,r)=>new ete(e,t,r);function rte(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}rte()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nte="https://vgsavnlyathtlvrevtjb.supabase.co",ste="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZnc2F2bmx5YXRodGx2cmV2dGpiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU0NjI1MzMsImV4cCI6MjA3MTAzODUzM30.F8KXmmqb4dqgZJJSqGb0O9fpgUY9WIRnVe7ZanquWGY",$=tte(nte,ste,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),RE="branding_settings",Rp="tagmentia_logo_v4",Dp="4.0",ate=()=>{if(typeof window>"u")return{logo_url:null,favicon_url:null,updated_at:new Date().toISOString()};try{const e=localStorage.getItem(Rp);if(e){const t=JSON.parse(e);if(t.version===Dp&&t.logo_url)return console.log(" Preloaded logo from cache:",t.logo_url),{logo_url:t.logo_url,favicon_url:t.favicon_url,updated_at:t.updated_at}}}catch(e){console.error("Cache load error:",e)}return{logo_url:null,favicon_url:null,updated_at:new Date().toISOString()}};function hn(){const[e,t]=h.useState(ate),[r,n]=h.useState(!e.logo_url),[a,i]=h.useState(!1),{toast:o}=Ge(),l=async()=>{console.log(" Logo Hook: Starting fetchLogoConfig...");try{console.log(" Logo Hook: Calling get_public_branding RPC...");const{data:f,error:m}=await $.rpc("get_public_branding");if(console.log(" Logo Hook: RPC response:",{publicBranding:f,publicErr:m}),!m&&f&&Array.isArray(f)&&f.length>0){const p=f[0],x={logo_url:p.logo_url??null,favicon_url:p.favicon_url??null,updated_at:new Date().toISOString()};if(console.log(" Logo fetched via RPC:",x),t(x),localStorage.setItem(Rp,JSON.stringify({...x,version:Dp})),x.logo_url){console.log(" Logo Hook: Testing image load for URL:",x.logo_url);const g=new Image;g.onload=()=>console.log(" Logo Hook: Image loaded successfully"),g.onerror=w=>console.log(" Logo Hook: Image failed to load:",w),g.src=x.logo_url}return}else{console.log(" Logo Hook: RPC failed, trying direct DB query...");const{data:p,error:x}=await $.from(RE).select("logo_url, favicon_url, updated_at").order("created_at",{ascending:!1}).limit(1).maybeSingle();if(console.log(" Logo Hook: Direct DB response:",{data:p,error:x}),!x&&p){const g={logo_url:p.logo_url??null,favicon_url:p.favicon_url??null,updated_at:p.updated_at??new Date().toISOString()};console.log(" Logo fetched via direct DB:",g),t(g),localStorage.setItem(Rp,JSON.stringify({...g,version:Dp}))}else console.warn("Logo config: All fetch methods failed",{publicErr:m,error:x})}}catch(f){console.error("Error fetching logo configuration:",f)}finally{n(!1)}},c=async f=>{try{const m={logo_url:f.logo_url??e.logo_url??null,favicon_url:f.favicon_url??e.favicon_url??null,updated_at:new Date().toISOString()};try{const{error:p}=await $.from(RE).upsert({logo_url:m.logo_url,favicon_url:m.favicon_url,updated_at:m.updated_at});p&&console.warn("Logo config: DB upsert failed, falling back to localStorage only.",p)}catch(p){console.warn("Logo config: DB upsert threw, falling back to localStorage only.",p)}return t(m),localStorage.setItem(Rp,JSON.stringify({...m,version:Dp})),window.dispatchEvent(new CustomEvent("logoConfigUpdated",{detail:m})),m}catch(m){throw console.error("Error updating logo configuration:",m),m}},d=async(f,m="logo")=>{if(!f)return null;i(!0);try{if(!f.type.startsWith("image/"))throw new Error("Please select a valid image file");if(f.size>5*1024*1024)throw new Error("File size must be less than 5MB");const p=f.name.split(".").pop(),x=Date.now(),g=`${m}-${x}.${p}`,{data:{user:w}}=await $.auth.getUser();if(!w)throw new Error("You must be logged in to upload.");const y=`global/branding/${g}`,v=await $.storage.from("branding").upload(y,f,{cacheControl:"3600",upsert:!0});if(v.error)throw v.error;const b=v.data.path,{data:{publicUrl:j}}=$.storage.from("branding").getPublicUrl(b);return await c(m==="logo"?{logo_url:j}:{favicon_url:j}),o({title:`${m==="logo"?"Logo":"Favicon"} Updated`,description:`Your ${m} has been successfully updated.`}),j}catch(p){throw console.error(`Error uploading ${m}:`,p),o({title:"Upload Failed",description:p.message||`Failed to upload ${m}. Please try again.`,variant:"destructive"}),p}finally{i(!1)}},u=async()=>{try{await c({logo_url:null,favicon_url:null}),o({title:"Logo Reset",description:"Logo has been reset to default text logo."})}catch{o({title:"Reset Failed",description:"Failed to reset logo. Please try again.",variant:"destructive"})}};return h.useEffect(()=>{l();const f=m=>{t(m.detail)};return window.addEventListener("logoConfigUpdated",f),()=>{window.removeEventListener("logoConfigUpdated",f)}},[]),console.log(" Logo Hook: Current logo URL:",e.logo_url||"No logo configured"),console.log(" Logo Hook: Current favicon URL:",e.favicon_url||"No favicon configured"),{logoConfig:e,isLoading:r,isUploading:a,uploadLogo:d,resetToDefault:u,currentLogoUrl:e.logo_url,currentFaviconUrl:e.favicon_url}}const rt=({title:e,showBack:t=!1,children:r})=>{const n=Ie(),{toast:a}=Ge(),{currentLogoUrl:i}=hn();console.log(" Header: Rendering with currentLogoUrl:",i),console.log(" Header: currentLogoUrl type:",typeof i),console.log(" Header: currentLogoUrl truthy?",!!i);const[o,l]=h.useState(null),[c,d]=h.useState(""),[u,f]=h.useState(!1);h.useEffect(()=>{const g=async v=>{try{const{data:b,error:j}=await $.rpc("has_role",{_user_id:v,_role:"admin"});if(!j&&typeof b=="boolean"){f(b);return}const{data:N}=await $.from("user_roles").select("role").eq("user_id",v).eq("role","admin").single();f(!!N)}catch(b){console.error("Error checking admin role:",b),f(!1)}};(async()=>{var b,j,N;const{data:{user:v}}=await $.auth.getUser();v&&(l(((b=v.user_metadata)==null?void 0:b.avatar_url)||null),d(((j=v.user_metadata)==null?void 0:j.first_name)||((N=v.email)==null?void 0:N.split("@")[0])||"User"),await g(v.id))})();const{data:{subscription:y}}=$.auth.onAuthStateChange(async(v,b)=>{var j,N,S;b!=null&&b.user?(l(((j=b.user.user_metadata)==null?void 0:j.avatar_url)||null),d(((N=b.user.user_metadata)==null?void 0:N.first_name)||((S=b.user.email)==null?void 0:S.split("@")[0])||"User"),setTimeout(()=>{g(b.user.id)},0)):(l(null),d(""),f(!1))});return()=>y.unsubscribe()},[]);const m=async()=>{try{const{error:g}=await $.auth.signOut();if(g)throw g;a({title:"Signed Out",description:"You have been successfully signed out"}),n("/auth/login")}catch(g){console.error("Error signing out:",g),a({title:"Error",description:"Failed to sign out",variant:"destructive"})}},p=()=>{n("/account")},x=()=>{n("/admin")};return s.jsx("header",{className:"sticky top-0 z-40 bg-card/80 backdrop-blur-sm border-b border-border",style:{paddingTop:"env(safe-area-inset-top, 0px)"},children:s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[t?s.jsx(O,{variant:"ghost",size:"icon",onClick:g=>{g.preventDefault(),g.stopPropagation(),console.log("Back button clicked"),window.history.length>1?n(-1):n("/dashboard")},className:"hover:bg-muted",children:s.jsx(bd,{className:"w-5 h-5"})}):null,e?s.jsx("h1",{className:"text-xl font-semibold text-foreground",children:e}):s.jsx(Re,{to:"/",className:"flex items-center justify-center min-h-[64px]",children:i?s.jsx("img",{src:i,alt:"Logo",className:"h-16 sm:h-20 md:h-24 lg:h-28 w-auto max-w-[200px] sm:max-w-[250px] md:max-w-[300px] lg:max-w-[350px]",onLoad:()=>console.log(" Header: Logo loaded successfully"),onError:()=>console.log(" Header: Logo failed to load:",i)}):s.jsx("div",{className:"h-16 sm:h-20 md:h-24 lg:h-28 w-32 bg-muted/20 animate-pulse rounded"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[r,!t&&s.jsxs(nn,{children:[s.jsx(sn,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"icon",className:"relative group hover:bg-transparent hover:scale-105 transition-all duration-300 p-2",children:s.jsxs("div",{className:"relative",children:[s.jsxs(Z1,{className:"h-10 w-10 bg-gradient-primary border-2 border-primary/20 shadow-lg ring-2 ring-primary/10 group-hover:ring-4 group-hover:ring-primary/20 transition-all duration-300",children:[s.jsx(X1,{src:o||void 0,alt:"User avatar"}),s.jsx(eS,{className:"text-white text-base font-bold bg-gradient-primary",children:c.charAt(0).toUpperCase()})]}),s.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 border-2 border-white rounded-full animate-pulse"})]})})}),s.jsxs(Gr,{align:"end",className:"w-48",children:[s.jsxs(Oe,{onClick:p,children:[s.jsx(Ph,{className:"w-4 h-4 mr-2"}),"Profile"]}),u&&s.jsxs(Oe,{onClick:x,children:[s.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Admin Dashboard"]}),s.jsx(Wi,{}),s.jsxs(Oe,{onClick:m,className:"text-destructive",children:[s.jsx(Gx,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})]})]})})},TL=(e=3)=>{const[t,r]=h.useState([]),[n,a]=h.useState(!0),[i,o]=h.useState(null),l=async()=>{try{a(!0);const{data:c,error:d}=await $.from("videos").select("*").order("created_at",{ascending:!1}).limit(e);if(d){console.error("Error fetching videos:",d),o(d.message);return}r(c||[])}catch(c){console.error("Unexpected error:",c),o("Failed to load videos")}finally{a(!1)}};return h.useEffect(()=>{l()},[e]),{videos:t,loading:n,error:i,refetch:l}},OL=(e=5)=>{const[t,r]=h.useState([]),[n,a]=h.useState(!0),i=async()=>{try{a(!0);const{data:l,error:c}=await $.from("categories").select("id, name, color, description, updated_at").order("updated_at",{ascending:!1}).limit(e);if(c){console.error("Error fetching categories:",c);return}const d=await Promise.all((l||[]).map(async u=>{const{count:f}=await $.from("videos").select("*",{count:"exact",head:!0}).eq("category_id",u.id);return{id:u.id,name:u.name,color:u.color||"blue-ocean",description:u.description,videoCount:f||0,lastAccessed:o(u.updated_at)}}));r(d)}catch(l){console.error("Error in fetchCategories:",l)}finally{a(!1)}},o=l=>{const c=new Date(l),u=Math.floor((new Date().getTime()-c.getTime())/(1e3*60*60));if(u<1)return"Just now";if(u<24)return`${u}h ago`;const f=Math.floor(u/24);return f<7?`${f}d ago`:c.toLocaleDateString()};return h.useEffect(()=>{i()},[e]),{categories:t,loading:n,refetch:i}},RL=(e=5)=>{const[t,r]=h.useState([]),[n,a]=h.useState(!0),i=async()=>{try{a(!0);const l=new Date().toISOString(),{data:c,error:d}=await $.from("videos").select(`
          id,
          title,
          reminder_date,
          url,
          description,
          categories(name)
        `).not("reminder_date","is",null).gte("reminder_date",l).order("reminder_date",{ascending:!0}).limit(e);if(d){console.error("Error fetching reminders:",d);return}const u=(c||[]).map(f=>{var m;return{id:f.id,title:f.title,category:((m=f.categories)==null?void 0:m.name)||"No category",reminderDate:f.reminder_date,time:o(f.reminder_date),url:f.url,description:f.description||""}});r(u)}catch(l){console.error("Error in fetchUpcomingReminders:",l)}finally{a(!1)}},o=l=>{const c=new Date(l),d=new Date,u=c.toDateString()===d.toDateString(),f=c.toDateString()===new Date(d.getTime()+24*60*60*1e3).toDateString(),m=c.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return u?`Today ${m}`:f?`Tomorrow ${m}`:`${c.toLocaleDateString("en-US",{month:"short",day:"numeric"})}, ${m}`};return h.useEffect(()=>{i()},[e]),{reminders:t,loading:n,refetch:i}},hS=()=>{const[e,t]=h.useState({totalCategories:0,totalVideos:0,totalScreenshots:0}),[r,n]=h.useState(!0),[a,i]=h.useState(null),o=async()=>{try{n(!0),console.log(" useTotalStats: Starting fetch...");const{count:l,error:c}=await $.from("categories").select("*",{count:"exact",head:!0});if(console.log(" useTotalStats: Categories count:",l),c)throw console.error("Error fetching categories count:",c),c;const{count:d,error:u}=await $.from("videos").select("*",{count:"exact",head:!0});if(console.log(" useTotalStats: Videos count:",d),u)throw console.error("Error fetching videos count:",u),u;const{count:f,error:m}=await $.from("screenshots").select("*",{count:"exact",head:!0});if(console.log(" useTotalStats: Screenshots count:",f),m)throw console.error("Error fetching screenshots count:",m),m;const p={totalCategories:l||0,totalVideos:d||0,totalScreenshots:f||0};console.log(" useTotalStats: Final stats:",p),t(p)}catch(l){console.error("Unexpected error:",l),i("Failed to load statistics")}finally{n(!1)}};return h.useEffect(()=>{o()},[]),{stats:e,loading:r,error:a,refetch:o}},Uo=()=>{const[e,t]=h.useState(null),[r,n]=h.useState(!0),[a,i]=h.useState(null),{toast:o}=Ge(),l=async()=>{try{n(!0),i(null);const{data:{user:m}}=await $.auth.getUser();if(!m){i("User not authenticated");return}const{data:p,error:x}=await $.rpc("get_user_plan_limits",{user_uuid:m.id});if(x){console.error("Error fetching user plan limits:",x),i(x.message);return}p&&p.length>0&&t(p[0])}catch(m){console.error("Error fetching subscription limits:",m),i(m.message||"Failed to fetch subscription limits")}finally{n(!1)}},c=async()=>{try{const{data:{user:m}}=await $.auth.getUser();if(!m)return!1;const{data:p,error:x}=await $.rpc("can_create_category",{user_uuid:m.id});return x?(console.error("Error checking category limits:",x),!1):p||!1}catch(m){return console.error("Error checking category creation limits:",m),!1}},d=async m=>{try{const{data:{user:p}}=await $.auth.getUser();if(!p)return!1;const{data:x,error:g}=await $.rpc("can_add_video_to_category",{user_uuid:p.id,category_uuid:m});return g?(console.error("Error checking video limits:",g),!1):x||!1}catch(p){return console.error("Error checking video addition limits:",p),!1}},u=(m,p)=>{o({title:"Upgrade Required",description:`${m} requires Premium plan. Upgrade to unlock this feature.`,variant:"destructive"})},f=m=>{if(!e)return!1;switch(m){case"categories":return e.max_categories===-1||e.current_categories<e.max_categories;case"ai_summary":return e.ai_summary_enabled;default:return!0}};return h.useEffect(()=>{l()},[]),h.useEffect(()=>{const{data:{subscription:m}}=$.auth.onAuthStateChange(p=>{p==="SIGNED_IN"||p==="TOKEN_REFRESHED"?l():p==="SIGNED_OUT"&&(t(null),n(!1))});return()=>m.unsubscribe()},[]),{limits:e,loading:r,error:a,canCreateCategory:c,canAddVideoToCategory:d,canUseAISummary:(e==null?void 0:e.ai_summary_enabled)||!1,isFreePlan:(e==null?void 0:e.plan_name)==="Free Plan",isPremiumPlan:(e==null?void 0:e.plan_name)==="Premium Plan",isGoldPlan:(e==null?void 0:e.plan_name)==="Gold Plan"||(e==null?void 0:e.plan_name)==="Gold Plan (Admin)",showUpgradePrompt:u,checkFeatureAccess:f,refetch:l}};var ite="AspectRatio",DL=h.forwardRef((e,t)=>{const{ratio:r=1/1,style:n,...a}=e;return s.jsx("div",{style:{position:"relative",width:"100%",paddingBottom:`${100/r}%`},"data-radix-aspect-ratio-wrapper":"",children:s.jsx(we.div,{...a,ref:t,style:{...n,position:"absolute",top:0,right:0,bottom:0,left:0}})})});DL.displayName=ite;var ote=DL;const Sv=ote,fj=({video:e,onVideoUpdated:t})=>{var p;const{toast:r}=Ge(),n=Ie(),[a,i]=h.useState(!1),o=x=>new Date(x).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),l=()=>{n(`/video/${e.id}`)},c=()=>{e.url&&window.open(e.url,"_blank","noopener,noreferrer")},d=async()=>{i(!0);try{const{error:x}=await $.from("videos").delete().eq("id",String(e.id));if(x){r({title:"Error",description:"Failed to delete video",variant:"destructive"});return}r({title:"Success",description:"Video deleted successfully"}),t==null||t()}catch{r({title:"Error",description:"Failed to delete video",variant:"destructive"})}finally{i(!1)}},u=async()=>{const x={title:e.title,text:`Check out this video: ${e.title}`,url:e.url||window.location.href};try{if(navigator.share)await navigator.share(x);else{const g=`${e.title}
${e.url||window.location.href}`;await navigator.clipboard.writeText(g),r({title:"Copied to clipboard",description:"Video link has been copied to your clipboard"})}}catch{r({title:"Share",description:`${e.title}
${e.url||window.location.href}`})}},f=x=>{switch(x.toLowerCase()){case"youtube":return"YouTube";case"tiktok":return"TikTok";case"instagram":return"Instagram";case"snapchat":return"Snapchat";case"vimeo":return"Vimeo";case"twitter":return"Twitter";case"screenshot":return"Screenshot";default:return x.charAt(0).toUpperCase()+x.slice(1)}},m=e.url==="https://placeholder.com"||((p=e.title)==null?void 0:p.startsWith("Screenshots -"))||e.platform.toLowerCase()==="screenshot";return s.jsx(Y,{className:"group hover:shadow-card transition-all duration-200 cursor-pointer overflow-hidden",onClick:l,children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-20",children:s.jsxs("div",{className:"relative",children:[s.jsxs(Sv,{ratio:1,className:"rounded-2xl overflow-hidden bg-muted",children:[e.thumbnail?s.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:x=>{x.currentTarget.style.display="none";const g=x.currentTarget.nextElementSibling;g&&(g.style.display="flex")}}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-800",children:s.jsx(yr,{className:"w-8 h-8 text-white"})}),s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-800",style:{display:"none"},children:s.jsx(yr,{className:"w-8 h-8 text-white"})})]}),e.duration&&s.jsx("div",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs px-1.5 py-0.5 rounded",children:e.duration})]})}),s.jsx("div",{className:"flex-1 min-w-0 flex flex-col justify-between",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-foreground line-clamp-2 group-hover:text-primary transition-colors duration-200 text-base mb-2 leading-tight",children:e.title}),s.jsxs("div",{className:"text-xs text-gray-500 mb-3",children:["Saved ",o(e.addedDate)]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-white text-xs font-medium px-3 py-1.5 rounded-md h-8 flex items-center justify-center min-w-[90px]",style:{backgroundColor:"#545DEA"},children:f(e.platform)}),s.jsx("div",{className:`flex items-center justify-center rounded-full w-8 h-8 ${e.hasReminder?"text-white":"bg-gray-100 text-gray-400"}`,style:e.hasReminder?{backgroundColor:"#545DEA"}:{},children:s.jsx(xt,{className:"w-4 h-4"})}),s.jsx("div",{className:`flex items-center justify-center rounded-full w-8 h-8 ${e.hasNotes?"text-white":"bg-gray-100 text-gray-400"}`,style:e.hasNotes?{backgroundColor:"#545DEA"}:{},children:s.jsx(xr,{className:"w-4 h-4"})})]})]}),s.jsxs(nn,{children:[s.jsx(sn,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex-shrink-0 h-6 w-6",onClick:x=>x.stopPropagation(),children:s.jsx(Lo,{className:"w-4 h-4"})})}),s.jsxs(Gr,{align:"end",className:"w-48",children:[s.jsxs(Oe,{onClick:x=>{x.stopPropagation(),c()},children:[s.jsx(So,{className:"w-4 h-4 mr-2"}),m?"Open Screenshot":"Open Video"]}),s.jsxs(Oe,{onClick:x=>{x.stopPropagation(),u()},children:[s.jsx(Yx,{className:"w-4 h-4 mr-2"}),m?"Share Screenshot":"Share Video"]}),s.jsxs(Oe,{onClick:x=>{x.stopPropagation(),d()},className:"text-destructive focus:text-destructive",disabled:a,children:[s.jsx(yt,{className:"w-4 h-4 mr-2"}),a?"Deleting...":m?"Delete Screenshot":"Delete Video"]})]})]})]})})]})})})},Ym=768,lte=1024,Lu="preferred_layout";function Ur(){const[e,t]=h.useState(window.innerWidth),[r,n]=h.useState(()=>localStorage.getItem(Lu));h.useEffect(()=>{const l=window.innerWidth,c=l<=Ym,d=l>Ym;r==="mobile"&&d?(console.log(" Auto-clearing mobile preference on desktop"),localStorage.removeItem(Lu),n(null)):r==="web"&&c&&(console.log(" Auto-clearing web preference on mobile"),localStorage.removeItem(Lu),n(null))},[r]),h.useEffect(()=>{const l=()=>{t(window.innerWidth)};let c;const d=()=>{clearTimeout(c),c=setTimeout(l,250)};return window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d),clearTimeout(c)}},[]);const a=l=>{l===null?localStorage.removeItem(Lu):localStorage.setItem(Lu,l),n(l)},i=e<=Ym?"mobile":e<=lte?"tablet":"desktop",o=r??(e<=Ym?"mobile":"web");return console.log(" Device Detection:",{width:e,deviceType:i,layoutType:o,preferredLayout:r}),{deviceType:i,layoutType:o,width:e,setPreferredLayout:a,preferredLayout:r}}const cte=new Set(["youtube.com","www.youtube.com","m.youtube.com","youtu.be","instagram.com","www.instagram.com","m.instagram.com","tiktok.com","www.tiktok.com","m.tiktok.com","vm.tiktok.com","snapchat.com","www.snapchat.com","story.snapchat.com","t.snapchat.com","loom.com","www.loom.com"]);function dte(e){return e.toLowerCase().replace(/^(www\.|m\.)/,"")}function ute(e){return cte.has(e.toLowerCase())}function zh(e){try{const r=new URL(e).hostname.toLowerCase();if(!ute(r))return console.log(" Hostname not in allowlist:",r),null;const n=dte(r);return n==="youtube.com"||n==="youtu.be"?"youtube":n==="instagram.com"?"instagram":n==="tiktok.com"||n==="vm.tiktok.com"?"tiktok":n==="snapchat.com"||n==="story.snapchat.com"||n==="t.snapchat.com"?"snapchat":n==="loom.com"?"loom":(console.error(" Hostname in allowlist but no platform matched:",r),null)}catch{return null}}function Cv(e){return zh(e)!==null}async function Pd(e,t,r){var n,a;try{const{data:{session:i},error:o}=await $.auth.getSession();if(o||!(i!=null&&i.access_token)){const{data:{session:u},error:f}=await $.auth.refreshSession();if(f||!(u!=null&&u.access_token))return{data:null,error:"Your session has expired. Please log in again."};i=u}const l=i.access_token,{data:c,error:d}=await $.functions.invoke(e,{headers:{Authorization:`Bearer ${l}`},body:t});if(d){let u="An error occurred. Please try again.";if(d&&typeof d=="object"&&"context"in d)try{const f=(n=d.context)==null?void 0:n.response;if(f&&typeof f.text=="function"){const m=await f.text();if(m)try{const p=JSON.parse(m);u=p.error||p.message||u}catch{m.length<200&&m.trim()&&(u=m)}}}catch(f){console.error("Error parsing error response:",f)}return d&&typeof d=="object"&&"message"in d?u=d.message:typeof d=="string"&&(u=d),u.includes("Unauthorized")||u.includes("401")?u="Your session has expired. Please log in again.":u.includes("Missing authorization")?u="Authentication required. Please log in again.":u.includes("Missing required fields")&&(u="Please fill in all required fields."),{data:null,error:u}}return c!=null&&c.error?{data:null,error:c.error}:{data:c,error:null}}catch(i){return console.error(`Error calling edge function ${e}:`,i),{data:null,error:(i==null?void 0:i.message)||((a=i==null?void 0:i.error)==null?void 0:a.message)||"An unexpected error occurred. Please try again."}}}const fte=()=>{const e=Ie(),{toast:t}=Ge(),{layoutType:r}=Ur(),{videos:n,loading:a,refetch:i}=TL(4),{categories:o,loading:l}=OL(4),{reminders:c,loading:d}=RL(5),{stats:u,loading:f}=hS(),{limits:m,loading:p}=Uo(),[x,g]=h.useState(""),[w,y]=h.useState(),[v,b]=h.useState(0);h.useEffect(()=>{w&&(b(w.selectedScrollSnap()),w.on("select",()=>{b(w.selectedScrollSnap())}))},[w]),h.useEffect(()=>{(async()=>{try{const{data:{user:E}}=await $.auth.getUser();if(E){const{data:M,error:R}=await $.from("profiles").select("first_name").eq("id",E.id).maybeSingle();if(R){console.error("Error fetching profile:",R);return}M!=null&&M.first_name&&g(M.first_name)}}catch(E){console.error("Error in fetchUserProfile:",E)}})()},[]),h.useEffect(()=>{r==="web"&&e("/dashboard-web",{replace:!0})},[r,e]);const j=_=>{var R;if(!_)return"";const M=(R=_.split(/[.!?]+/)[0])==null?void 0:R.trim();return M?M.length>60?M.substring(0,60)+"...":M+".":""},N=_=>{switch(_){case"blue-ocean":return"bg-gradient-blue-ocean";case"lime-forest":return"bg-gradient-lime-forest";case"green-emerald":return"bg-gradient-green-emerald";case"teal-navy":return"bg-gradient-teal-navy";case"purple-cosmic":return"bg-gradient-purple-cosmic";case"cyan-azure":return"bg-gradient-cyan-azure";case"lime-vibrant":return"bg-gradient-lime-vibrant";case"red-fire":return"bg-gradient-red-fire";case"orange-sunset":return"bg-gradient-orange-sunset";case"blue-cyan":return"bg-gradient-blue-ocean";case"pink-purple":return"bg-gradient-purple-cosmic";case"blue-deep":return"bg-gradient-teal-navy";case"purple-deep":return"bg-gradient-purple-cosmic";case"cyan-blue":return"bg-gradient-cyan-azure";case"red-orange":return"bg-gradient-lime-forest";case"blue-purple":return"bg-gradient-purple-cosmic";case"orange-yellow":return"bg-gradient-lime-vibrant";case"green-mint":return"bg-gradient-green-emerald";default:return"bg-gradient-blue-ocean"}},S=_=>{try{const E=new URL(_);return E.protocol==="http:"||E.protocol==="https:"}catch{return!1}},C=_=>{if(!_)return null;if(S(_.trim()))return _.trim();const E=/(https?:\/\/[^\s]+)/gi,M=_.match(E);if(M&&M.length>0){for(const R of M)if(S(R))return R}return null},k=async()=>{try{try{const{Clipboard:_}=await Zr(async()=>{const{Clipboard:E}=await import("./index-DL8M6LHe.js");return{Clipboard:E}},[]);await _.write({string:""}),console.log(" Clipboard cleared via Capacitor plugin")}catch{navigator.clipboard&&typeof navigator.clipboard.writeText=="function"&&(await navigator.clipboard.writeText(""),console.log(" Clipboard cleared via navigator API"))}}catch(_){console.error(" Failed to clear clipboard:",_)}},A=()=>{try{const _=localStorage.getItem("pendingShare");return _?(localStorage.removeItem("pendingShare"),_):null}catch(_){return console.error("Error getting pending share:",_),null}},P=async _=>{const E=A();if(ko.isNativePlatform())try{let M=null;try{const{Clipboard:T}=await Zr(async()=>{const{Clipboard:K}=await import("./index-DL8M6LHe.js");return{Clipboard:K}},[]);M=(await T.read()).value||null,console.log(" Clipboard read via Capacitor plugin:",M?`Yes (length: ${M.length})`:"Empty")}catch{console.log(" Capacitor Clipboard plugin failed, trying navigator.clipboard..."),navigator.clipboard&&typeof navigator.clipboard.readText=="function"&&(M=await navigator.clipboard.readText(),console.log(" Clipboard read via navigator API:",M?`Yes (length: ${M.length})`:"Empty"))}const R=E||(M&&M.trim()?M:null);if(R){const T=C(R);if(console.log(" Extracted URL:",T),T&&Cv(T)){console.log(" Supported URL found, auto-saving video...");try{const{data:{session:B}}=await $.auth.getSession();if(!(B!=null&&B.access_token)){t({title:"Authentication Required",description:"Please log in to save videos.",variant:"destructive"}),e(`/category/${_}`);return}const K=zh(T);if(K&&["youtube","instagram","tiktok","snapchat","loom"].includes(K)){const{data:F,error:W}=await Pd("save-shared-link",{url:T,categoryId:_});if(await k(),W){console.error(" Auto-save error:",W),t(W==="UNSUPPORTED_PLATFORM"?{title:"Unsupported Link",description:"This link can't be added to Tagmentia yet.",variant:"destructive"}:W==="DUPLICATE_VIDEO"?{title:"Already Saved",description:"This video is already in your collection."}:W==="UPGRADE_REQUIRED"?{title:"Upgrade Required",description:"You've reached your plan limit.",variant:"destructive"}:{title:"Error",description:"Failed to save video. Please try again.",variant:"destructive"}),e(`/category/${_}`);return}console.log(" Video auto-saved successfully:",F),t({title:"Video Saved!",description:"Video has been added to your category."}),e(`/category/${_}`);return}else{console.log(" Not a shared platform, navigating to add video page"),e(`/category/${_}/add-video?url=${encodeURIComponent(T)}`);return}}catch(B){console.error(" Auto-save failed:",B),await k(),t({title:"Error",description:"Failed to save video. Please try again.",variant:"destructive"}),e(`/category/${_}`);return}}else T?(console.log(" URL found but not supported"),await k(),t({title:"Unsupported URL",description:"The link is not supported by Tagmentia.",variant:"destructive"})):console.log(" No URL found in clipboard text")}else console.log(" Clipboard is empty or contains only whitespace")}catch(M){console.error(" Clipboard access error:",M)}e(`/category/${_}`)};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{}),s.jsxs("main",{className:"pb-20 px-4 pt-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-foreground mb-2",children:["Welcome back",x?` ${x}`:"","! "]}),s.jsx("p",{className:"text-muted-foreground",children:"Here's what's happening with your videos today."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.jsx(Re,{to:"/categories",children:s.jsx(Y,{className:"shadow-card hover:shadow-elevated transition-all duration-200 cursor-pointer",children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary",children:s.jsx(Lr,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Categories"}),f||p?s.jsx("div",{className:"h-6 w-8 bg-muted animate-pulse rounded"}):s.jsxs("div",{children:[s.jsxs("p",{className:"text-xl font-semibold text-foreground",children:[u.totalCategories,m&&m.max_categories!==-1&&s.jsxs("span",{className:"text-base text-muted-foreground",children:["/",m.max_categories]})]}),m&&m.max_categories!==-1&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.max(0,m.max_categories-u.totalCategories)," remaining"]}),m&&m.max_categories===-1&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Unlimited"})]})]})]})})})}),s.jsx(Re,{to:"/videos",children:s.jsx(Y,{className:"shadow-card hover:shadow-elevated transition-all duration-200 cursor-pointer",children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary",children:s.jsx(Vt,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Videos"}),f||p?s.jsx("div",{className:"h-6 w-8 bg-muted animate-pulse rounded"}):s.jsxs("div",{children:[s.jsx("p",{className:"text-xl font-semibold text-foreground",children:u.totalVideos}),m&&m.max_videos_per_category!==-1?s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Max ",m.max_videos_per_category," per category"]}):s.jsx("p",{className:"text-xs text-muted-foreground",children:"Unlimited"})]})]})]})})})}),s.jsx(Re,{to:"/screenshots",children:s.jsx(Y,{className:"shadow-card hover:shadow-elevated transition-all duration-200 cursor-pointer",children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary",children:s.jsx(vr,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Screenshots"}),f?s.jsx("div",{className:"h-6 w-8 bg-muted animate-pulse rounded"}):s.jsxs("div",{children:[s.jsx("p",{className:"text-xl font-semibold text-foreground",children:u.totalScreenshots}),s.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]})]})})})}),s.jsx(Re,{to:"/reminders",children:s.jsx(Y,{className:"shadow-card hover:shadow-elevated transition-all duration-200 cursor-pointer",children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-muted border border-border",children:s.jsx(xt,{className:"w-5 h-5 text-foreground"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reminders"}),d?s.jsx("div",{className:"h-6 w-8 bg-muted animate-pulse rounded"}):s.jsxs("div",{children:[s.jsx("p",{className:"text-xl font-semibold text-foreground",children:c.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]})]})})})})]}),m&&!p&&s.jsx(Y,{className:"mb-6 shadow-card",children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Current Plan"}),s.jsx("p",{className:"text-lg font-semibold text-primary",children:m.plan_name.replace(" Plan","").replace(" (Admin)","")})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Categories: ",u.totalCategories,m.max_categories!==-1?`/${m.max_categories}`:" (Unlimited)"]}),s.jsx("div",{className:"text-xs text-muted-foreground"})]})})]})})}),s.jsxs(Y,{className:"mb-6 shadow-card",children:[s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center gap-2 text-lg",children:[s.jsx(sc,{className:"w-5 h-5 text-primary"}),"Quick Access"]})}),s.jsxs(X,{className:"space-y-3",children:[l?s.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(_=>s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50 animate-pulse",children:[s.jsx("div",{className:"w-10 h-10 bg-muted rounded-lg"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-2/3"}),s.jsx("div",{className:"h-3 bg-muted rounded w-1/3"})]}),s.jsx("div",{className:"h-3 bg-muted rounded w-16"})]},_))}):o.length>0?o.map(_=>s.jsx("div",{onClick:()=>P(_.id),className:"block cursor-pointer",children:s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gradient-card hover:shadow-card transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:ne("w-10 h-10 flex-shrink-0 rounded-lg flex items-center justify-center",N(_.color)),children:s.jsx(yr,{className:"w-5 h-5 flex-shrink-0 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-medium text-foreground truncate",children:_.name.length>12?`${_.name.slice(0,12)}...`:_.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[_.videoCount," items"]})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"text-xs text-muted-foreground",children:_.lastAccessed})})]})},_.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Fl,{className:"w-12 h-12 mx-auto text-muted-foreground mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"No categories yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Create your first category to organize videos"})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-2 mt-4",children:[s.jsx(Re,{to:"/categories/add",className:"w-full md:flex-1",children:s.jsxs(O,{className:"w-full h-10 md:h-9 bg-gradient-primary hover:shadow-card transition-all duration-300 text-sm md:text-xs",children:[s.jsx(Lr,{className:"w-4 h-4 mr-2"}),"Add Category"]})}),s.jsx(Re,{to:"/add-video",className:"w-full md:flex-1",children:s.jsxs(O,{className:"w-full h-10 md:h-9 bg-gradient-primary hover:shadow-card transition-all duration-300 text-sm md:text-xs",children:[s.jsx(Vt,{className:"w-4 h-4 mr-2"}),"Add Video"]})}),s.jsx(Re,{to:"/add-screenshot",className:"w-full md:flex-1",children:s.jsxs(O,{className:"w-full h-10 md:h-9 bg-gradient-primary hover:shadow-card transition-all duration-300 text-sm md:text-xs",children:[s.jsx(vr,{className:"w-4 h-4 mr-2"}),"Add Screenshot"]})})]})]})]}),s.jsxs(Y,{className:"mb-6 shadow-card",children:[s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Vt,{className:"w-5 h-5 text-primary"}),"Recent"]})}),s.jsx(X,{children:a?s.jsx("div",{className:"space-y-3",children:[1,2,3].map(_=>s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50 animate-pulse",children:[s.jsx("div",{className:"w-16 h-12 bg-muted rounded-lg"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]},_))}):n.length>0?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"md:hidden",children:[s.jsx(LI,{className:"w-full",setApi:y,children:s.jsx($I,{children:n.map(_=>{var R;let E=_.platform||"video";if(!_.platform&&(_.url==="https://placeholder.com"||(R=_.title)!=null&&R.startsWith("Screenshots -")))E="screenshot";else if(!_.platform&&_.tags&&_.tags.length>0){const T=_.tags.find(B=>["youtube","tiktok","instagram","snapchat","vimeo","twitter"].includes(B.toLowerCase()));T&&(E=T)}if(E==="video"&&_.url){const T=_.url.toLowerCase();T.includes("youtube.com")||T.includes("youtu.be")?E="youtube":T.includes("tiktok.com")?E="tiktok":T.includes("instagram.com")?E="instagram":T.includes("snapchat.com")?E="snapchat":T.includes("vimeo.com")?E="vimeo":(T.includes("twitter.com")||T.includes("x.com"))&&(E="twitter")}const M={id:_.id,title:_.title,platform:E,thumbnail:_.thumbnail_url||"",duration:_.duration?_.duration.toString():void 0,hasReminder:!!_.reminder_date,reminderDate:_.reminder_date||void 0,hasNotes:!!_.description,addedDate:_.created_at,url:_.url,description:_.description||"",tags:_.tags||[],categoryId:_.category_id||void 0};return s.jsx(FI,{children:s.jsx(fj,{video:M,onVideoUpdated:i})},_.id)})})}),s.jsx("div",{className:"flex justify-center gap-2 mt-4",children:n.map((_,E)=>s.jsx("button",{onClick:()=>w==null?void 0:w.scrollTo(E),className:ne("w-2 h-2 rounded-full transition-all duration-200",v===E?"bg-primary w-6":"bg-muted-foreground/30 hover:bg-muted-foreground/50"),"aria-label":`Go to slide ${E+1}`,style:{minHeight:"0.5rem",minWidth:"0.5rem"}},E))})]}),s.jsxs("div",{className:"hidden md:block space-y-3",children:[n.map(_=>{var R;let E=_.platform||"video";if(!_.platform&&(_.url==="https://placeholder.com"||(R=_.title)!=null&&R.startsWith("Screenshots -")))E="screenshot";else if(!_.platform&&_.tags&&_.tags.length>0){const T=_.tags.find(B=>["youtube","tiktok","instagram","snapchat","vimeo","twitter"].includes(B.toLowerCase()));T&&(E=T)}if(E==="video"&&_.url){const T=_.url.toLowerCase();T.includes("youtube.com")||T.includes("youtu.be")?E="youtube":T.includes("tiktok.com")?E="tiktok":T.includes("instagram.com")?E="instagram":T.includes("snapchat.com")?E="snapchat":T.includes("vimeo.com")?E="vimeo":(T.includes("twitter.com")||T.includes("x.com"))&&(E="twitter")}const M={id:_.id,title:_.title,platform:E,thumbnail:_.thumbnail_url||"",duration:_.duration?_.duration.toString():void 0,hasReminder:!!_.reminder_date,reminderDate:_.reminder_date||void 0,hasNotes:!!_.description,addedDate:_.created_at,url:_.url,description:_.description||"",tags:_.tags||[],categoryId:_.category_id||void 0};return s.jsx(fj,{video:M,onVideoUpdated:i},_.id)}),s.jsx(Re,{to:"/videos",children:s.jsxs(O,{className:"w-full mt-4 bg-gradient-primary hover:shadow-elevated transition-all duration-300",children:[s.jsx(Vt,{className:"w-4 h-4 mr-2"}),"View All Videos"]})})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Vt,{className:"w-12 h-12 mx-auto text-muted-foreground mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"No videos yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add your first video to get started"}),s.jsx(Re,{to:"/add-video",children:s.jsxs(O,{className:"mt-4 bg-gradient-primary hover:shadow-elevated transition-all duration-300",children:[s.jsx(yr,{className:"w-4 h-4 mr-2"}),"Add Video"]})})]})})]}),s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center gap-2 text-lg",children:[s.jsx(xt,{className:"w-5 h-5 text-primary"}),"Upcoming Reminders"]})}),s.jsx(X,{children:d?s.jsx("div",{className:"space-y-3",children:[1,2,3].map(_=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50 animate-pulse",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]}),s.jsx("div",{className:"h-4 bg-muted rounded w-16"})]},_))}):c.length>0?s.jsx("div",{className:"space-y-3",children:c.map(_=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-border hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>e(`/video/${_.id}`),children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx("div",{className:"p-2 rounded-lg bg-muted border border-border flex-shrink-0",children:s.jsx(xt,{className:"w-5 h-5 text-foreground"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-medium text-foreground truncate",children:_.title.length>15?`${_.title.slice(0,15)}...`:_.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:_.category}),_.description&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1 italic",children:j(_.description)})]})]}),s.jsx("div",{className:"text-right ml-3",children:s.jsx("p",{className:"text-sm font-medium text-primary",children:_.time})})]},_.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(xt,{className:"w-12 h-12 mx-auto text-muted-foreground mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"No upcoming reminders"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add reminders to your saved videos to see them here"})]})})]})]})]})};function na(){const{layoutType:e,setPreferredLayout:t,preferredLayout:r}=Ur(),n=()=>{t(e==="mobile"?"web":"mobile")},a=()=>{t(null)};return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(O,{variant:"outline",size:"sm",onClick:n,className:ne("flex items-center gap-2",r&&"border-primary"),children:e==="mobile"?s.jsxs(s.Fragment,{children:[s.jsx(Qx,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Mobile View"})]}):s.jsxs(s.Fragment,{children:[s.jsx(CD,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Web View"})]})}),r&&s.jsx(O,{variant:"ghost",size:"sm",onClick:a,className:"text-xs",children:"Auto"})]})}var _v="Dialog",[IL,ML]=ur(_v),[hte,fa]=IL(_v),LL=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=h.useRef(null),c=h.useRef(null),[d,u]=cn({prop:n,defaultProp:a??!1,onChange:i,caller:_v});return s.jsx(hte,{scope:t,triggerRef:l,contentRef:c,contentId:sr(),titleId:sr(),descriptionId:sr(),open:d,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};LL.displayName=_v;var $L="DialogTrigger",FL=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=fa($L,r),i=De(t,a.triggerRef);return s.jsx(we.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":gS(a.open),...n,ref:i,onClick:ge(e.onClick,a.onOpenToggle)})});FL.displayName=$L;var mS="DialogPortal",[mte,UL]=IL(mS,{forceMount:void 0}),BL=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=fa(mS,t);return s.jsx(mte,{scope:t,forceMount:r,children:h.Children.map(n,o=>s.jsx(kr,{present:r||i.open,children:s.jsx(eu,{asChild:!0,container:a,children:o})}))})};BL.displayName=mS;var _g="DialogOverlay",zL=h.forwardRef((e,t)=>{const r=UL(_g,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=fa(_g,e.__scopeDialog);return i.modal?s.jsx(kr,{present:n||i.open,children:s.jsx(gte,{...a,ref:t})}):null});zL.displayName=_g;var pte=jo("DialogOverlay.RemoveScroll"),gte=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=fa(_g,r);return s.jsx(Lh,{as:pte,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(we.div,{"data-state":gS(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Wl="DialogContent",VL=h.forwardRef((e,t)=>{const r=UL(Wl,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=fa(Wl,e.__scopeDialog);return s.jsx(kr,{present:n||i.open,children:i.modal?s.jsx(xte,{...a,ref:t}):s.jsx(vte,{...a,ref:t})})});VL.displayName=Wl;var xte=h.forwardRef((e,t)=>{const r=fa(Wl,e.__scopeDialog),n=h.useRef(null),a=De(t,r.contentRef,n);return h.useEffect(()=>{const i=n.current;if(i)return mv(i)},[]),s.jsx(WL,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ge(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ge(e.onFocusOutside,i=>i.preventDefault())})}),vte=h.forwardRef((e,t)=>{const r=fa(Wl,e.__scopeDialog),n=h.useRef(!1),a=h.useRef(!1);return s.jsx(WL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),WL=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=fa(Wl,r),c=h.useRef(null),d=De(t,c);return hv(),s.jsxs(s.Fragment,{children:[s.jsx(Ih,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(rc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":gS(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(bte,{titleId:l.titleId}),s.jsx(jte,{contentRef:c,descriptionId:l.descriptionId})]})]})}),pS="DialogTitle",qL=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=fa(pS,r);return s.jsx(we.h2,{id:a.titleId,...n,ref:t})});qL.displayName=pS;var HL="DialogDescription",GL=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=fa(HL,r);return s.jsx(we.p,{id:a.descriptionId,...n,ref:t})});GL.displayName=HL;var KL="DialogClose",YL=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=fa(KL,r);return s.jsx(we.button,{type:"button",...n,ref:t,onClick:ge(e.onClick,()=>a.onOpenChange(!1))})});YL.displayName=KL;function gS(e){return e?"open":"closed"}var QL="DialogTitleWarning",[yte,JL]=T7(QL,{contentName:Wl,titleName:pS,docsSlug:"dialog"}),bte=({titleId:e})=>{const t=JL(QL),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},wte="DialogDescriptionWarning",jte=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${JL(wte).contentName}}.`;return h.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},kv=LL,ZL=FL,Ev=BL,cu=zL,du=VL,Vh=qL,Wh=GL,Pv=YL;const Xe=kv,xS=ZL,Nte=Ev,XL=h.forwardRef(({className:e,...t},r)=>s.jsx(cu,{ref:r,className:ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));XL.displayName=cu.displayName;const Qe=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Nte,{children:[s.jsx(XL,{}),s.jsxs(du,{ref:n,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(Pv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(er,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Qe.displayName=du.displayName;const et=({className:e,...t})=>s.jsx("div",{className:ne("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});et.displayName="DialogHeader";const ln=({className:e,...t})=>s.jsx("div",{className:ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ln.displayName="DialogFooter";const tt=h.forwardRef(({className:e,...t},r)=>s.jsx(Vh,{ref:r,className:ne("text-lg font-semibold leading-none tracking-tight",e),...t}));tt.displayName=Vh.displayName;const En=h.forwardRef(({className:e,...t},r)=>s.jsx(Wh,{ref:r,className:ne("text-sm text-muted-foreground",e),...t}));En.displayName=Wh.displayName;const Ste=nc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function je({className:e,variant:t,...r}){return s.jsx("div",{className:ne(Ste({variant:t}),e),...r})}const dc=({open:e,onOpenChange:t,currentPlan:r,feature:n,limitType:a})=>{Ie();const{toast:i}=Ge(),[o,l]=h.useState("monthly"),[c,d]=h.useState(!1),[u,f]=h.useState(null),m=[{name:"Free Plan",planId:"9828dd80-d6fc-4e14-a030-fe5271ebbbc7",monthlyPrice:0,yearlyPrice:0,maxCategories:3,maxVideosPerCategory:10,maxScreenshots:5,storageQuotaMB:null,aiSummary:!1,color:"text-gray-600",bgColor:"bg-gray-50",current:r==="Free Plan"},{name:"Premium Plan",planId:"15c0c510-8867-4db5-808a-e2f4678cb596",monthlyPrice:2.99,yearlyPrice:29.99,maxCategories:"Unlimited",maxVideosPerCategory:"Unlimited",maxScreenshots:"Unlimited",storageQuotaMB:500,aiSummary:!1,color:"text-blue-600",bgColor:"bg-blue-50",current:r==="Premium Plan",recommended:!0}],p=v=>o==="monthly"?v.monthlyPrice:v.yearlyPrice/12,x=v=>{if(v.monthlyPrice===0)return 0;const b=v.monthlyPrice*12,j=(b-v.yearlyPrice)/b*100;return Math.round(j)},g=()=>{const v=m;return v},w=async v=>{var b;d(!0),f(v);try{console.log(" Starting checkout for plan:",v),console.log(" Billing interval:",o),console.log(" Origin:",window.location.origin);const{data:j,error:N}=await $.functions.invoke("create-subscription-checkout",{body:{plan_id:v,billing_interval:o,redirect_base:window.location.origin}});if(console.log(" Checkout response data:",j),console.log(" Checkout response error:",N),j!=null&&j.error){console.error(" Data contains error:",j.error),i({title:"Upgrade Failed",description:j.error,variant:"destructive"});return}if(N){console.error(" Response has error object:",N);let S="Failed to start checkout process. Please try again.";try{const C=(b=N==null?void 0:N.context)==null?void 0:b.response;if(C&&typeof C.text=="function"){const k=await C.text();if(k)try{const A=JSON.parse(k);A.error&&(S=A.error)}catch{k.length<200&&k.trim()&&(S=k)}}}catch(C){console.error("Error parsing checkout response:",C)}S.includes("STRIPE_SECRET_KEY")||S.includes("stripe secret key")?S="Payment system configuration issue. Please contact support.":S.includes("Plan not found")?S="Selected plan is not available. Please try a different plan or contact support.":S.includes("User not authenticated")&&(S="Please log in again and try upgrading."),i({title:"Upgrade Failed",description:S,variant:"destructive"});return}console.log(" Checking for URL in data:",j),j!=null&&j.url?(console.log(" SUCCESS! URL found:",j.url),console.log(" Attempting redirect to:",j.url),window.location.href=j.url):(console.error("No checkout URL received:",j),i({title:"Upgrade Failed",description:"Could not start checkout session. Please try again.",variant:"destructive"}))}catch(j){console.error("Upgrade checkout exception:",j);let N="An unexpected error occurred. Please try again or contact support.";j.message&&(N=j.message,j.message.includes("NetworkError")||j.message.includes("fetch")?N="Network error. Please check your connection and try again.":j.message.includes("not authenticated")&&(N="Please log in again and try upgrading.")),i({title:"Upgrade Failed",description:N,variant:"destructive"})}finally{setTimeout(()=>{d(!1),f(null)},100)}},y=()=>{switch(a){case"categories":return`You've reached the maximum number of categories (${r==="Free Plan"?"3":"Unlimited"}) for your ${r}.`;case"videos":return`You've reached the maximum number of videos per category (${r==="Free Plan"?"10":"Unlimited"}) for your ${r}.`;case"ai_summary":return"AI Summary feature is currently unavailable.";default:return"This feature requires a plan upgrade."}};return s.jsx(Xe,{open:e,onOpenChange:t,children:s.jsxs(Qe,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",onEscapeKeyDown:v=>v.preventDefault(),onPointerDownOutside:v=>v.preventDefault(),children:[s.jsx(et,{children:s.jsxs(tt,{className:"flex items-center gap-2 text-xl justify-center",children:[s.jsx(zf,{className:"w-6 h-6 text-yellow-500"}),"Upgrade Required"]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[s.jsx("div",{className:"mb-3",children:s.jsxs(je,{variant:"secondary",className:"text-xs",children:["Your current plan: ",r]})}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:y()}),s.jsxs("p",{className:"font-medium text-foreground",children:["Upgrade to unlock ",n," and more!"]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"inline-flex items-center bg-muted rounded-lg p-1",children:[s.jsx("button",{onClick:()=>l("monthly"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${o==="monthly"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Monthly"}),s.jsx("button",{onClick:()=>l("yearly"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${o==="yearly"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Yearly"})]})}),s.jsx("div",{className:"flex flex-wrap justify-center gap-4 max-w-2xl mx-auto",children:g().map(v=>s.jsxs(Y,{className:`relative transition-all duration-200 hover:shadow-lg w-full sm:w-[280px] ${v.recommended?"ring-2 ring-primary":""} ${v.current?"opacity-75":""}`,children:[v.recommended&&s.jsx(je,{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 bg-primary text-primary-foreground",children:"Recommended"}),s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:`text-lg font-semibold ${v.color}`,children:v.name}),s.jsxs("div",{className:"flex items-baseline justify-center gap-1 mt-2",children:[s.jsxs("span",{className:"text-2xl font-bold text-foreground",children:["$",p(v).toFixed(2)]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"/month"}),o==="yearly"&&x(v)>0&&s.jsx(je,{variant:"secondary",className:"ml-2 text-xs bg-green-100 text-green-800",children:v.name==="Premium Plan"?"17% discount":x(v)+"% discount"})]}),o==="yearly"&&v.yearlyPrice>0&&s.jsx("div",{className:"text-center",children:s.jsxs("span",{className:"text-sm text-muted-foreground",children:["$",v.yearlyPrice.toFixed(2)," yearly"]})})]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Categories"}),s.jsx("span",{className:"font-medium",children:v.maxCategories==="Unlimited"?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(_b,{className:"w-4 h-4"}),"Unlimited"]}):`${v.maxCategories} max`})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Videos per Category"}),s.jsx("span",{className:"font-medium",children:v.maxVideosPerCategory==="Unlimited"?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(_b,{className:"w-4 h-4"}),"Unlimited"]}):`${v.maxVideosPerCategory} max`})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Max Snapshots"}),s.jsx("span",{className:"font-medium",children:v.maxScreenshots==="Unlimited"?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(_b,{className:"w-4 h-4"}),"Unlimited"]}):`${v.maxScreenshots} max`})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Storage Quota"}),s.jsx("span",{className:"font-medium",children:v.storageQuotaMB?`${v.storageQuotaMB} MB`:"Unlimited"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"AI Summary"}),s.jsx("span",{className:`font-medium ${v.aiSummary?"text-green-600":"text-gray-400"}`,children:v.aiSummary?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ED,{className:"w-4 h-4"}),"Enabled"]}):"Disabled"})]})]}),!v.current&&s.jsx(O,{onClick:()=>w(v.planId),className:"w-full",variant:v.recommended?"default":"outline",disabled:c,children:c&&u===v.planId?"Processing...":`Upgrade to ${v.name}`}),v.current&&s.jsx(je,{className:"w-full justify-center py-2 text-white",style:{backgroundColor:"#545DEA"},children:"Current Plan"})]})})]},v.name))}),s.jsx("div",{className:"flex justify-center pt-4 border-t border-border",children:s.jsx(O,{variant:"outline",onClick:()=>t(!1),className:"px-6",children:"Stay in Current Plan"})})]})]})})},Cte=()=>{const e=Ie();Ge();const{layoutType:t}=Ur(),{videos:r,loading:n,refetch:a}=TL(5),{categories:i,loading:o}=OL(6),{reminders:l,loading:c}=RL(5),{stats:d,loading:u}=hS(),{limits:f,loading:m}=Uo(),[p,x]=h.useState(""),[g,w]=h.useState(!1);h.useEffect(()=>{(async()=>{try{const{data:{user:b}}=await $.auth.getUser();if(b){const{data:j,error:N}=await $.from("profiles").select("first_name").eq("id",b.id).maybeSingle();if(N){console.error("Error fetching profile:",N);return}j!=null&&j.first_name&&x(j.first_name)}}catch(b){console.error("Error in fetchUserProfile:",b)}})()},[]),h.useEffect(()=>{t==="mobile"&&e("/dashboard",{replace:!0})},[t,e]);const y=v=>{switch(v){case"blue-ocean":return"bg-gradient-blue-ocean";case"lime-forest":return"bg-gradient-lime-forest";case"green-emerald":return"bg-gradient-green-emerald";case"teal-navy":return"bg-gradient-teal-navy";case"purple-cosmic":return"bg-gradient-purple-cosmic";case"cyan-azure":return"bg-gradient-cyan-azure";case"lime-vibrant":return"bg-gradient-lime-vibrant";case"red-fire":return"bg-gradient-red-fire";case"orange-sunset":return"bg-gradient-orange-sunset";default:return"bg-gradient-blue-ocean"}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{children:s.jsx(na,{})}),s.jsxs("main",{className:"container mx-auto px-6 py-8 max-w-7xl",children:[s.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-bold text-foreground mb-2",children:["Welcome back",p?` ${p}`:"","! "]}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Here's what's happening with your videos today."})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(O,{size:"lg",className:"bg-gradient-primary hover:shadow-elevated w-48",onClick:()=>e("/categories/add"),children:[s.jsx(Lr,{className:"w-5 h-5 mr-2"}),"Add Category"]}),s.jsxs(O,{size:"lg",className:"bg-gradient-primary hover:shadow-elevated w-48",onClick:()=>e("/add-video"),children:[s.jsx(Vt,{className:"w-5 h-5 mr-2"}),"Add Video"]}),s.jsxs(O,{size:"lg",className:"bg-gradient-primary hover:shadow-elevated w-48",onClick:()=>e("/add-screenshot"),children:[s.jsx(vr,{className:"w-5 h-5 mr-2"}),"Add Screenshot"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[s.jsx(Y,{className:"shadow-card hover:shadow-elevated transition-all cursor-pointer",onClick:()=>e("/categories-web"),children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary",children:s.jsx(Lr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Categories"}),u||m?s.jsx("div",{className:"h-8 w-16 bg-muted animate-pulse rounded"}):s.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[d.totalCategories,f&&f.max_categories!==-1&&s.jsxs("span",{className:"text-base text-muted-foreground",children:["/",f.max_categories]})]})]})]})})}),s.jsx(Y,{className:"shadow-card hover:shadow-elevated transition-all cursor-pointer",onClick:()=>e("/videos-web"),children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary",children:s.jsx(Vt,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Videos"}),u?s.jsx("div",{className:"h-8 w-16 bg-muted animate-pulse rounded"}):s.jsx("p",{className:"text-2xl font-bold text-foreground",children:d.totalVideos})]})]})})}),s.jsx(Y,{className:"shadow-card hover:shadow-elevated transition-all cursor-pointer",onClick:()=>e("/screenshots-web"),children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary",children:s.jsx(vr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Screenshots"}),u?s.jsx("div",{className:"h-8 w-16 bg-muted animate-pulse rounded"}):s.jsx("p",{className:"text-2xl font-bold text-foreground",children:d.totalScreenshots})]})]})})}),s.jsx(Y,{className:"shadow-card hover:shadow-elevated transition-all cursor-pointer",onClick:()=>e("/reminders-web"),children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-muted border border-border",children:s.jsx(xt,{className:"w-6 h-6 text-foreground"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reminders"}),c?s.jsx("div",{className:"h-8 w-16 bg-muted animate-pulse rounded"}):s.jsx("p",{className:"text-2xl font-bold text-foreground",children:l.length})]})]})})}),s.jsx(Y,{className:"shadow-card hover:shadow-elevated transition-all cursor-pointer",onClick:()=>{((f==null?void 0:f.plan_name)||"Free").toLowerCase().includes("free")&&w(!0)},children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary",children:s.jsx(sc,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Plan"}),m?s.jsx("div",{className:"h-8 w-20 bg-muted animate-pulse rounded"}):s.jsx("p",{className:"text-2xl font-bold text-foreground",children:((f==null?void 0:f.plan_name)||"Free").replace(" Plan","").replace(" (Admin)","")})]})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(Y,{className:"shadow-card lg:col-span-1",children:[s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center gap-2",children:[s.jsx(Fl,{className:"w-5 h-5 text-primary"}),"Quick Access"]})}),s.jsx(X,{children:o?s.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(v=>s.jsx("div",{className:"h-16 bg-muted animate-pulse rounded-lg"},v))}):i.length>0?s.jsxs("div",{className:"space-y-3",children:[i.slice(0,6).map(v=>s.jsx(Re,{to:`/category-web/${v.id}`,children:s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-gradient-card hover:shadow-card transition-all",children:[s.jsx("div",{className:ne("w-10 h-10 rounded-lg flex items-center justify-center",y(v.color)),children:s.jsx(yr,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-medium text-foreground truncate",children:v.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[v.videoCount," items"]})]})]})},v.id)),s.jsx(Re,{to:"/categories-web",children:s.jsx(O,{variant:"outline",className:"w-full mt-2",children:"View All Categories"})})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Fl,{className:"w-12 h-12 mx-auto text-muted-foreground mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"No categories yet"}),s.jsx(Re,{to:"/categories/add",children:s.jsxs(O,{className:"mt-4 bg-gradient-primary",children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add Category"]})})]})})]}),s.jsxs(Y,{className:"shadow-card lg:col-span-2",children:[s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center gap-2",children:[s.jsx(Vt,{className:"w-5 h-5 text-primary"}),"Recent"]})}),s.jsx(X,{children:n?s.jsx("div",{className:"space-y-3",children:[1,2,3].map(v=>s.jsx("div",{className:"h-20 bg-muted animate-pulse rounded-lg"},v))}):r.length>0?s.jsxs("div",{className:"space-y-3",children:[r.map(v=>{var N;let b="video";if(v.url==="https://placeholder.com"||(N=v.title)!=null&&N.startsWith("Screenshots -"))b="screenshot";else if(v.tags&&v.tags.length>0){const S=v.tags.find(C=>["youtube","tiktok","instagram","snapchat","vimeo","twitter"].includes(C.toLowerCase()));S&&(b=S)}if(b==="video"&&v.url){const S=v.url.toLowerCase();S.includes("youtube.com")||S.includes("youtu.be")?b="youtube":S.includes("tiktok.com")?b="tiktok":S.includes("instagram.com")?b="instagram":S.includes("snapchat.com")?b="snapchat":S.includes("vimeo.com")?b="vimeo":(S.includes("twitter.com")||S.includes("x.com"))&&(b="twitter")}const j={id:v.id,title:v.title,platform:b,thumbnail:v.thumbnail_url||"",duration:v.duration?v.duration.toString():void 0,hasReminder:!!v.reminder_date,reminderDate:v.reminder_date||void 0,hasNotes:!!v.description,addedDate:v.created_at,url:v.url,description:v.description||"",tags:v.tags||[],categoryId:v.category_id||void 0};return s.jsx(fj,{video:j,onVideoUpdated:a},v.id)}),s.jsx(Re,{to:"/videos-web",children:s.jsx(O,{variant:"outline",className:"w-full mt-4",children:"View All Videos"})})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Vt,{className:"w-12 h-12 mx-auto text-muted-foreground mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"No videos yet"}),s.jsxs(O,{className:"mt-4 bg-gradient-primary",onClick:()=>e("/add-video"),children:[s.jsx(yr,{className:"w-4 h-4 mr-2"}),"Add Video"]})]})})]})]})]}),s.jsx(dc,{open:g,onOpenChange:w,currentPlan:(f==null?void 0:f.plan_name)||"Free Plan",feature:"unlimited categories and videos",limitType:"plan_upgrade"})]})},de=h.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));de.displayName="Input";function hj(e,[t,r]){return Math.min(r,Math.max(t,e))}function vS(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var _te=[" ","Enter","ArrowUp","ArrowDown"],kte=[" ","Enter"],ql="Select",[Av,Tv,Ete]=Xd(ql),[uu,$Ne]=ur(ql,[Ete,$o]),Ov=$o(),[Pte,Bo]=uu(ql),[Ate,Tte]=uu(ql),e5=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:m,required:p,form:x}=e,g=Ov(t),[w,y]=h.useState(null),[v,b]=h.useState(null),[j,N]=h.useState(!1),S=ic(d),[C,k]=cn({prop:n,defaultProp:a??!1,onChange:i,caller:ql}),[A,P]=cn({prop:o,defaultProp:l,onChange:c,caller:ql}),_=h.useRef(null),E=w?x||!!w.closest("form"):!0,[M,R]=h.useState(new Set),T=Array.from(M).map(B=>B.props.value).join(";");return s.jsx(ev,{...g,children:s.jsxs(Pte,{required:p,scope:t,trigger:w,onTriggerChange:y,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:sr(),value:A,onValueChange:P,open:C,onOpenChange:k,dir:S,triggerPointerDownPosRef:_,disabled:m,children:[s.jsx(Av.Provider,{scope:t,children:s.jsx(Ate,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(B=>{R(K=>new Set(K).add(B))},[]),onNativeOptionRemove:h.useCallback(B=>{R(K=>{const z=new Set(K);return z.delete(B),z})},[]),children:r})}),E?s.jsxs(S5,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:f,value:A,onChange:B=>P(B.target.value),disabled:m,form:x,children:[A===void 0?s.jsx("option",{value:""}):null,Array.from(M)]},T):null]})})};e5.displayName=ql;var t5="SelectTrigger",r5=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Ov(r),o=Bo(t5,r),l=o.disabled||n,c=De(t,o.onTriggerChange),d=Tv(r),u=h.useRef("touch"),[f,m,p]=_5(g=>{const w=d().filter(b=>!b.disabled),y=w.find(b=>b.value===o.value),v=k5(w,g,y);v!==void 0&&o.onValueChange(v.value)}),x=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(Th,{asChild:!0,...i,children:s.jsx(we.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":C5(o.value)?"":void 0,...a,ref:c,onClick:ge(a.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&x(g)}),onPointerDown:ge(a.onPointerDown,g=>{u.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:ge(a.onKeyDown,g=>{const w=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(w&&g.key===" ")&&_te.includes(g.key)&&(x(),g.preventDefault())})})})});r5.displayName=t5;var n5="SelectValue",s5=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Bo(n5,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=De(t,c.onValueNodeChange);return Ft(()=>{d(u)},[d,u]),s.jsx(we.span,{...l,ref:f,style:{pointerEvents:"none"},children:C5(c.value)?s.jsx(s.Fragment,{children:o}):i})});s5.displayName=n5;var Ote="SelectIcon",a5=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(we.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});a5.displayName=Ote;var Rte="SelectPortal",i5=e=>s.jsx(eu,{asChild:!0,...e});i5.displayName=Rte;var Hl="SelectContent",o5=h.forwardRef((e,t)=>{const r=Bo(Hl,e.__scopeSelect),[n,a]=h.useState();if(Ft(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Mo.createPortal(s.jsx(l5,{scope:e.__scopeSelect,children:s.jsx(Av.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(c5,{...e,ref:t})});o5.displayName=Hl;var zs=10,[l5,zo]=uu(Hl),Dte="SelectContentImpl",Ite=jo("SelectContent.RemoveScroll"),c5=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:w,...y}=e,v=Bo(Hl,r),[b,j]=h.useState(null),[N,S]=h.useState(null),C=De(t,G=>j(G)),[k,A]=h.useState(null),[P,_]=h.useState(null),E=Tv(r),[M,R]=h.useState(!1),T=h.useRef(!1);h.useEffect(()=>{if(b)return mv(b)},[b]),hv();const B=h.useCallback(G=>{const[ce,...H]=E().map(I=>I.ref.current),[q]=H.slice(-1),te=document.activeElement;for(const I of G)if(I===te||(I==null||I.scrollIntoView({block:"nearest"}),I===ce&&N&&(N.scrollTop=0),I===q&&N&&(N.scrollTop=N.scrollHeight),I==null||I.focus(),document.activeElement!==te))return},[E,N]),K=h.useCallback(()=>B([k,b]),[B,k,b]);h.useEffect(()=>{M&&K()},[M,K]);const{onOpenChange:z,triggerPointerDownPosRef:V}=v;h.useEffect(()=>{if(b){let G={x:0,y:0};const ce=q=>{var te,I;G={x:Math.abs(Math.round(q.pageX)-(((te=V.current)==null?void 0:te.x)??0)),y:Math.abs(Math.round(q.pageY)-(((I=V.current)==null?void 0:I.y)??0))}},H=q=>{G.x<=10&&G.y<=10?q.preventDefault():b.contains(q.target)||z(!1),document.removeEventListener("pointermove",ce),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",H,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",H,{capture:!0})}}},[b,z,V]),h.useEffect(()=>{const G=()=>z(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[z]);const[F,W]=_5(G=>{const ce=E().filter(te=>!te.disabled),H=ce.find(te=>te.ref.current===document.activeElement),q=k5(ce,G,H);q&&setTimeout(()=>q.ref.current.focus())}),D=h.useCallback((G,ce,H)=>{const q=!T.current&&!H;(v.value!==void 0&&v.value===ce||q)&&(A(G),q&&(T.current=!0))},[v.value]),L=h.useCallback(()=>b==null?void 0:b.focus(),[b]),J=h.useCallback((G,ce,H)=>{const q=!T.current&&!H;(v.value!==void 0&&v.value===ce||q)&&_(G)},[v.value]),U=n==="popper"?mj:d5,ee=U===mj?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:w}:{};return s.jsx(l5,{scope:r,content:b,viewport:N,onViewportChange:S,itemRefCallback:D,selectedItem:k,onItemLeave:L,itemTextRefCallback:J,focusSelectedItem:K,selectedItemText:P,position:n,isPositioned:M,searchRef:F,children:s.jsx(Lh,{as:Ite,allowPinchZoom:!0,children:s.jsx(Ih,{asChild:!0,trapped:v.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:ge(a,G=>{var ce;(ce=v.trigger)==null||ce.focus({preventScroll:!0}),G.preventDefault()}),children:s.jsx(rc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:s.jsx(U,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:G=>G.preventDefault(),...y,...ee,onPlaced:()=>R(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ge(y.onKeyDown,G=>{const ce=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!ce&&G.key.length===1&&W(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let q=E().filter(te=>!te.disabled).map(te=>te.ref.current);if(["ArrowUp","End"].includes(G.key)&&(q=q.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const te=G.target,I=q.indexOf(te);q=q.slice(I+1)}setTimeout(()=>B(q)),G.preventDefault()}})})})})})})});c5.displayName=Dte;var Mte="SelectItemAlignedPosition",d5=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Bo(Hl,r),o=zo(Hl,r),[l,c]=h.useState(null),[d,u]=h.useState(null),f=De(t,C=>u(C)),m=Tv(r),p=h.useRef(!1),x=h.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:y,focusSelectedItem:v}=o,b=h.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&w&&y){const C=i.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),P=y.getBoundingClientRect();if(i.dir!=="rtl"){const te=P.left-k.left,I=A.left-te,ie=C.left-I,Z=C.width+ie,pe=Math.max(Z,k.width),xe=window.innerWidth-zs,be=hj(I,[zs,Math.max(zs,xe-pe)]);l.style.minWidth=Z+"px",l.style.left=be+"px"}else{const te=k.right-P.right,I=window.innerWidth-A.right-te,ie=window.innerWidth-C.right-I,Z=C.width+ie,pe=Math.max(Z,k.width),xe=window.innerWidth-zs,be=hj(I,[zs,Math.max(zs,xe-pe)]);l.style.minWidth=Z+"px",l.style.right=be+"px"}const _=m(),E=window.innerHeight-zs*2,M=g.scrollHeight,R=window.getComputedStyle(d),T=parseInt(R.borderTopWidth,10),B=parseInt(R.paddingTop,10),K=parseInt(R.borderBottomWidth,10),z=parseInt(R.paddingBottom,10),V=T+B+M+z+K,F=Math.min(w.offsetHeight*5,V),W=window.getComputedStyle(g),D=parseInt(W.paddingTop,10),L=parseInt(W.paddingBottom,10),J=C.top+C.height/2-zs,U=E-J,ee=w.offsetHeight/2,G=w.offsetTop+ee,ce=T+B+G,H=V-ce;if(ce<=J){const te=_.length>0&&w===_[_.length-1].ref.current;l.style.bottom="0px";const I=d.clientHeight-g.offsetTop-g.offsetHeight,ie=Math.max(U,ee+(te?L:0)+I+K),Z=ce+ie;l.style.height=Z+"px"}else{const te=_.length>0&&w===_[0].ref.current;l.style.top="0px";const ie=Math.max(J,T+g.offsetTop+(te?D:0)+ee)+H;l.style.height=ie+"px",g.scrollTop=ce-J+g.offsetTop}l.style.margin=`${zs}px 0`,l.style.minHeight=F+"px",l.style.maxHeight=E+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,d,g,w,y,i.dir,n]);Ft(()=>b(),[b]);const[j,N]=h.useState();Ft(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const S=h.useCallback(C=>{C&&x.current===!0&&(b(),v==null||v(),x.current=!1)},[b,v]);return s.jsx($te,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(we.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});d5.displayName=Mte;var Lte="SelectPopperPosition",mj=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=zs,...i}=e,o=Ov(r);return s.jsx(tv,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});mj.displayName=Lte;var[$te,yS]=uu(Hl,{}),pj="SelectViewport",u5=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=zo(pj,r),o=yS(pj,r),l=De(t,i.onViewportChange),c=h.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Av.Slot,{scope:r,children:s.jsx(we.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ge(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const p=Math.abs(c.current-u.scrollTop);if(p>0){const x=window.innerHeight-zs*2,g=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),y=Math.max(g,w);if(y<x){const v=y+p,b=Math.min(x,v),j=v-b;f.style.height=b+"px",f.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});u5.displayName=pj;var f5="SelectGroup",[Fte,Ute]=uu(f5),Bte=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=sr();return s.jsx(Fte,{scope:r,id:a,children:s.jsx(we.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Bte.displayName=f5;var h5="SelectLabel",m5=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Ute(h5,r);return s.jsx(we.div,{id:a.id,...n,ref:t})});m5.displayName=h5;var kg="SelectItem",[zte,p5]=uu(kg),g5=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Bo(kg,r),c=zo(kg,r),d=l.value===n,[u,f]=h.useState(i??""),[m,p]=h.useState(!1),x=De(t,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,n,a)}),g=sr(),w=h.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(zte,{scope:r,value:n,disabled:a,textId:g,isSelected:d,onItemTextChange:h.useCallback(v=>{f(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:s.jsx(Av.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:s.jsx(we.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:ge(o.onFocus,()=>p(!0)),onBlur:ge(o.onBlur,()=>p(!1)),onClick:ge(o.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:ge(o.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:ge(o.onPointerDown,v=>{w.current=v.pointerType}),onPointerMove:ge(o.onPointerMove,v=>{var b;w.current=v.pointerType,a?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ge(o.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:ge(o.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(kte.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});g5.displayName=kg;var nf="SelectItemText",x5=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Bo(nf,r),l=zo(nf,r),c=p5(nf,r),d=Tte(nf,r),[u,f]=h.useState(null),m=De(t,y=>f(y),c.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,y,c.value,c.disabled)}),p=u==null?void 0:u.textContent,x=h.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=d;return Ft(()=>(g(x),()=>w(x)),[g,w,x]),s.jsxs(s.Fragment,{children:[s.jsx(we.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Mo.createPortal(i.children,o.valueNode):null]})});x5.displayName=nf;var v5="SelectItemIndicator",y5=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return p5(v5,r).isSelected?s.jsx(we.span,{"aria-hidden":!0,...n,ref:t}):null});y5.displayName=v5;var gj="SelectScrollUpButton",b5=h.forwardRef((e,t)=>{const r=zo(gj,e.__scopeSelect),n=yS(gj,e.__scopeSelect),[a,i]=h.useState(!1),o=De(t,n.onScrollButtonChange);return Ft(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(j5,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});b5.displayName=gj;var xj="SelectScrollDownButton",w5=h.forwardRef((e,t)=>{const r=zo(xj,e.__scopeSelect),n=yS(xj,e.__scopeSelect),[a,i]=h.useState(!1),o=De(t,n.onScrollButtonChange);return Ft(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(j5,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});w5.displayName=xj;var j5=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=zo("SelectScrollButton",r),o=h.useRef(null),l=Tv(r),c=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Ft(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(we.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ge(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ge(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ge(a.onPointerLeave,()=>{c()})})}),Vte="SelectSeparator",N5=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(we.div,{"aria-hidden":!0,...n,ref:t})});N5.displayName=Vte;var vj="SelectArrow",Wte=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Ov(r),i=Bo(vj,r),o=zo(vj,r);return i.open&&o.position==="popper"?s.jsx(rv,{...a,...n,ref:t}):null});Wte.displayName=vj;var qte="SelectBubbleInput",S5=h.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=h.useRef(null),i=De(n,a),o=vS(t);return h.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const f=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(we.select,{...r,style:{...QR,...r.style},ref:i,defaultValue:t})});S5.displayName=qte;function C5(e){return e===""||e===void 0}function _5(e){const t=zt(e),r=h.useRef(""),n=h.useRef(0),a=h.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function k5(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Hte(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Hte(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Gte=e5,E5=r5,Kte=s5,Yte=a5,Qte=i5,P5=o5,Jte=u5,A5=m5,T5=g5,Zte=x5,Xte=y5,O5=b5,R5=w5,D5=N5;const qe=Gte,He=Kte,Ve=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(E5,{ref:n,className:ne("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(Yte,{asChild:!0,children:s.jsx(Qs,{className:"h-4 w-4 opacity-50"})})]}));Ve.displayName=E5.displayName;const I5=h.forwardRef(({className:e,...t},r)=>s.jsx(O5,{ref:r,className:ne("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(CW,{className:"h-4 w-4"})}));I5.displayName=O5.displayName;const M5=h.forwardRef(({className:e,...t},r)=>s.jsx(R5,{ref:r,className:ne("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Qs,{className:"h-4 w-4"})}));M5.displayName=R5.displayName;const We=h.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(Qte,{children:s.jsxs(P5,{ref:a,className:ne("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(I5,{}),s.jsx(Jte,{className:ne("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(M5,{})]})}));We.displayName=P5.displayName;const ere=h.forwardRef(({className:e,...t},r)=>s.jsx(A5,{ref:r,className:ne("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));ere.displayName=A5.displayName;const se=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(T5,{ref:n,className:ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Xte,{children:s.jsx(st,{className:"h-4 w-4"})})}),s.jsx(Zte,{children:t})]}));se.displayName=T5.displayName;const tre=h.forwardRef(({className:e,...t},r)=>s.jsx(D5,{ref:r,className:ne("-mx-1 my-1 h-px bg-muted",e),...t}));tre.displayName=D5.displayName;const Ad=({category:e,onEdit:t,onDelete:r,onCardClick:n})=>{const a=c=>{switch(c){case"blue-ocean":return"bg-gradient-blue-ocean";case"lime-forest":return"bg-gradient-lime-forest";case"green-emerald":return"bg-gradient-green-emerald";case"teal-navy":return"bg-gradient-teal-navy";case"purple-cosmic":return"bg-gradient-purple-cosmic";case"cyan-azure":return"bg-gradient-cyan-azure";case"lime-vibrant":return"bg-gradient-lime-vibrant";case"red-fire":return"bg-gradient-red-fire";case"orange-sunset":return"bg-gradient-orange-sunset";case"blue-cyan":return"bg-gradient-blue-ocean";case"pink-purple":return"bg-gradient-purple-cosmic";case"blue-deep":return"bg-gradient-teal-navy";case"purple-deep":return"bg-gradient-purple-cosmic";case"cyan-blue":return"bg-gradient-cyan-azure";case"red-orange":return"bg-gradient-lime-forest";case"blue-purple":return"bg-gradient-purple-cosmic";case"orange-yellow":return"bg-gradient-lime-vibrant";case"green-mint":return"bg-gradient-green-emerald";default:return"bg-gradient-blue-ocean"}},i=()=>{n&&n(e)},o=c=>{c.stopPropagation(),t&&t(e)},l=c=>{c.stopPropagation(),r&&r(e)};return s.jsx(Y,{className:"group hover:shadow-elevated transition-all duration-300 transform hover:-translate-y-1 cursor-pointer bg-gradient-card relative",onClick:i,children:s.jsxs(X,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("div",{className:ne("w-12 h-12 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300",a(e.color)),children:s.jsx(yr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-2xl font-bold text-primary",children:e.count}),s.jsx("p",{className:"text-xs text-muted-foreground mx-0 px-0",children:e.count===1?"item":"items"})]}),(t||r)&&s.jsxs(nn,{children:[s.jsx(sn,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity duration-200",onClick:c=>c.stopPropagation(),children:s.jsx(Lo,{className:"w-4 h-4"})})}),s.jsxs(Gr,{align:"end",className:"w-48",children:[t&&s.jsxs(Oe,{onClick:o,children:[s.jsx(Cn,{className:"w-4 h-4 mr-2"}),"Edit Category"]}),r&&s.jsxs(Oe,{onClick:l,className:"text-destructive focus:text-destructive",children:[s.jsx(yt,{className:"w-4 h-4 mr-2"}),"Delete Category"]})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors duration-200 mb-1",children:e.name}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(sc,{className:"w-3 h-3"}),s.jsx("span",{children:e.lastUpdated})]})]})]})})};var rre="Label",L5=h.forwardRef((e,t)=>s.jsx(we.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));L5.displayName=rre;var $5=L5;const nre=nc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Q=h.forwardRef(({className:e,...t},r)=>s.jsx($5,{ref:r,className:ne(nre(),e),...t}));Q.displayName=$5.displayName;const _r=h.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));_r.displayName="Textarea";const Na=e=>e?e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<[^>]+>/g,"").replace(/javascript:/gi,"").replace(/on\w+\s*=\s*["'][^"']*["']/gi,"").slice(0,2e3):"",yj=e=>e?e.trim().replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<[^>]+>/g,"").replace(/javascript:/gi,"").replace(/on\w+\s*=\s*["'][^"']*["']/gi,"").slice(0,2e3):"",Rv=e=>e?e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<[^>]+>/g,"").replace(/javascript:/gi,"").replace(/on\w+\s*=\s*["'][^"']*["']/gi,"").slice(0,5e3):"",sre=e=>{if(!e)return"";const t=e.trim();return!["http://","https://"].some(a=>t.toLowerCase().startsWith(a))&&t.length>0?`https://${t}`:t.replace(/[<>'"]/g,"").slice(0,2e3)},F5=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)&&e.length<=254,U5=e=>{if(e.length<8)return{isValid:!1,message:"Password must be at least 8 characters long"};if(e.length>128)return{isValid:!1,message:"Password must be less than 128 characters"};const t=/[a-z]/.test(e),r=/[A-Z]/.test(e),n=/\d/.test(e),a=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(e);return!t||!r||!n||!a?{isValid:!1,message:"Password must include uppercase, lowercase, number, and special character"}:{isValid:!0}},Gl=(e,t=0,r=1e3,n="Input")=>!e&&t>0?{isValid:!1,message:`${n} is required`}:e&&e.length<t?{isValid:!1,message:`${n} must be at least ${t} characters`}:e&&e.length>r?{isValid:!1,message:`${n} must be less than ${r} characters`}:{isValid:!0},B5=(e,t=5,r=15*60*1e3)=>{const n=Date.now(),a=`${e}_${Math.floor(n/r)}`;try{const o=JSON.parse(localStorage.getItem(a)||"[]").filter(c=>n-c<r);return o.length>=t?!1:(o.push(n),localStorage.setItem(a,JSON.stringify(o)),Object.keys(localStorage).filter(c=>c.startsWith(`${e}_`)).forEach(c=>{const d=parseInt(c.split("_")[1]);n-d>r&&localStorage.removeItem(c)}),!0)}catch{return!0}},DE=[{name:"Blue Ocean",value:"blue-ocean",class:"bg-gradient-blue-ocean"},{name:"Lime Forest",value:"lime-forest",class:"bg-gradient-lime-forest"},{name:"Green Emerald",value:"green-emerald",class:"bg-gradient-green-emerald"},{name:"Teal Navy",value:"teal-navy",class:"bg-gradient-teal-navy"},{name:"Purple Cosmic",value:"purple-cosmic",class:"bg-gradient-purple-cosmic"},{name:"Cyan Azure",value:"cyan-azure",class:"bg-gradient-cyan-azure"},{name:"Lime Vibrant",value:"lime-vibrant",class:"bg-gradient-lime-vibrant"},{name:"Red Fire",value:"red-fire",class:"bg-gradient-red-fire"},{name:"Orange Sunset",value:"orange-sunset",class:"bg-gradient-orange-sunset"}],qh=({category:e,isOpen:t,onClose:r,onSave:n})=>{var c;const[a,i]=h.useState({name:"",description:"",color:"blue-ocean"});h.useEffect(()=>{e&&i({name:e.name,description:e.description||"",color:e.color})},[e]);const o=(d,u)=>{const f=d==="description"?Rv(u):Na(u);i(m=>({...m,[d]:f}))},l=d=>{if(d.preventDefault(),!yj(a.name)){re({title:"Error",description:"Category name is required",variant:"destructive"});return}if(a.name.length>19){re({title:"Error",description:"Category name must be less than 20 characters",variant:"destructive"});return}if(e){const u={...e,name:yj(a.name),description:a.description,color:a.color,lastUpdated:"Just now"};n(u),re({title:"Success!",description:`Category "${a.name}" has been updated`}),r()}};return e?s.jsx(Xe,{open:t,onOpenChange:r,children:s.jsxs(Qe,{className:"max-w-md mx-auto h-[90vh] flex flex-col p-0",children:[s.jsx(et,{className:"flex-shrink-0 px-6 pt-6 pb-2",children:s.jsx(tt,{children:"Edit Category"})}),s.jsx("div",{className:"flex-1 overflow-y-auto px-6 overscroll-contain",style:{WebkitOverflowScrolling:"touch"},children:s.jsxs("div",{className:"space-y-6 pb-4",children:[s.jsx(Y,{className:"shadow-card",children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-gradient-card",children:[s.jsx("div",{className:ne("w-12 h-12 rounded-lg flex items-center justify-center",((c=DE.find(d=>d.value===a.color))==null?void 0:c.class)||"bg-gradient-blue-ocean"),children:s.jsx(ug,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground",children:a.name||"Category Name"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.count," videos"]})]})]})})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"edit-name",className:"text-sm font-medium text-foreground",children:"Category Name *"}),s.jsx(de,{id:"edit-name",placeholder:"e.g., AI Tools",value:a.name,onChange:d=>o("name",d.target.value),className:"bg-card border-border focus:ring-primary",maxLength:19}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.name.length,"/19 characters (max)"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"edit-description",className:"text-sm font-medium text-foreground",children:"Description (Optional)"}),s.jsx(_r,{id:"edit-description",placeholder:"What kind of videos will you save in this category?",value:a.description,onChange:d=>o("description",d.target.value),className:"bg-card border-border focus:ring-primary min-h-[80px] resize-none",maxLength:200}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.description.length,"/200 characters"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Q,{className:"text-sm font-medium text-foreground",children:"Category Color"}),s.jsx("div",{className:"grid grid-cols-5 gap-2",children:DE.map(d=>s.jsx("button",{type:"button",onClick:()=>o("color",d.value),className:ne("relative w-10 h-10 rounded-lg transition-all duration-200",d.class,"hover:scale-105 hover:shadow-card",a.color===d.value&&"ring-2 ring-primary ring-offset-1"),children:a.color===d.value&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"w-4 h-4 bg-white rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})})})},d.value))})]})]})]})}),s.jsx("form",{onSubmit:l,className:"flex-shrink-0 px-6 pb-6 pt-4 border-t border-border bg-background",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(O,{type:"button",variant:"outline",onClick:r,className:"flex-1 border-border hover:bg-muted",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Cancel"]}),s.jsxs(O,{type:"submit",className:"flex-1 bg-gradient-primary hover:shadow-elevated transition-all duration-300",disabled:!a.name.trim(),children:[s.jsx(aa,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})})]})}):null};var z5="AlertDialog",[are,FNe]=ur(z5,[ML]),yi=ML(),V5=e=>{const{__scopeAlertDialog:t,...r}=e,n=yi(t);return s.jsx(kv,{...n,...r,modal:!0})};V5.displayName=z5;var ire="AlertDialogTrigger",W5=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=yi(r);return s.jsx(ZL,{...a,...n,ref:t})});W5.displayName=ire;var ore="AlertDialogPortal",q5=e=>{const{__scopeAlertDialog:t,...r}=e,n=yi(t);return s.jsx(Ev,{...n,...r})};q5.displayName=ore;var lre="AlertDialogOverlay",H5=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=yi(r);return s.jsx(cu,{...a,...n,ref:t})});H5.displayName=lre;var rd="AlertDialogContent",[cre,dre]=are(rd),ure=HR("AlertDialogContent"),G5=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=yi(r),o=h.useRef(null),l=De(t,o),c=h.useRef(null);return s.jsx(yte,{contentName:rd,titleName:K5,docsSlug:"alert-dialog",children:s.jsx(cre,{scope:r,cancelRef:c,children:s.jsxs(du,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:ge(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(ure,{children:n}),s.jsx(hre,{contentRef:o})]})})})});G5.displayName=rd;var K5="AlertDialogTitle",Y5=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=yi(r);return s.jsx(Vh,{...a,...n,ref:t})});Y5.displayName=K5;var Q5="AlertDialogDescription",J5=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=yi(r);return s.jsx(Wh,{...a,...n,ref:t})});J5.displayName=Q5;var fre="AlertDialogAction",Z5=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=yi(r);return s.jsx(Pv,{...a,...n,ref:t})});Z5.displayName=fre;var X5="AlertDialogCancel",e3=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=dre(X5,r),i=yi(r),o=De(t,a);return s.jsx(Pv,{...i,...n,ref:o})});e3.displayName=X5;var hre=({contentRef:e})=>{const t=`\`${rd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${rd}\` by passing a \`${Q5}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${rd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},mre=V5,pre=W5,gre=q5,t3=H5,r3=G5,n3=Z5,s3=e3,a3=Y5,i3=J5;const la=mre,Dv=pre,xre=gre,o3=h.forwardRef(({className:e,...t},r)=>s.jsx(t3,{className:ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));o3.displayName=t3.displayName;const vs=h.forwardRef(({className:e,...t},r)=>s.jsxs(xre,{children:[s.jsx(o3,{}),s.jsx(r3,{ref:r,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));vs.displayName=r3.displayName;const ys=({className:e,...t})=>s.jsx("div",{className:ne("flex flex-col space-y-2 text-center sm:text-left",e),...t});ys.displayName="AlertDialogHeader";const bs=({className:e,...t})=>s.jsx("div",{className:ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});bs.displayName="AlertDialogFooter";const ws=h.forwardRef(({className:e,...t},r)=>s.jsx(a3,{ref:r,className:ne("text-lg font-semibold",e),...t}));ws.displayName=a3.displayName;const js=h.forwardRef(({className:e,...t},r)=>s.jsx(i3,{ref:r,className:ne("text-sm text-muted-foreground",e),...t}));js.displayName=i3.displayName;const Ns=h.forwardRef(({className:e,...t},r)=>s.jsx(n3,{ref:r,className:ne(q1(),e),...t}));Ns.displayName=n3.displayName;const Ss=h.forwardRef(({className:e,...t},r)=>s.jsx(s3,{ref:r,className:ne(q1({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Ss.displayName=s3.displayName;const Hh=({category:e,isOpen:t,onClose:r,onDelete:n})=>{const a=()=>{e&&(n(e.id),re({title:"Category Deleted",description:`"${e.name}" and all its videos have been removed`,variant:"info"}),r())};return e?s.jsx(la,{open:t,onOpenChange:r,children:s.jsxs(vs,{children:[s.jsxs(ys,{children:[s.jsx(ws,{children:"Delete Category"}),s.jsxs(js,{className:"space-y-2",children:[s.jsxs("p",{children:["Are you sure you want to delete ",s.jsxs("strong",{children:['"',e.name,'"']}),"?"]}),e.count>0&&s.jsxs("p",{className:"text-destructive font-medium",children:["This will permanently delete ",e.count," video",e.count!==1?"s":""," in this category."]}),s.jsx("p",{className:"text-muted-foreground",children:"This action cannot be undone."})]})]}),s.jsxs(bs,{children:[s.jsx(Ss,{children:"Cancel"}),s.jsx(Ns,{onClick:a,className:"bg-destructive hover:bg-destructive/90",children:"Delete Category"})]})]})}):null},vre=()=>{const{layoutType:e}=Ur(),t=Ie(),[r,n]=h.useState(""),[a,i]=h.useState("name"),[o,l]=h.useState("grid"),[c,d]=h.useState([]),[u,f]=h.useState(!0),[m,p]=h.useState(null),[x,g]=h.useState(null),w=E=>{const M=new Date(E),T=Math.floor((new Date().getTime()-M.getTime())/(1e3*60*60));if(T<1)return"Just now";if(T<24)return`${T}h ago`;const B=Math.floor(T/24);return B<7?`${B}d ago`:M.toLocaleDateString()};h.useEffect(()=>{if(e==="web"){t("/categories-web",{replace:!0});return}(async()=>{try{f(!0);const{data:M,error:R}=await $.from("categories").select(`
            id,
            name,
            color,
            description,
            updated_at
          `).order("updated_at",{ascending:!1});if(R){console.error("Error fetching categories:",R);return}const B=(await Promise.all((M||[]).map(async K=>{const{count:z}=await $.from("videos").select("*",{count:"exact",head:!0}).eq("category_id",K.id);return{...K,videoCount:z||0}}))).map(K=>({id:K.id,name:K.name,color:K.color||"blue-ocean",description:K.description||null,count:K.videoCount,updatedAt:K.updated_at,lastUpdated:w(K.updated_at)}));d(B)}catch(M){console.error("Error in fetchCategories:",M)}finally{f(!1)}})()},[e,t]);const v=[...c.filter(E=>E.name.toLowerCase().includes(r.toLowerCase()))].sort((E,M)=>{switch(a){case"name":return E.name.localeCompare(M.name);case"count":return M.count-E.count;case"recent":return new Date(M.updatedAt).getTime()-new Date(E.updatedAt).getTime();default:return 0}}),b=E=>{try{const M=new URL(E);return M.protocol==="http:"||M.protocol==="https:"}catch{return!1}},j=E=>{if(!E)return null;if(b(E.trim()))return E.trim();const M=/(https?:\/\/[^\s]+)/gi,R=E.match(M);if(R&&R.length>0){for(const T of R)if(b(T))return T}return null},N=async()=>{try{try{const{Clipboard:E}=await Zr(async()=>{const{Clipboard:M}=await import("./index-DL8M6LHe.js");return{Clipboard:M}},[]);await E.write({string:""}),console.log(" Clipboard cleared via Capacitor plugin")}catch{navigator.clipboard&&typeof navigator.clipboard.writeText=="function"&&(await navigator.clipboard.writeText(""),console.log(" Clipboard cleared via navigator API"))}}catch(E){console.error(" Failed to clear clipboard:",E)}},S=async E=>{const M=E.id;if(ko.isNativePlatform())try{let R=null;try{const{Clipboard:T}=await Zr(async()=>{const{Clipboard:K}=await import("./index-DL8M6LHe.js");return{Clipboard:K}},[]);R=(await T.read()).value||null,console.log(" Clipboard read via Capacitor plugin:",R?`Yes (length: ${R.length})`:"Empty")}catch{console.log(" Capacitor Clipboard plugin failed, trying navigator.clipboard..."),navigator.clipboard&&typeof navigator.clipboard.readText=="function"&&(R=await navigator.clipboard.readText(),console.log(" Clipboard read via navigator API:",R?`Yes (length: ${R.length})`:"Empty"))}if(R&&R.trim()){const T=j(R);if(console.log(" Extracted URL:",T),T&&Cv(T)){console.log(" Supported URL found, auto-saving video...");try{const{data:{session:B}}=await $.auth.getSession();if(!(B!=null&&B.access_token)){re({title:"Authentication Required",description:"Please log in to save videos.",variant:"destructive"}),t(`/category/${M}`);return}const K=zh(T);if(K&&["youtube","instagram","tiktok","snapchat","loom"].includes(K)){const{data:F,error:W}=await Pd("save-shared-link",{url:T,categoryId:M});if(await N(),W){console.error(" Auto-save error:",W),re(W==="UNSUPPORTED_PLATFORM"?{title:"Unsupported Link",description:"This link can't be added to Tagmentia yet.",variant:"destructive"}:W==="DUPLICATE_VIDEO"?{title:"Already Saved",description:"This video is already in your collection."}:W==="UPGRADE_REQUIRED"?{title:"Upgrade Required",description:"You've reached your plan limit.",variant:"destructive"}:{title:"Error",description:"Failed to save video. Please try again.",variant:"destructive"}),t(`/category/${M}`);return}console.log(" Video auto-saved successfully:",F),re({title:"Video Saved!",description:"Video has been added to your category."}),t(`/category/${M}`);return}else{console.log(" Not a shared platform, navigating to add video page"),t(`/category/${M}/add-video?url=${encodeURIComponent(T)}`);return}}catch(B){console.error(" Auto-save failed:",B),await N(),re({title:"Error",description:"Failed to save video. Please try again.",variant:"destructive"}),t(`/category/${M}`);return}}else T?(console.log(" URL found but not supported"),await N(),re({title:"Unsupported URL",description:`${T}`,variant:"destructive"})):console.log(" No URL found in clipboard text")}else console.log(" Clipboard is empty or contains only whitespace")}catch(R){console.error(" Clipboard access error:",R)}t(`/category/${M}`)},C=async()=>{try{f(!0);const{data:E,error:M}=await $.from("categories").select(`
          id,
          name,
          color,
          description,
          updated_at
        `).order("updated_at",{ascending:!1});if(M){console.error("Error fetching categories:",M);return}const T=(await Promise.all((E||[]).map(async B=>{const{count:K}=await $.from("videos").select("*",{count:"exact",head:!0}).eq("category_id",B.id);return{...B,videoCount:K||0}}))).map(B=>({id:B.id,name:B.name,color:B.color||"blue-ocean",description:B.description||null,count:B.videoCount,updatedAt:B.updated_at,lastUpdated:w(B.updated_at)}));d(T)}catch(E){console.error("Error in fetchCategories:",E)}finally{f(!1)}},k=E=>{p(E)},A=E=>{g(E)},P=async E=>{const{error:M}=await $.from("categories").update({name:E.name,description:E.description,color:E.color}).eq("id",E.id);if(M){console.error("Error updating category:",M),re({title:"Error",description:"Failed to update category. Please try again.",variant:"destructive"});return}await C(),p(null)},_=async E=>{const{error:M}=await $.from("videos").delete().eq("category_id",E);if(M){console.error("Error deleting videos:",M),re({title:"Error",description:"Failed to delete category videos. Please try again.",variant:"destructive"});return}const{error:R}=await $.from("categories").delete().eq("id",E);if(R){console.error("Error deleting category:",R),re({title:"Error",description:"Failed to delete category. Please try again.",variant:"destructive"});return}await C(),g(null)};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{title:"My Categories",showBack:!1,children:s.jsx(Re,{to:"/categories/add",children:s.jsxs(O,{className:"bg-gradient-primary hover:shadow-elevated transition-all duration-300",children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add Category"]})})}),s.jsxs("main",{className:"pb-20 px-4 pt-6",children:[s.jsxs("div",{className:"flex gap-3 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(de,{placeholder:"Search categories...",value:r,onChange:E=>n(E.target.value),className:"pl-10 bg-card border-border focus:ring-primary"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(O,{variant:"outline",onClick:()=>{o==="grid"?l("list"):t("/categories-grid")},className:"bg-card border-border hover:bg-muted flex items-center gap-2",children:o==="grid"?s.jsxs(s.Fragment,{children:[s.jsx(Hx,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Basic View"})]}):s.jsxs(s.Fragment,{children:[s.jsx(DW,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Card Grid"})]})}),s.jsxs(qe,{value:a,onValueChange:i,children:[s.jsxs(Ve,{className:"w-32 bg-card border-border",children:[s.jsx(tu,{className:"w-4 h-4 mr-2"}),s.jsx(He,{})]}),s.jsxs(We,{children:[s.jsx(se,{value:"name",children:"Name"}),s.jsx(se,{value:"count",children:"Item Count"}),s.jsx(se,{value:"recent",children:"Recent"})]})]})]})]}),u?s.jsx("div",{className:o==="grid"?"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-4":"space-y-4",children:[1,2,3,4,5,6].map(E=>s.jsxs("div",{className:"bg-card rounded-lg p-4 shadow-card animate-pulse",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg"}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"w-8 h-6 bg-muted rounded mb-1"}),s.jsx("div",{className:"w-12 h-3 bg-muted rounded"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"w-3/4 h-4 bg-muted rounded"}),s.jsx("div",{className:"w-1/2 h-3 bg-muted rounded"})]})]},E))}):v.length>0?o==="grid"?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(E=>s.jsx(Ad,{category:E,onCardClick:S,onEdit:k,onDelete:A},E.id))}):s.jsx("div",{className:"space-y-4",children:v.map(E=>s.jsx("div",{className:"bg-card rounded-lg p-4 shadow-card hover:shadow-elevated transition-all duration-300 cursor-pointer group",onClick:()=>S(E),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-lg bg-gradient-${E.color} flex items-center justify-center`,children:s.jsx(Lr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground group-hover:text-primary transition-colors",children:E.name}),E.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:E.description}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Updated ",E.lastUpdated]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-primary mb-1",children:E.count}),s.jsx("div",{className:"text-xs text-muted-foreground",children:E.count===1?"item":"items"})]})]})},E.id))}):s.jsx("div",{className:"text-center py-16",children:r?s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No categories found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search terms"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Lr,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"You have no categories yet"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Add your first category to start organizing your videos"}),s.jsx(Re,{to:"/categories/add",children:s.jsxs(O,{className:"bg-gradient-primary hover:shadow-elevated transition-all duration-300",children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add Your First Category"]})})]})})]}),s.jsx(qh,{category:m,isOpen:!!m,onClose:()=>p(null),onSave:P}),s.jsx(Hh,{category:x,isOpen:!!x,onClose:()=>g(null),onDelete:_})]})},yre=()=>{const e=Ie(),{layoutType:t}=Ur(),[r,n]=h.useState(""),[a,i]=h.useState("name"),[o,l]=h.useState([]),[c,d]=h.useState(!0),[u,f]=h.useState(null),[m,p]=h.useState(null),x=C=>{const k=new Date(C),P=Math.floor((new Date().getTime()-k.getTime())/(1e3*60*60));if(P<1)return"Just now";if(P<24)return`${P}h ago`;const _=Math.floor(P/24);return _<7?`${_}d ago`:k.toLocaleDateString()};h.useEffect(()=>{if(t==="mobile"){e("/categories",{replace:!0});return}(async()=>{try{d(!0);const{data:k,error:A}=await $.from("categories").select(`
            id,
            name,
            color,
            description,
            updated_at
          `).order("updated_at",{ascending:!1});if(A){console.error("Error fetching categories:",A);return}const _=(await Promise.all((k||[]).map(async E=>{const{count:M}=await $.from("videos").select("*",{count:"exact",head:!0}).eq("category_id",E.id);return{...E,videoCount:M||0}}))).map(E=>({id:E.id,name:E.name,color:E.color||"blue-ocean",description:E.description||null,count:E.videoCount,updatedAt:E.updated_at,lastUpdated:x(E.updated_at)}));l(_)}catch(k){console.error("Error in fetchCategories:",k)}finally{d(!1)}})()},[t,e]);const w=[...o.filter(C=>C.name.toLowerCase().includes(r.toLowerCase()))].sort((C,k)=>{switch(a){case"name":return C.name.localeCompare(k.name);case"count":return k.count-C.count;case"recent":return new Date(k.updatedAt).getTime()-new Date(C.updatedAt).getTime();default:return 0}}),y=C=>{e(`/category-web/${C.id}`)},v=async()=>{try{d(!0);const{data:C,error:k}=await $.from("categories").select(`
          id,
          name,
          color,
          description,
          updated_at
        `).order("updated_at",{ascending:!1});if(k){console.error("Error fetching categories:",k);return}const P=(await Promise.all((C||[]).map(async _=>{const{count:E}=await $.from("videos").select("*",{count:"exact",head:!0}).eq("category_id",_.id);return{..._,videoCount:E||0}}))).map(_=>({id:_.id,name:_.name,color:_.color||"blue-ocean",description:_.description||null,count:_.videoCount,updatedAt:_.updated_at,lastUpdated:x(_.updated_at)}));l(P)}catch(C){console.error("Error in fetchCategories:",C)}finally{d(!1)}},b=C=>{f(C)},j=C=>{p(C)},N=async C=>{const{error:k}=await $.from("categories").update({name:C.name,description:C.description,color:C.color}).eq("id",C.id);if(k){console.error("Error updating category:",k),re({title:"Error",description:"Failed to update category. Please try again.",variant:"destructive"});return}await v(),f(null)},S=async C=>{const{error:k}=await $.from("videos").delete().eq("category_id",C);if(k){console.error("Error deleting videos:",k),re({title:"Error",description:"Failed to delete category videos. Please try again.",variant:"destructive"});return}const{error:A}=await $.from("categories").delete().eq("id",C);if(A){console.error("Error deleting category:",A),re({title:"Error",description:"Failed to delete category. Please try again.",variant:"destructive"});return}await v(),p(null)};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs(rt,{title:"My Categories",showBack:!1,children:[s.jsx(na,{}),s.jsx(Re,{to:"/categories/add",children:s.jsxs(O,{className:"bg-gradient-primary hover:shadow-elevated transition-all duration-300",children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add Category"]})})]}),s.jsxs("main",{className:"container mx-auto px-6 py-8 max-w-7xl",children:[s.jsxs("div",{className:"flex gap-4 mb-8",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(de,{placeholder:"Search categories...",value:r,onChange:C=>n(C.target.value),className:"pl-10 bg-card border-border focus:ring-primary"})]}),s.jsxs(qe,{value:a,onValueChange:i,children:[s.jsxs(Ve,{className:"w-48 bg-card border-border",children:[s.jsx(tu,{className:"w-4 h-4 mr-2"}),s.jsx(He,{})]}),s.jsxs(We,{children:[s.jsx(se,{value:"name",children:"Name"}),s.jsx(se,{value:"count",children:"Item Count"}),s.jsx(se,{value:"recent",children:"Recent"})]})]})]}),c?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[1,2,3,4,5,6,7,8].map(C=>s.jsxs("div",{className:"bg-card rounded-lg p-6 shadow-card animate-pulse",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg"}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"w-8 h-6 bg-muted rounded mb-1"}),s.jsx("div",{className:"w-12 h-3 bg-muted rounded"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"w-3/4 h-4 bg-muted rounded"}),s.jsx("div",{className:"w-1/2 h-3 bg-muted rounded"})]})]},C))}):w.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:w.map(C=>s.jsx(Ad,{category:C,onCardClick:y,onEdit:b,onDelete:j},C.id))}):s.jsx("div",{className:"text-center py-16",children:r?s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No categories found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search terms"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Lr,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"You have no categories yet"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Add your first category to start organizing your videos"}),s.jsx(Re,{to:"/categories/add",children:s.jsxs(O,{className:"bg-gradient-primary hover:shadow-elevated transition-all duration-300",children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add Your First Category"]})})]})})]}),s.jsx(qh,{category:u,isOpen:!!u,onClose:()=>f(null),onSave:N}),s.jsx(Hh,{category:m,isOpen:!!m,onClose:()=>p(null),onDelete:S})]})},bre=()=>{const e=Ie(),[t,r]=h.useState([]),[n,a]=h.useState(!0),[i,o]=h.useState(null),[l,c]=h.useState(null),[d,u]=h.useState(""),[f,m]=h.useState("name"),p=(_,E)=>{const M=_.toLowerCase(),R=(E==null?void 0:E.toLowerCase())||"";return M.includes("education")||R.includes("learning")||R.includes("tutorial")?xr:M.includes("technology")||R.includes("tech")||R.includes("gadget")?CD:M.includes("entertainment")||R.includes("music")||R.includes("movie")?C1:M.includes("lifestyle")||R.includes("health")||R.includes("fitness")?EW:xr},x=_=>{const E=new Date(_),R=Math.floor((new Date().getTime()-E.getTime())/(1e3*60*60));if(R<1)return"Just now";if(R<24)return`${R}h ago`;const T=Math.floor(R/24);return T<7?`${T}d ago`:E.toLocaleDateString()},g=async _=>{const{data:E}=await $.from("videos").select("title, created_at").eq("category_id",_).order("created_at",{ascending:!1}).limit(1);return E&&E.length>0?`Recent: ${E[0].title}`:"No recent activity"};h.useEffect(()=>{(async()=>{try{a(!0);const{data:E,error:M}=await $.from("categories").select(`
            id,
            name,
            color,
            description,
            updated_at
          `).order("updated_at",{ascending:!1});if(M){console.error("Error fetching categories:",M);return}const T=(await Promise.all((E||[]).map(async B=>{const{count:K}=await $.from("videos").select("*",{count:"exact",head:!0}).eq("category_id",B.id),z=await g(B.id);return{...B,videoCount:K||0,recentActivity:z}}))).map(B=>({id:B.id,name:B.name,color:B.color||"blue-ocean",description:B.description||null,count:B.videoCount,updatedAt:B.updated_at,lastUpdated:x(B.updated_at),recentActivity:B.recentActivity}));r(T)}catch(E){console.error("Error in fetchCategories:",E)}finally{a(!1)}})()},[]);const y=[...t.filter(_=>_.name.toLowerCase().includes(d.toLowerCase()))].sort((_,E)=>{switch(f){case"name":return _.name.localeCompare(E.name);case"count":return E.count-_.count;case"recent":return new Date(E.updatedAt).getTime()-new Date(_.updatedAt).getTime();default:return 0}}),v=_=>{try{const E=new URL(_);return E.protocol==="http:"||E.protocol==="https:"}catch{return!1}},b=_=>{if(!_)return null;if(v(_.trim()))return _.trim();const E=/(https?:\/\/[^\s]+)/gi,M=_.match(E);if(M&&M.length>0){for(const R of M)if(v(R))return R}return null},j=async()=>{try{try{const{Clipboard:_}=await Zr(async()=>{const{Clipboard:E}=await import("./index-DL8M6LHe.js");return{Clipboard:E}},[]);await _.write({string:""}),console.log(" Clipboard cleared via Capacitor plugin")}catch{navigator.clipboard&&typeof navigator.clipboard.writeText=="function"&&(await navigator.clipboard.writeText(""),console.log(" Clipboard cleared via navigator API"))}}catch(_){console.error(" Failed to clear clipboard:",_)}},N=async _=>{const E=_.id;if(ko.isNativePlatform())try{let M=null;try{const{Clipboard:R}=await Zr(async()=>{const{Clipboard:B}=await import("./index-DL8M6LHe.js");return{Clipboard:B}},[]);M=(await R.read()).value||null,console.log(" Clipboard read via Capacitor plugin:",M?`Yes (length: ${M.length})`:"Empty")}catch{console.log(" Capacitor Clipboard plugin failed, trying navigator.clipboard..."),navigator.clipboard&&typeof navigator.clipboard.readText=="function"&&(M=await navigator.clipboard.readText(),console.log(" Clipboard read via navigator API:",M?`Yes (length: ${M.length})`:"Empty"))}if(M&&M.trim()){const R=b(M);if(console.log(" Extracted URL:",R),R&&Cv(R)){console.log(" Supported URL found, auto-saving video...");try{const{data:{session:T}}=await $.auth.getSession();if(!(T!=null&&T.access_token)){re({title:"Authentication Required",description:"Please log in to save videos.",variant:"destructive"}),e(`/category/${E}`);return}const B=zh(R);if(B&&["youtube","instagram","tiktok","snapchat","loom"].includes(B)){const{data:V,error:F}=await Pd("save-shared-link",{url:R,categoryId:E});if(await j(),F){console.error(" Auto-save error:",F),re(F==="UNSUPPORTED_PLATFORM"?{title:"Unsupported Link",description:"This link can't be added to Tagmentia yet.",variant:"destructive"}:F==="DUPLICATE_VIDEO"?{title:"Already Saved",description:"This video is already in your collection."}:F==="UPGRADE_REQUIRED"?{title:"Upgrade Required",description:"You've reached your plan limit.",variant:"destructive"}:{title:"Error",description:"Failed to save video. Please try again.",variant:"destructive"}),e(`/category/${E}`);return}console.log(" Video auto-saved successfully:",V),re({title:"Video Saved!",description:"Video has been added to your category."}),e(`/category/${E}`);return}else{console.log(" Not a shared platform, navigating to add video page"),e(`/category/${E}/add-video?url=${encodeURIComponent(R)}`);return}}catch(T){console.error(" Auto-save failed:",T),await j(),re({title:"Error",description:"Failed to save video. Please try again.",variant:"destructive"}),e(`/category/${E}`);return}}else R?(console.log(" URL found but not supported"),await j(),re({title:"Unsupported URL",description:`${R}`,variant:"destructive"})):console.log(" No URL found in clipboard text")}else console.log(" Clipboard is empty or contains only whitespace")}catch(M){console.error(" Clipboard access error:",M)}e(`/category/${E}`)},S=(_,E)=>{_.stopPropagation(),o(E)},C=(_,E)=>{_.stopPropagation(),c(E)},k=async()=>{try{a(!0);const{data:_,error:E}=await $.from("categories").select(`
          id,
          name,
          color,
          description,
          updated_at
        `).order("updated_at",{ascending:!1});if(E){console.error("Error fetching categories:",E);return}const R=(await Promise.all((_||[]).map(async T=>{const{count:B}=await $.from("videos").select("*",{count:"exact",head:!0}).eq("category_id",T.id),K=await g(T.id);return{...T,videoCount:B||0,recentActivity:K}}))).map(T=>({id:T.id,name:T.name,color:T.color||"blue-ocean",description:T.description||null,count:T.videoCount,updatedAt:T.updated_at,lastUpdated:x(T.updated_at),recentActivity:T.recentActivity}));r(R)}catch(_){console.error("Error in fetchCategories:",_)}finally{a(!1)}},A=async _=>{const{error:E}=await $.from("categories").update({name:_.name,description:_.description,color:_.color}).eq("id",_.id);if(E){console.error("Error updating category:",E),re({title:"Error",description:"Failed to update category. Please try again.",variant:"destructive"});return}await k(),o(null),re({title:"Category Updated",description:"Your category has been successfully updated."})},P=async _=>{const{error:E}=await $.from("videos").delete().eq("category_id",_);if(E){console.error("Error deleting videos:",E),re({title:"Error",description:"Failed to delete category videos. Please try again.",variant:"destructive"});return}const{error:M}=await $.from("categories").delete().eq("id",_);if(M){console.error("Error deleting category:",M),re({title:"Error",description:"Failed to delete category. Please try again.",variant:"destructive"});return}await k(),c(null),re({title:"Category Deleted",description:"Category and all its videos have been removed."})};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{title:"My Categories",showBack:!1,children:s.jsxs(O,{onClick:()=>e("/categories/add"),className:"bg-gradient-primary hover:shadow-elevated transition-all duration-300",children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add Category"]})}),s.jsxs("main",{className:"pb-20 px-4 pt-6",children:[s.jsxs("div",{className:"flex gap-3 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(de,{placeholder:"Search categories...",value:d,onChange:_=>u(_.target.value),className:"pl-10 bg-card border-border focus:ring-primary"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(O,{variant:"outline",onClick:()=>e("/categories"),className:"bg-card border-border hover:bg-muted flex items-center gap-2",children:[s.jsx(Hx,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Basic View"})]}),s.jsxs(qe,{value:f,onValueChange:m,children:[s.jsxs(Ve,{className:"w-32 bg-card border-border",children:[s.jsx(tu,{className:"w-4 h-4 mr-2"}),s.jsx(He,{})]}),s.jsxs(We,{children:[s.jsx(se,{value:"name",children:"Name"}),s.jsx(se,{value:"count",children:"Video Count"}),s.jsx(se,{value:"recent",children:"Recent"})]})]})]})]}),n?s.jsx("div",{className:"grid grid-cols-2 gap-4",children:[1,2,3,4].map(_=>s.jsxs("div",{className:"bg-card rounded-xl p-6 shadow-card animate-pulse h-48",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-8 h-8 bg-muted rounded-lg"}),s.jsx("div",{className:"w-6 h-6 bg-muted rounded"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"w-3/4 h-5 bg-muted rounded"}),s.jsx("div",{className:"w-1/2 h-3 bg-muted rounded"}),s.jsx("div",{className:"w-16 h-4 bg-muted rounded"}),s.jsx("div",{className:"w-full h-3 bg-muted rounded"})]})]},_))}):y.length>0?s.jsx("div",{className:"grid grid-cols-2 gap-4",children:y.map(_=>{const E=p(_.name,_.description||"");return s.jsxs("div",{className:"relative bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer group overflow-hidden",onClick:()=>N(_),children:[s.jsxs("div",{className:"relative p-4 pb-6 bg-gradient-primary",style:{borderRadius:"16px 16px 0 0"},children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"w-8 h-8 bg-white/30 rounded-lg flex items-center justify-center backdrop-blur-sm",children:s.jsx(E,{className:"w-4 h-4 text-white"})}),s.jsxs(nn,{children:[s.jsx(sn,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20 h-8 w-8 rounded-full",onClick:M=>M.stopPropagation(),children:s.jsx(Lo,{className:"w-4 h-4"})})}),s.jsxs(Gr,{align:"end",className:"w-48",children:[s.jsxs(Oe,{onClick:M=>S(M,_),children:[s.jsx(Cn,{className:"w-4 h-4 mr-2"}),"Edit Category"]}),s.jsxs(Oe,{onClick:M=>C(M,_),className:"text-destructive focus:text-destructive",children:[s.jsx(yt,{className:"w-4 h-4 mr-2"}),"Delete Category"]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-bold text-lg mb-1 line-clamp-1",children:_.name}),_.description&&s.jsx("p",{className:"text-white/80 text-xs line-clamp-1",children:_.description})]})]}),s.jsxs("div",{className:"bg-white p-4 pt-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-3 h-3 flex items-center justify-center",children:s.jsx("div",{className:"w-0 h-0 border-l-[5px] border-l-gray-700 border-t-[3px] border-t-transparent border-b-[3px] border-b-transparent"})}),s.jsxs("span",{className:"text-gray-900 font-semibold text-sm",children:[_.count," videos"]})]}),s.jsx("p",{className:"text-gray-600 text-xs line-clamp-2 leading-relaxed",children:_.recentActivity})]})]},_.id)})}):s.jsx("div",{className:"text-center py-16",children:d?s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No categories found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search terms"})]}):s.jsxs(s.Fragment,{children:[s.jsx(xr,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"You have no categories yet"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Add your first category to start organizing your videos"}),s.jsxs(O,{onClick:()=>e("/categories/add"),className:"bg-gradient-primary hover:shadow-elevated transition-all duration-300",children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add Your First Category"]})]})})]}),s.jsx(qh,{category:i,isOpen:!!i,onClose:()=>o(null),onSave:A}),s.jsx(Hh,{category:l,isOpen:!!l,onClose:()=>c(null),onDelete:P})]})},l3=kv,wre=Ev,c3=h.forwardRef(({className:e,...t},r)=>s.jsx(cu,{className:ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));c3.displayName=cu.displayName;const jre=nc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),bS=h.forwardRef(({side:e="right",className:t,children:r,...n},a)=>s.jsxs(wre,{children:[s.jsx(c3,{}),s.jsxs(du,{ref:a,className:ne(jre({side:e}),t),...n,children:[r,s.jsxs(Pv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(er,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bS.displayName=du.displayName;const d3=({className:e,...t})=>s.jsx("div",{className:ne("flex flex-col space-y-2 text-center sm:text-left",e),...t});d3.displayName="SheetHeader";const u3=h.forwardRef(({className:e,...t},r)=>s.jsx(Vh,{ref:r,className:ne("text-lg font-semibold text-foreground",e),...t}));u3.displayName=Vh.displayName;const f3=h.forwardRef(({className:e,...t},r)=>s.jsx(Wh,{ref:r,className:ne("text-sm text-muted-foreground",e),...t}));f3.displayName=Wh.displayName;const Oa=({video:e,category:t,onVideoUpdated:r,inCategoryView:n=!1})=>{var D;const{toast:a}=Ge(),i=Ie(),[o,l]=h.useState(!1),[c,d]=h.useState(!1),[u,f]=h.useState(!1),[m,p]=h.useState(!1),[x,g]=h.useState(e.description||""),[w,y]=h.useState(e.reminderDate||""),[v,b]=h.useState(e.categoryId||""),[j,N]=h.useState([]),[S,C]=h.useState(!1);h.useEffect(()=>{(async()=>{try{const{data:J,error:U}=await $.from("categories").select("id, name, color").order("name");if(U){console.error("Error fetching categories:",U);return}N(J||[])}catch(J){console.error("Error fetching categories:",J)}})()},[]);const k=L=>new Date(L).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),A=L=>L?new Date(L).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",P=L=>{var J;if(L.url==="https://placeholder.com"||(J=L.title)!=null&&J.startsWith("Screenshots -"))return"screenshot";if(L.tags&&L.tags.length>0){const U=L.tags.find(ee=>["youtube","tiktok","instagram","snapchat","vimeo","twitter"].includes(ee.toLowerCase()));if(U)return U}if(L.url){const U=L.url.toLowerCase();if(U.includes("youtube.com")||U.includes("youtu.be"))return"youtube";if(U.includes("tiktok.com"))return"tiktok";if(U.includes("instagram.com"))return"instagram";if(U.includes("snapchat.com"))return"snapchat";if(U.includes("vimeo.com"))return"vimeo";if(U.includes("twitter.com")||U.includes("x.com"))return"twitter"}return"video"},_=L=>{switch(L.toLowerCase()){case"youtube":return"YouTube";case"tiktok":return"TikTok";case"instagram":return"Instagram";case"snapchat":return"Snapchat";case"vimeo":return"Vimeo";case"twitter":return"Twitter";case"screenshot":return"Screenshot";default:return L.charAt(0).toUpperCase()+L.slice(1)}},E=()=>{i(`/video/${e.id}`)},M=()=>{e.url&&window.open(e.url,"_blank","noopener,noreferrer")},R=async()=>{C(!0);try{const{error:L}=await $.from("videos").delete().eq("id",String(e.id));if(L){a({title:"Error",description:"Failed to delete video",variant:"destructive"});return}a({title:"Success",description:"Video deleted successfully"}),f(!1),setTimeout(()=>{r==null||r()},100)}catch{a({title:"Error",description:"Failed to delete video",variant:"destructive"})}finally{C(!1)}},T=async()=>{C(!0);try{const{error:L}=await $.from("videos").update({description:x||null}).eq("id",String(e.id));if(L){a({title:"Error",description:"Failed to update note",variant:"destructive"});return}a({title:"Success",description:"Note updated successfully"}),r==null||r(),l(!1)}catch{a({title:"Error",description:"Failed to update note",variant:"destructive"})}finally{C(!1)}},B=async()=>{C(!0);try{const{error:L}=await $.from("videos").update({reminder_date:w}).eq("id",String(e.id));if(L){a({title:"Error",description:"Failed to set reminder",variant:"destructive"});return}a({title:"Reminder Set",description:`Reminder set for ${A(w)}`}),r==null||r(),d(!1)}catch{a({title:"Error",description:"Failed to set reminder",variant:"destructive"})}finally{C(!1)}},K=async()=>{if(v)try{C(!0);const{error:L}=await $.from("videos").update({category_id:v==="none"?null:v}).eq("id",String(e.id));if(L)throw L;a({title:"Success",description:"Video category has been updated"}),r==null||r(),p(!1)}catch{a({title:"Error",description:"Failed to update category",variant:"destructive"})}finally{C(!1)}},z=async()=>{C(!0);try{const{error:L}=await $.from("videos").update({reminder_date:null}).eq("id",String(e.id));if(L){a({title:"Error",description:"Failed to delete reminder",variant:"destructive"});return}a({title:"Reminder Deleted",description:"Reminder has been removed"}),r==null||r(),d(!1)}catch{a({title:"Error",description:"Failed to delete reminder",variant:"destructive"})}finally{C(!1)}},V=async()=>{const L={title:e.title,text:`Check out this video: ${e.title}`,url:e.url||window.location.href};try{if(navigator.share)await navigator.share(L);else{const J=`${e.title}
${e.url||window.location.href}`;await navigator.clipboard.writeText(J),a({title:"Copied to clipboard",description:"Video link has been copied to your clipboard"})}}catch{a({title:"Share",description:`${e.title}
${e.url||window.location.href}`})}},F=L=>{switch(L){case"blue-ocean":return"bg-gradient-blue-ocean";case"lime-forest":return"bg-gradient-lime-forest";case"green-emerald":return"bg-gradient-green-emerald";case"teal-navy":return"bg-gradient-teal-navy";case"purple-cosmic":return"bg-gradient-purple-cosmic";case"cyan-azure":return"bg-gradient-cyan-azure";case"lime-vibrant":return"bg-gradient-lime-vibrant";case"red-fire":return"bg-gradient-red-fire";case"orange-sunset":return"bg-gradient-orange-sunset";default:return"bg-gradient-blue-ocean"}},W=e.url==="https://placeholder.com"||((D=e.title)==null?void 0:D.startsWith("Screenshots -"))||P(e)==="screenshot";return s.jsxs(s.Fragment,{children:[s.jsx(Y,{className:"group hover:shadow-card transition-all duration-200 cursor-pointer overflow-hidden",onClick:E,children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-20",children:s.jsxs("div",{className:"relative",children:[s.jsxs(Sv,{ratio:1,className:"rounded-2xl overflow-hidden bg-muted",children:[e.thumbnail?s.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:L=>{L.currentTarget.style.display="none";const J=L.currentTarget.nextElementSibling;J&&(J.style.display="flex")}}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-800",children:s.jsx(yr,{className:"w-8 h-8 text-white"})}),s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-800",style:{display:"none"},children:s.jsx(yr,{className:"w-8 h-8 text-white"})})]}),e.duration&&s.jsx("div",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs px-1.5 py-0.5 rounded",children:e.duration})]})}),s.jsx("div",{className:"flex-1 min-w-0 flex flex-col justify-between",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-foreground line-clamp-2 group-hover:text-primary transition-colors duration-200 text-base mb-2 leading-tight",children:e.title}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-3",children:[s.jsxs("span",{children:["Saved ",k(e.addedDate)]}),e.hasReminder&&s.jsx("span",{className:"text-white p-1.5 rounded-full flex items-center justify-center w-6 h-6",style:{backgroundColor:"#545DEA"},children:s.jsx(xt,{className:"w-3 h-3"})}),e.hasNotes&&s.jsx("span",{className:"text-white p-1.5 rounded-full flex items-center justify-center w-6 h-6",style:{backgroundColor:"#545DEA"},children:s.jsx(xr,{className:"w-3 h-3"})})]}),e.hasReminder&&e.reminderDate&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary mb-3",children:[s.jsx(No,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:A(e.reminderDate)})]}),s.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[s.jsx("span",{className:"text-white text-xs font-medium px-3 py-1.5 rounded-md h-7 flex items-center",style:{backgroundColor:"#545DEA"},children:_(P(e))}),e.category&&!n&&s.jsx("span",{className:`text-white text-xs font-medium px-3 py-1.5 rounded-md h-7 flex items-center ${F(e.category.color)}`,children:e.category.name}),n&&e.hasReminder&&s.jsx("span",{className:"text-white rounded-full flex items-center justify-center w-7 h-7",style:{backgroundColor:"#545DEA"},children:s.jsx(xt,{className:"w-3.5 h-3.5"})}),n&&e.hasNotes&&s.jsx("span",{className:"text-white rounded-full flex items-center justify-center w-7 h-7",style:{backgroundColor:"#545DEA"},children:s.jsx(xr,{className:"w-3.5 h-3.5"})})]})]}),s.jsxs(nn,{children:[s.jsx(sn,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex-shrink-0 h-6 w-6",onClick:L=>L.stopPropagation(),children:s.jsx(Lo,{className:"w-4 h-4"})})}),s.jsxs(Gr,{align:"end",className:"w-48",children:[s.jsxs(Oe,{onClick:L=>{L.stopPropagation(),M()},children:[s.jsx(So,{className:"w-4 h-4 mr-2"}),W?"Open Screenshot":"Open Video"]}),s.jsxs(Oe,{onClick:L=>{L.stopPropagation(),V()},children:[s.jsx(Yx,{className:"w-4 h-4 mr-2"}),W?"Share Screenshot":"Share Video"]}),s.jsxs(Oe,{onClick:L=>{L.stopPropagation(),l(!0)},children:[s.jsx(Cn,{className:"w-4 h-4 mr-2"}),"Edit Note"]}),s.jsxs(Oe,{onClick:L=>{L.stopPropagation(),d(!0)},children:[s.jsx(No,{className:"w-4 h-4 mr-2"}),e.hasReminder?"Edit Reminder":"Set Reminder"]}),s.jsxs(Oe,{onClick:L=>{L.stopPropagation(),p(!0)},children:[s.jsx(Lr,{className:"w-4 h-4 mr-2"}),"Change Category"]}),s.jsxs(Oe,{onClick:L=>{L.stopPropagation(),f(!0)},className:"text-destructive focus:text-destructive",children:[s.jsx(yt,{className:"w-4 h-4 mr-2"}),W?"Delete Screenshot":"Delete Video"]})]})]})]})})]})})}),s.jsx(Xe,{open:o,onOpenChange:l,children:s.jsxs(Qe,{children:[s.jsx(et,{children:s.jsx(tt,{children:"Edit Note"})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"note",children:"Note"}),s.jsx(_r,{id:"note",value:x,onChange:L=>g(L.target.value),placeholder:"Add your notes about this video...",className:"min-h-[120px]"})]})}),s.jsxs(ln,{children:[s.jsx(O,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsx(O,{onClick:T,disabled:S,children:S?"Saving...":"Save Note"})]})]})}),s.jsx(Xe,{open:m,onOpenChange:p,children:s.jsxs(Qe,{children:[s.jsx(et,{children:s.jsx(tt,{children:"Change Category"})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"category",children:"Select Category"}),s.jsxs(qe,{value:v,onValueChange:b,children:[s.jsx(Ve,{className:"mt-1",children:s.jsx(He,{placeholder:"Choose a category"})}),s.jsxs(We,{children:[s.jsx(se,{value:"none",children:"No Category"}),j.map(L=>s.jsx(se,{value:L.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:L.color}}),L.name]})},L.id))]})]})]})}),s.jsxs(ln,{children:[s.jsx(O,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),s.jsx(O,{onClick:K,disabled:S,children:S?"Updating...":"Update Category"})]})]})}),s.jsx(Xe,{open:c,onOpenChange:d,children:s.jsxs(Qe,{children:[s.jsx(et,{children:s.jsx(tt,{children:e.hasReminder?"Edit Reminder":"Set Reminder"})}),s.jsxs("div",{className:"space-y-4",children:[e.hasReminder&&s.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current reminder:"}),s.jsx("p",{className:"font-medium",children:A(e.reminderDate||"")})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"reminder-date",children:e.hasReminder?"New Reminder Date & Time":"Reminder Date & Time"}),s.jsx(de,{id:"reminder-date",type:"datetime-local",value:w,onChange:L=>y(L.target.value),className:"mt-1"})]})]}),s.jsxs(ln,{className:"gap-2",children:[s.jsx(O,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.hasReminder&&s.jsx(O,{variant:"destructive",onClick:z,disabled:S,children:S?"Deleting...":"Delete Reminder"}),s.jsx(O,{onClick:B,disabled:S||!w,children:S?"Saving...":e.hasReminder?"Update Reminder":"Set Reminder"})]})]})}),s.jsx(la,{open:u,onOpenChange:f,children:s.jsxs(vs,{children:[s.jsxs(ys,{children:[s.jsx(ws,{children:"Delete Video"}),s.jsxs(js,{children:['Are you sure you want to delete "',e.title,'"? This action cannot be undone.']})]}),s.jsxs(bs,{children:[s.jsx(Ss,{children:"Cancel"}),s.jsx(Ns,{onClick:R,className:"bg-destructive hover:bg-destructive/90",disabled:S,children:S?"Deleting...":"Delete"})]})]})})]})},h3=({video:e,category:t,onVideoUpdated:r,inCategoryView:n=!1})=>{var D;const{toast:a}=Ge(),i=Ie(),[o,l]=h.useState(!1),[c,d]=h.useState(!1),[u,f]=h.useState(!1),[m,p]=h.useState(!1),[x,g]=h.useState(e.description||""),[w,y]=h.useState(e.reminderDate||""),[v,b]=h.useState(e.categoryId||""),[j,N]=h.useState([]),[S,C]=h.useState(!1);h.useEffect(()=>{(async()=>{try{const{data:J,error:U}=await $.from("categories").select("id, name, color").order("name");if(U){console.error("Error fetching categories:",U);return}N(J||[])}catch(J){console.error("Error fetching categories:",J)}})()},[]);const k=L=>new Date(L).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),A=L=>L?new Date(L).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",P=L=>L?"text-white":"bg-gray-100 text-gray-400",_=L=>{var J;if(L.url==="https://placeholder.com"||(J=L.title)!=null&&J.startsWith("Screenshots -"))return"screenshot";if(L.tags&&L.tags.length>0){const U=L.tags.find(ee=>["youtube","tiktok","instagram","snapchat","vimeo","twitter"].includes(ee.toLowerCase()));if(U)return U}if(L.url){const U=L.url.toLowerCase();if(U.includes("youtube.com")||U.includes("youtu.be"))return"youtube";if(U.includes("tiktok.com"))return"tiktok";if(U.includes("instagram.com"))return"instagram";if(U.includes("snapchat.com"))return"snapchat";if(U.includes("vimeo.com"))return"vimeo";if(U.includes("twitter.com")||U.includes("x.com"))return"twitter"}return"video"},E=L=>{switch(L.toLowerCase()){case"youtube":return"YouTube";case"tiktok":return"TikTok";case"instagram":return"Instagram";case"snapchat":return"Snapchat";case"vimeo":return"Vimeo";case"twitter":return"Twitter";case"screenshot":return"Screenshot";default:return L.charAt(0).toUpperCase()+L.slice(1)}},M=()=>{i(`/video/${e.id}`)},R=()=>{e.url&&window.open(e.url,"_blank","noopener,noreferrer")},T=async()=>{C(!0);try{const{error:L}=await $.from("videos").delete().eq("id",String(e.id));if(L){a({title:"Error",description:"Failed to delete video",variant:"destructive"});return}a({title:"Success",description:"Video deleted successfully"}),f(!1),setTimeout(()=>{r==null||r()},100)}catch{a({title:"Error",description:"Failed to delete video",variant:"destructive"})}finally{C(!1)}},B=async()=>{C(!0);try{const{error:L}=await $.from("videos").update({description:x||null}).eq("id",String(e.id));if(L){a({title:"Error",description:"Failed to update note",variant:"destructive"});return}a({title:"Success",description:"Note updated successfully"}),r==null||r(),l(!1)}catch{a({title:"Error",description:"Failed to update note",variant:"destructive"})}finally{C(!1)}},K=async()=>{C(!0);try{const{error:L}=await $.from("videos").update({reminder_date:w}).eq("id",String(e.id));if(L){a({title:"Error",description:"Failed to set reminder",variant:"destructive"});return}a({title:"Reminder Set",description:`Reminder set for ${A(w)}`}),r==null||r(),d(!1)}catch{a({title:"Error",description:"Failed to set reminder",variant:"destructive"})}finally{C(!1)}},z=async()=>{if(v)try{C(!0);const{error:L}=await $.from("videos").update({category_id:v==="none"?null:v}).eq("id",String(e.id));if(L)throw L;a({title:"Success",description:"Video category has been updated"}),r==null||r(),p(!1)}catch{a({title:"Error",description:"Failed to update category",variant:"destructive"})}finally{C(!1)}},V=async()=>{C(!0);try{const{error:L}=await $.from("videos").update({reminder_date:null}).eq("id",String(e.id));if(L){a({title:"Error",description:"Failed to delete reminder",variant:"destructive"});return}a({title:"Reminder Deleted",description:"Reminder has been removed"}),r==null||r(),d(!1)}catch{a({title:"Error",description:"Failed to delete reminder",variant:"destructive"})}finally{C(!1)}},F=async()=>{const L={title:e.title,text:`Check out this video: ${e.title}`,url:e.url||window.location.href};try{if(navigator.share)await navigator.share(L);else{const J=`${e.title}
${e.url||window.location.href}`;await navigator.clipboard.writeText(J),a({title:"Copied to clipboard",description:"Video link has been copied to your clipboard"})}}catch{a({title:"Share",description:`${e.title}
${e.url||window.location.href}`})}},W=e.url==="https://placeholder.com"||((D=e.title)==null?void 0:D.startsWith("Screenshots -"))||_(e)==="screenshot";return s.jsxs(s.Fragment,{children:[s.jsx(Y,{className:"group hover:shadow-card transition-all duration-200 cursor-pointer overflow-hidden h-full",onClick:M,children:s.jsxs(X,{className:"p-4 h-full flex flex-col",children:[s.jsx("div",{className:"w-full mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsxs(Sv,{ratio:16/9,className:"rounded-lg overflow-hidden bg-muted",children:[e.thumbnail?s.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:L=>{L.currentTarget.style.display="none";const J=L.currentTarget.nextElementSibling;J&&(J.style.display="flex")}}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-800",children:s.jsx(yr,{className:"w-8 h-8 text-white"})}),s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-800",style:{display:"none"},children:s.jsx(yr,{className:"w-8 h-8 text-white"})})]}),e.duration&&s.jsx("div",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs px-1.5 py-0.5 rounded",children:e.duration}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsxs(nn,{children:[s.jsx(sn,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 h-8 w-8 bg-black/50 hover:bg-black/70 text-white",onClick:L=>L.stopPropagation(),children:s.jsx(Lo,{className:"w-4 h-4"})})}),s.jsxs(Gr,{align:"end",className:"w-48",children:[s.jsxs(Oe,{onClick:L=>{L.stopPropagation(),R()},children:[s.jsx(So,{className:"w-4 h-4 mr-2"}),W?"Open Screenshot":"Open Video"]}),s.jsxs(Oe,{onClick:L=>{L.stopPropagation(),F()},children:[s.jsx(Yx,{className:"w-4 h-4 mr-2"}),W?"Share Screenshot":"Share Video"]}),s.jsxs(Oe,{onClick:L=>{L.stopPropagation(),l(!0)},children:[s.jsx(Cn,{className:"w-4 h-4 mr-2"}),"Edit Note"]}),s.jsxs(Oe,{onClick:L=>{L.stopPropagation(),d(!0)},children:[s.jsx(No,{className:"w-4 h-4 mr-2"}),e.hasReminder?"Edit Reminder":"Set Reminder"]}),s.jsxs(Oe,{onClick:L=>{L.stopPropagation(),p(!0)},children:[s.jsx(Lr,{className:"w-4 h-4 mr-2"}),"Change Category"]}),s.jsxs(Oe,{onClick:L=>{L.stopPropagation(),f(!0)},className:"text-destructive focus:text-destructive",children:[s.jsx(yt,{className:"w-4 h-4 mr-2"}),W?"Delete Screenshot":"Delete Video"]})]})]})})]})}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx("h3",{className:"font-semibold text-foreground line-clamp-2 group-hover:text-primary transition-colors duration-200 text-sm mb-2 leading-tight",children:e.title}),s.jsxs("div",{className:"text-xs text-gray-500 mb-3",children:["Saved ",k(e.addedDate)]}),s.jsxs("div",{className:"flex flex-wrap gap-1 mt-auto",children:[s.jsx("div",{className:"text-white text-xs font-medium px-3 py-1.5 rounded-md h-7 flex items-center",style:{backgroundColor:"#545DEA"},children:E(_(e))}),n?s.jsxs(s.Fragment,{children:[e.hasReminder&&s.jsx("div",{className:"text-white rounded-md flex items-center justify-center w-7 h-7",style:{backgroundColor:"#545DEA"},children:s.jsx(xt,{className:"w-3.5 h-3.5"})}),e.hasNotes&&s.jsx("div",{className:"text-white rounded-md flex items-center justify-center w-7 h-7",style:{backgroundColor:"#545DEA"},children:s.jsx(xr,{className:"w-3.5 h-3.5"})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`flex items-center gap-1 px-3 py-1.5 rounded-md text-xs font-medium h-7 ${P(e.hasReminder)}`,style:e.hasReminder?{backgroundColor:"#545DEA"}:{},children:[s.jsx(xt,{className:"w-3.5 h-3.5"}),s.jsx("span",{children:"Reminder"})]}),s.jsxs("div",{className:`flex items-center gap-1 px-3 py-1.5 rounded-md text-xs font-medium h-7 ${P(e.hasNotes)}`,style:e.hasNotes?{backgroundColor:"#545DEA"}:{},children:[s.jsx(xr,{className:"w-3.5 h-3.5"}),s.jsx("span",{children:"Note"})]})]})]})]})]})}),s.jsx(Xe,{open:o,onOpenChange:l,children:s.jsxs(Qe,{children:[s.jsx(et,{children:s.jsx(tt,{children:"Edit Note"})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"note",children:"Note"}),s.jsx(_r,{id:"note",value:x,onChange:L=>g(L.target.value),placeholder:"Add your notes about this video...",className:"min-h-[120px]"})]})}),s.jsxs(ln,{children:[s.jsx(O,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsx(O,{onClick:B,disabled:S,children:S?"Saving...":"Save Note"})]})]})}),s.jsx(Xe,{open:c,onOpenChange:d,children:s.jsxs(Qe,{children:[s.jsx(et,{children:s.jsx(tt,{children:e.hasReminder?"Edit Reminder":"Set Reminder"})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"reminder",children:"Reminder Date & Time"}),s.jsx(de,{id:"reminder",type:"datetime-local",value:w,onChange:L=>y(L.target.value),min:new Date().toISOString().slice(0,16)})]})}),s.jsxs(ln,{className:"flex justify-between",children:[s.jsx("div",{children:e.hasReminder&&s.jsx(O,{variant:"outline",onClick:V,disabled:S,className:"text-destructive hover:text-destructive",children:S?"Removing...":"Remove Reminder"})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(O,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),s.jsx(O,{onClick:K,disabled:S||!w,children:S?"Setting...":"Set Reminder"})]})]})]})}),s.jsx(Xe,{open:m,onOpenChange:p,children:s.jsxs(Qe,{children:[s.jsx(et,{children:s.jsx(tt,{children:"Change Category"})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"category",children:"Select Category"}),s.jsxs(qe,{value:v,onValueChange:b,children:[s.jsx(Ve,{children:s.jsx(He,{placeholder:"Choose a category"})}),s.jsxs(We,{children:[s.jsx(se,{value:"none",children:"No Category"}),j.map(L=>s.jsx(se,{value:L.id,children:L.name},L.id))]})]})]})}),s.jsxs(ln,{children:[s.jsx(O,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),s.jsx(O,{onClick:z,disabled:S||!v,children:S?"Updating...":"Update Category"})]})]})}),s.jsx(la,{open:u,onOpenChange:f,children:s.jsxs(vs,{children:[s.jsxs(ys,{children:[s.jsx(ws,{children:"Delete Video"}),s.jsxs(js,{children:['Are you sure you want to delete "',e.title,'"? This action cannot be undone.']})]}),s.jsxs(bs,{children:[s.jsx(Ss,{children:"Cancel"}),s.jsx(Ns,{onClick:T,disabled:S,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:S?"Deleting...":"Delete"})]})]})})]})},Nre=()=>{const{id:e}=Oh(),t=Ie(),[r,n]=h.useState(""),[a,i]=h.useState(null),[o,l]=h.useState([]),[c,d]=h.useState(0),[u,f]=h.useState(0),[m,p]=h.useState(0),[x,g]=h.useState(!0),[w,y]=h.useState(""),[v,b]=h.useState("newest"),[j,N]=h.useState(!1),[S,C]=h.useState(!1),[k,A]=h.useState(()=>localStorage.getItem("videoLayoutMode")||"list"),[P,_]=h.useState(!1),E=F=>{const W=new Date(F),L=Math.floor((new Date().getTime()-W.getTime())/(1e3*60*60));if(L<1)return"Just now";if(L<24)return`${L}h ago`;const J=Math.floor(L/24);return J<7?`${J}d ago`:W.toLocaleDateString()},M=F=>({"purple-cosmic":"bg-gradient-purple-cosmic","blue-ocean":"bg-gradient-blue-ocean","lime-forest":"bg-gradient-lime-forest","green-emerald":"bg-gradient-green-emerald","teal-navy":"bg-gradient-teal-navy","cyan-azure":"bg-gradient-cyan-azure","lime-vibrant":"bg-gradient-lime-vibrant","red-fire":"bg-gradient-red-fire","orange-sunset":"bg-gradient-orange-sunset"})[F]||"bg-gradient-primary",R=async()=>{if(e)try{g(!0);const{data:F,error:W}=await $.from("categories").select("id, name, color, description, updated_at").eq("id",e).maybeSingle();W?(console.error("Error fetching category:",W),n("Category")):(n((F==null?void 0:F.name)||"Category"),y((F==null?void 0:F.updated_at)||""),F&&(console.log("Category data fetched:",F),console.log("Category color:",F.color),i({id:F.id,name:F.name,color:F.color,description:F.description,count:0,lastUpdated:F.updated_at})));const{data:D,error:L}=await $.from("videos").select("*, reminder_date").eq("category_id",e).order("created_at",{ascending:!1});if(L)console.error("Error fetching videos:",L),l([]),d(0),f(0),p(0);else{const ee=(D||[]).map(H=>{var te,I;let q="Video";return H.url==="https://placeholder.com"||(te=H.title)!=null&&te.startsWith("Screenshots -")?q="screenshot":(I=H.tags)!=null&&I[0]&&(q=H.tags[0]),{id:H.id,title:H.title,platform:q,thumbnail:H.thumbnail_url,duration:H.duration?`${Math.floor(H.duration/60)}:${(H.duration%60).toString().padStart(2,"0")}`:"",hasReminder:!!H.reminder_date,reminderDate:H.reminder_date||null,hasNotes:!!H.description,addedDate:H.created_at,createdAt:H.created_at,url:H.url,description:H.description,tags:H.tags||[]}});l(ee);const G=ee.filter(H=>H.hasNotes).length,ce=ee.filter(H=>H.hasReminder).length;d(G),f(ce),F&&i({id:F.id,name:F.name,color:F.color,description:F.description,count:ee.length,lastUpdated:F.updated_at})}const{count:J,error:U}=await $.from("screenshots").select("*",{count:"exact",head:!0}).eq("category_id",e);U?(console.error("Error fetching screenshots count:",U),p(0)):p(J||0)}catch(F){console.error("Unexpected error:",F)}finally{g(!1)}};h.useEffect(()=>{R()},[e]);const T=[...o].sort((F,W)=>{switch(v){case"newest":return new Date(W.createdAt).getTime()-new Date(F.createdAt).getTime();case"oldest":return new Date(F.createdAt).getTime()-new Date(W.createdAt).getTime();case"title-asc":return F.title.localeCompare(W.title);case"title-desc":return W.title.localeCompare(F.title);case"reminder":return F.hasReminder&&!W.hasReminder?-1:!F.hasReminder&&W.hasReminder?1:new Date(W.createdAt).getTime()-new Date(F.createdAt).getTime();default:return 0}}),B=async()=>{if(e)try{const{data:F,error:W}=await $.from("videos").select("*, reminder_date").eq("category_id",e).order("created_at",{ascending:!1});if(W){console.error("Error fetching videos:",W);return}const D=(F||[]).map(U=>{var G,ce;let ee="Video";return U.url==="https://placeholder.com"||(G=U.title)!=null&&G.startsWith("Screenshots -")?ee="screenshot":(ce=U.tags)!=null&&ce[0]&&(ee=U.tags[0]),{id:U.id,title:U.title,platform:ee,thumbnail:U.thumbnail_url,duration:U.duration?`${Math.floor(U.duration/60)}:${(U.duration%60).toString().padStart(2,"0")}`:"",hasReminder:!!U.reminder_date,reminderDate:U.reminder_date||null,hasNotes:!!U.description,addedDate:U.created_at,createdAt:U.created_at,url:U.url,description:U.description,tags:U.tags||[]}});l(D);const L=D.filter(U=>U.hasNotes).length,J=D.filter(U=>U.hasReminder).length;d(L),f(J),a&&i({...a,count:D.length})}catch(F){console.error("Error refreshing videos:",F)}},K=async F=>{if(e)try{const{error:W}=await $.from("categories").update({name:F.name,description:F.description,color:F.color}).eq("id",e);if(W)throw W;R(),re({title:"Category Updated",description:"Your category has been successfully updated.",variant:"default"})}catch(W){console.error("Error updating category:",W),re({title:"Error",description:"Failed to update category. Please try again.",variant:"destructive"})}},z=async F=>{try{const{error:W}=await $.from("videos").delete().eq("category_id",F);if(W)throw W;const{error:D}=await $.from("categories").delete().eq("id",F);if(D)throw D;t("/categories"),re({title:"Category Deleted",description:"Category and all its videos have been removed.",variant:"info"})}catch(W){console.error("Error deleting category:",W),re({title:"Error",description:"Failed to delete category. Please try again.",variant:"destructive"})}},V=F=>{A(F),localStorage.setItem("videoLayoutMode",F)};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{title:r,showBack:!0,children:s.jsxs("div",{className:"flex items-center gap-2",children:[!x&&o.length>0&&s.jsxs(O,{variant:"ghost",size:"sm",onClick:()=>_(!0),className:"text-primary hover:text-primary/90",children:[s.jsx(wt,{className:"w-4 h-4 mr-1"}),"Add your item"]}),s.jsxs(nn,{children:[s.jsx(sn,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"icon",children:s.jsx(Lo,{className:"w-5 h-5"})})}),s.jsxs(Gr,{align:"end",className:"w-48",children:[s.jsxs(Oe,{onClick:()=>N(!0),children:[s.jsx(Cn,{className:"w-4 h-4 mr-2"}),"Edit Category"]}),s.jsxs(Oe,{onClick:()=>C(!0),className:"text-destructive focus:text-destructive",children:[s.jsx(yt,{className:"w-4 h-4 mr-2"}),"Delete Category"]})]})]})]})}),s.jsxs("main",{className:"pb-20 px-4 pt-6",children:[s.jsxs("div",{className:"space-y-4 mb-6",children:[!x&&a?s.jsxs("div",{className:"bg-card rounded-lg p-6 shadow-card border border-border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{children:s.jsx("h2",{className:"text-xl font-semibold text-foreground",children:r})}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Last updated"}),s.jsx("p",{className:"text-sm font-medium text-foreground",children:w?E(w):"N/A"})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-3 place-items-center px-2",children:[s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center mb-2 text-white shadow-lg ${M(a.color)}`,style:{background:a.color==="purple-cosmic"?"linear-gradient(135deg, #9F7AEA 0%, #6B46C1 100%)":void 0},children:s.jsx(Vt,{className:"w-5 h-5"})}),s.jsx("span",{className:"text-xl font-bold text-foreground",children:o.length})]}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center mb-2 text-white shadow-lg ${M(a.color)}`,style:{background:a.color==="purple-cosmic"?"linear-gradient(135deg, #9F7AEA 0%, #6B46C1 100%)":void 0},children:s.jsx(Qr,{className:"w-5 h-5"})}),s.jsx("span",{className:"text-xl font-bold text-foreground",children:c})]}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center mb-2 text-white shadow-lg ${M(a.color)}`,style:{background:a.color==="purple-cosmic"?"linear-gradient(135deg, #9F7AEA 0%, #6B46C1 100%)":void 0},children:s.jsx(vr,{className:"w-5 h-5"})}),s.jsx("span",{className:"text-xl font-bold text-foreground",children:m})]}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center mb-2 text-white shadow-lg ${M(a.color)}`,style:{background:a.color==="purple-cosmic"?"linear-gradient(135deg, #9F7AEA 0%, #6B46C1 100%)":void 0},children:s.jsx(xt,{className:"w-5 h-5"})}),s.jsx("span",{className:"text-xl font-bold text-foreground",children:u})]})]})]}):s.jsxs("div",{className:"bg-card rounded-lg p-6 shadow-card border border-border animate-pulse",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"h-6 bg-muted rounded w-24"}),s.jsxs("div",{className:"text-right space-y-1",children:[s.jsx("div",{className:"h-3 bg-muted rounded w-16"}),s.jsx("div",{className:"h-3 bg-muted rounded w-12"})]})]}),s.jsx("div",{className:"grid grid-cols-4 gap-3 place-items-center px-2",children:[1,2,3,4].map(F=>s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-2xl bg-muted mb-2"}),s.jsx("div",{className:"h-5 bg-muted rounded w-8"})]},F))})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-card rounded-lg p-1 border border-border",children:[s.jsx(O,{variant:k==="list"?"default":"ghost",size:"sm",onClick:()=>V("list"),className:"h-8 w-8 p-0",children:s.jsx(Hx,{className:"w-4 h-4"})}),s.jsx(O,{variant:k==="grid"?"default":"ghost",size:"sm",onClick:()=>V("grid"),className:"h-8 w-8 p-0",children:s.jsx(Fl,{className:"w-4 h-4"})})]}),o.length>1&&s.jsxs(qe,{value:v,onValueChange:b,children:[s.jsxs(Ve,{className:"w-48 bg-card border-border",children:[s.jsx(tu,{className:"w-4 h-4 mr-2"}),s.jsx(He,{})]}),s.jsxs(We,{children:[s.jsx(se,{value:"newest",children:"Newest First"}),s.jsx(se,{value:"oldest",children:"Oldest First"}),s.jsx(se,{value:"title-asc",children:"Title (A-Z)"}),s.jsx(se,{value:"title-desc",children:"Title (Z-A)"}),s.jsx(se,{value:"reminder",children:"Reminders First"})]})]})]})]}),x?s.jsx("div",{className:"space-y-4",children:[1,2,3].map(F=>s.jsx("div",{className:"bg-card rounded-lg p-4 animate-pulse",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"w-16 h-12 bg-muted rounded-lg"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]})},F))}):T.length>0?k==="list"?s.jsx("div",{className:"space-y-4",children:T.map(F=>s.jsx(Oa,{video:F,category:a,onVideoUpdated:B,inCategoryView:!0},F.id))}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:T.map(F=>s.jsx(h3,{video:F,category:a,onVideoUpdated:B,inCategoryView:!0},F.id))}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx(Vt,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No videos or screenshots in this category yet"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Start adding videos and screenshots to organize your content"}),s.jsxs(O,{onClick:()=>_(!0),className:"bg-gradient-primary hover:shadow-elevated transition-all duration-300",children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add your first item"]})]})]}),s.jsx(l3,{open:P,onOpenChange:_,children:s.jsxs(bS,{side:"bottom",className:"max-w-md mx-auto",children:[s.jsxs(d3,{children:[s.jsx(u3,{children:"What would you like to add?"}),s.jsx(f3,{children:"Choose between adding a video or a screenshot to this category"})]}),s.jsxs("div",{className:"grid gap-3 py-6",children:[s.jsxs(O,{onClick:()=>{_(!1),t(`/category/${e}/add-video`)},className:"h-auto py-3 bg-gradient-primary hover:shadow-elevated transition-all duration-300 justify-start px-4",children:[s.jsx(Vt,{className:"w-5 h-5 mr-3 flex-shrink-0"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-semibold text-sm",children:"Add Video"}),s.jsx("div",{className:"text-xs opacity-90",children:"Add a video URL to this category"})]})]}),s.jsxs(O,{onClick:()=>{_(!1),t(`/category/${e}/add-screenshot`)},className:"h-auto py-3 bg-gradient-primary hover:shadow-elevated transition-all duration-300 justify-start px-4",children:[s.jsx(vr,{className:"w-5 h-5 mr-3 flex-shrink-0"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-semibold text-sm",children:"Add Screenshot"}),s.jsx("div",{className:"text-xs opacity-90",children:"Upload screenshot images"})]})]})]})]})}),s.jsx(qh,{category:a,isOpen:j,onClose:()=>N(!1),onSave:K}),s.jsx(Hh,{category:a,isOpen:S,onClose:()=>C(!1),onDelete:z})]})},Sre=()=>{const{id:e}=Oh(),t=Ie(),[r,n]=h.useState(""),[a,i]=h.useState(null),[o,l]=h.useState([]),[c,d]=h.useState(0),[u,f]=h.useState(0),[m,p]=h.useState(0),[x,g]=h.useState(!0),[w,y]=h.useState(""),[v,b]=h.useState("newest"),[j,N]=h.useState(!1),[S,C]=h.useState(!1),[k,A]=h.useState(!1),[P,_]=h.useState(()=>localStorage.getItem("videoLayoutMode")||"grid"),E=F=>{const W=new Date(F),L=Math.floor((new Date().getTime()-W.getTime())/(1e3*60*60));if(L<1)return"Just now";if(L<24)return`${L}h ago`;const J=Math.floor(L/24);return J<7?`${J}d ago`:W.toLocaleDateString()},M=F=>({"purple-cosmic":"bg-gradient-purple-cosmic","blue-ocean":"bg-gradient-blue-ocean","lime-forest":"bg-gradient-lime-forest","green-emerald":"bg-gradient-green-emerald","teal-navy":"bg-gradient-teal-navy","cyan-azure":"bg-gradient-cyan-azure","lime-vibrant":"bg-gradient-lime-vibrant","red-fire":"bg-gradient-red-fire","orange-sunset":"bg-gradient-orange-sunset"})[F]||"bg-gradient-primary",R=async()=>{if(e)try{g(!0);const{data:F,error:W}=await $.from("categories").select("id, name, color, description, updated_at").eq("id",e).maybeSingle();W?(console.error("Error fetching category:",W),n("Category")):(n((F==null?void 0:F.name)||"Category"),y((F==null?void 0:F.updated_at)||""),F&&i({id:F.id,name:F.name,color:F.color,description:F.description,count:0,lastUpdated:F.updated_at}));const{data:D,error:L}=await $.from("videos").select("*, reminder_date").eq("category_id",e).order("created_at",{ascending:!1});if(L)console.error("Error fetching videos:",L),l([]),d(0),f(0),p(0);else{const ee=(D||[]).map(H=>{var te,I;let q="Video";return H.url==="https://placeholder.com"||(te=H.title)!=null&&te.startsWith("Screenshots -")?q="screenshot":(I=H.tags)!=null&&I[0]&&(q=H.tags[0]),{id:H.id,title:H.title,platform:q,thumbnail:H.thumbnail_url,duration:H.duration?`${Math.floor(H.duration/60)}:${(H.duration%60).toString().padStart(2,"0")}`:"",hasReminder:!!H.reminder_date,reminderDate:H.reminder_date||null,hasNotes:!!H.description,addedDate:H.created_at,createdAt:H.created_at,url:H.url,description:H.description,tags:H.tags||[]}});l(ee);const G=ee.filter(H=>H.hasNotes).length,ce=ee.filter(H=>H.hasReminder).length;d(G),f(ce),F&&i({id:F.id,name:F.name,color:F.color,description:F.description,count:ee.length,lastUpdated:F.updated_at})}const{count:J,error:U}=await $.from("screenshots").select("*",{count:"exact",head:!0}).eq("category_id",e);U?(console.error("Error fetching screenshots count:",U),p(0)):p(J||0)}catch(F){console.error("Unexpected error:",F)}finally{g(!1)}};h.useEffect(()=>{R()},[e]);const T=[...o].sort((F,W)=>{switch(v){case"newest":return new Date(W.createdAt).getTime()-new Date(F.createdAt).getTime();case"oldest":return new Date(F.createdAt).getTime()-new Date(W.createdAt).getTime();case"title-asc":return F.title.localeCompare(W.title);case"title-desc":return W.title.localeCompare(F.title);case"reminder":return F.hasReminder&&!W.hasReminder?-1:!F.hasReminder&&W.hasReminder?1:new Date(W.createdAt).getTime()-new Date(F.createdAt).getTime();default:return 0}}),B=async()=>{if(e)try{const{data:F,error:W}=await $.from("videos").select("*, reminder_date").eq("category_id",e).order("created_at",{ascending:!1});if(W){console.error("Error fetching videos:",W);return}const D=(F||[]).map(U=>{var G,ce;let ee="Video";return U.url==="https://placeholder.com"||(G=U.title)!=null&&G.startsWith("Screenshots -")?ee="screenshot":(ce=U.tags)!=null&&ce[0]&&(ee=U.tags[0]),{id:U.id,title:U.title,platform:ee,thumbnail:U.thumbnail_url,duration:U.duration?`${Math.floor(U.duration/60)}:${(U.duration%60).toString().padStart(2,"0")}`:"",hasReminder:!!U.reminder_date,reminderDate:U.reminder_date||null,hasNotes:!!U.description,addedDate:U.created_at,createdAt:U.created_at,url:U.url,description:U.description,tags:U.tags||[]}});l(D);const L=D.filter(U=>U.hasNotes).length,J=D.filter(U=>U.hasReminder).length;d(L),f(J),a&&i({...a,count:D.length})}catch(F){console.error("Error refreshing videos:",F)}},K=async F=>{if(e)try{const{error:W}=await $.from("categories").update({name:F.name,description:F.description,color:F.color}).eq("id",e);if(W)throw W;R(),re({title:"Category Updated",description:"Your category has been successfully updated."})}catch(W){console.error("Error updating category:",W),re({title:"Error",description:"Failed to update category. Please try again.",variant:"destructive"})}},z=async F=>{try{const{error:W}=await $.from("videos").delete().eq("category_id",F);if(W)throw W;const{error:D}=await $.from("categories").delete().eq("id",F);if(D)throw D;t("/categories-web"),re({title:"Category Deleted",description:"Category and all its videos have been removed."})}catch(W){console.error("Error deleting category:",W),re({title:"Error",description:"Failed to delete category. Please try again.",variant:"destructive"})}},V=F=>{_(F),localStorage.setItem("videoLayoutMode",F)};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{title:r,showBack:!0,children:s.jsxs("div",{className:"flex items-center gap-2",children:[!x&&o.length>0&&s.jsxs(O,{variant:"ghost",size:"sm",onClick:()=>A(!0),className:"text-primary hover:text-primary/90",children:[s.jsx(wt,{className:"w-4 h-4 mr-1"}),"Add your item"]}),s.jsxs(nn,{children:[s.jsx(sn,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"icon",children:s.jsx(Lo,{className:"w-5 h-5"})})}),s.jsxs(Gr,{align:"end",className:"w-48",children:[s.jsxs(Oe,{onClick:()=>N(!0),children:[s.jsx(Cn,{className:"w-4 h-4 mr-2"}),"Edit Category"]}),s.jsxs(Oe,{onClick:()=>C(!0),className:"text-destructive focus:text-destructive",children:[s.jsx(yt,{className:"w-4 h-4 mr-2"}),"Delete Category"]})]})]})]})}),s.jsx("main",{className:"container mx-auto px-4 py-6 max-w-7xl",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[!x&&a?s.jsxs(Y,{className:"shadow-card",children:[s.jsxs(oe,{children:[s.jsxs(le,{className:"flex items-center justify-between",children:[s.jsx("span",{children:r}),s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${M(a.color)}`,children:s.jsx(Vt,{className:"w-5 h-5 text-white"})})]}),a.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:a.description})]}),s.jsx(X,{children:s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last updated: ",s.jsx("span",{className:"font-medium text-foreground",children:w?E(w):"N/A"})]})})]}):s.jsxs(Y,{className:"shadow-card animate-pulse",children:[s.jsx(oe,{children:s.jsx("div",{className:"h-6 bg-muted rounded w-32"})}),s.jsx(X,{children:s.jsx("div",{className:"h-4 bg-muted rounded w-24"})})]}),!x&&a?s.jsxs("div",{className:"space-y-3",children:[s.jsx(Y,{className:"shadow-card",children:s.jsx(X,{className:"p-4 flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${M(a.color)}`,children:s.jsx(Vt,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Videos"}),s.jsx("p",{className:"text-2xl font-bold text-foreground",children:o.length})]})]})})}),s.jsx(Y,{className:"shadow-card",children:s.jsx(X,{className:"p-4 flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${M(a.color)}`,children:s.jsx(Qr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Notes"}),s.jsx("p",{className:"text-2xl font-bold text-foreground",children:c})]})]})})}),s.jsx(Y,{className:"shadow-card",children:s.jsx(X,{className:"p-4 flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${M(a.color)}`,children:s.jsx(vr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Screenshots"}),s.jsx("p",{className:"text-2xl font-bold text-foreground",children:m})]})]})})}),s.jsx(Y,{className:"shadow-card",children:s.jsx(X,{className:"p-4 flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${M(a.color)}`,children:s.jsx(xt,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reminders"}),s.jsx("p",{className:"text-2xl font-bold text-foreground",children:u})]})]})})})]}):s.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(F=>s.jsx(Y,{className:"shadow-card animate-pulse",children:s.jsx(X,{className:"p-4",children:s.jsx("div",{className:"h-12 bg-muted rounded"})})},F))})]}),s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[s.jsx(Y,{className:"shadow-card",children:s.jsxs(X,{className:"p-4 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-muted/30 rounded-lg p-1",children:[s.jsx(O,{variant:P==="list"?"default":"ghost",size:"sm",onClick:()=>V("list"),className:"h-8 w-8 p-0",children:s.jsx(Hx,{className:"w-4 h-4"})}),s.jsx(O,{variant:P==="grid"?"default":"ghost",size:"sm",onClick:()=>V("grid"),className:"h-8 w-8 p-0",children:s.jsx(Fl,{className:"w-4 h-4"})})]}),o.length>1&&s.jsxs(qe,{value:v,onValueChange:b,children:[s.jsxs(Ve,{className:"w-52 bg-card border-border",children:[s.jsx(tu,{className:"w-4 h-4 mr-2"}),s.jsx(He,{})]}),s.jsxs(We,{children:[s.jsx(se,{value:"newest",children:"Newest First"}),s.jsx(se,{value:"oldest",children:"Oldest First"}),s.jsx(se,{value:"title-asc",children:"Title (A-Z)"}),s.jsx(se,{value:"title-desc",children:"Title (Z-A)"}),s.jsx(se,{value:"reminder",children:"Has Reminders"})]})]})]})}),x?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto"}),s.jsx("p",{className:"text-muted-foreground mt-4",children:"Loading videos..."})]}):T.length===0?s.jsx(Y,{className:"shadow-card",children:s.jsxs(X,{className:"py-12 text-center",children:[s.jsx(Vt,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No videos or screenshots in this category yet"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Start adding videos and screenshots to organize your content"}),s.jsxs(O,{onClick:()=>A(!0),className:"bg-gradient-primary",children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add your first item"]})]})}):s.jsx("div",{className:P==="grid"?"grid grid-cols-1 md:grid-cols-2 gap-4":"space-y-3",children:T.map(F=>P==="grid"?s.jsx(h3,{video:F,onVideoUpdated:B,inCategoryView:!0},F.id):s.jsx(Oa,{video:F,onVideoUpdated:B,inCategoryView:!0},F.id))})]})]})}),a&&s.jsxs(s.Fragment,{children:[s.jsx(qh,{isOpen:j,onClose:()=>N(!1),category:a,onSave:K}),s.jsx(Hh,{isOpen:S,onClose:()=>C(!1),category:a,onDelete:z})]}),s.jsx(Xe,{open:k,onOpenChange:A,children:s.jsxs(Qe,{className:"sm:max-w-sm",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"What would you like to add?"}),s.jsx(En,{children:"Choose between adding a video or a screenshot to this category"})]}),s.jsxs("div",{className:"grid gap-3 py-4",children:[s.jsxs(O,{onClick:()=>{A(!1),t(`/category/${e}/add-video`)},className:"h-auto py-3 bg-gradient-primary hover:shadow-elevated transition-all duration-300 justify-start px-4",children:[s.jsx(Vt,{className:"w-5 h-5 mr-3 flex-shrink-0"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-semibold text-sm",children:"Add Video"}),s.jsx("div",{className:"text-xs opacity-90",children:"Add a video URL to this category"})]})]}),s.jsxs(O,{onClick:()=>{A(!1),t(`/category/${e}/add-screenshot`)},className:"h-auto py-3 bg-gradient-primary hover:shadow-elevated transition-all duration-300 justify-start px-4",children:[s.jsx(vr,{className:"w-5 h-5 mr-3 flex-shrink-0"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-semibold text-sm",children:"Add Screenshot"}),s.jsx("div",{className:"text-xs opacity-90",children:"Upload screenshot images"})]})]})]})]})})]})},Cre=()=>{var p;const e=Ie(),[t,r]=h.useState({name:"",description:"",color:"blue-ocean"}),[n,a]=h.useState(!1),[i,o]=h.useState(!1),{limits:l,canCreateCategory:c}=Uo(),d=[{name:"Blue Ocean",value:"blue-ocean",class:"bg-gradient-blue-ocean"},{name:"Lime Forest",value:"lime-forest",class:"bg-gradient-lime-forest"},{name:"Green Emerald",value:"green-emerald",class:"bg-gradient-green-emerald"},{name:"Teal Navy",value:"teal-navy",class:"bg-gradient-teal-navy"},{name:"Purple Cosmic",value:"purple-cosmic",class:"bg-gradient-purple-cosmic"},{name:"Cyan Azure",value:"cyan-azure",class:"bg-gradient-cyan-azure"},{name:"Lime Vibrant",value:"lime-vibrant",class:"bg-gradient-lime-vibrant"},{name:"Red Fire",value:"red-fire",class:"bg-gradient-red-fire"},{name:"Orange Sunset",value:"orange-sunset",class:"bg-gradient-orange-sunset"}],u=(x,g)=>{const w=x==="description"?Rv(g):Na(g);r(y=>({...y,[x]:w}))},f=async x=>{x.preventDefault();const g=Gl(t.name,1,19,"Category name");if(!g.isValid){re({title:"Invalid Input",description:g.message,variant:"destructive"});return}const w=Gl(t.description,0,200,"Description");if(!w.isValid){re({title:"Invalid Input",description:w.message,variant:"destructive"});return}a(!0);try{const{data:{user:y},error:v}=await $.auth.getUser();if(v||!y){re({title:"Not signed in",description:"Please log in to create categories.",variant:"destructive"});return}if(!await c()){o(!0);return}const{error:j}=await $.from("categories").insert({name:yj(t.name),description:t.description||null,color:t.color,user_id:y.id});if(j){console.error("Insert category error:",j),re({title:"Failed to save",description:j.message,variant:"destructive"});return}re({title:"Success!",description:`Category "${t.name}" has been created`}),e("/categories")}catch(y){console.error("Unexpected error saving category:",y),re({title:"Unexpected error",description:"Could not create category. Please try again.",variant:"destructive"})}finally{a(!1)}},m=()=>{e("/categories")};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{title:"Add New Category",showBack:!0}),s.jsx("main",{className:"container mx-auto p-4 pb-8 max-w-7xl",children:s.jsx("form",{onSubmit:f,children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsx(le,{className:"text-lg",children:"Category Details"})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"name",className:"text-sm font-medium text-foreground",children:"Category Name *"}),s.jsx(de,{id:"name",placeholder:"e.g., AI Tools, Fitness",value:t.name,onChange:x=>u("name",x.target.value),className:"bg-card border-border focus:ring-primary",maxLength:19}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.name.length,"/19 characters (max)"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"description",className:"text-sm font-medium text-foreground",children:"Description (Optional)"}),s.jsx(_r,{id:"description",placeholder:"What kind of videos will you save in this category?",value:t.description,onChange:x=>u("description",x.target.value),className:"bg-card border-border focus:ring-primary min-h-[100px] resize-none",maxLength:200}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.description.length,"/200 characters"]})]})]})]}),s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsx(le,{className:"text-lg",children:"Category Color"})}),s.jsx(X,{children:s.jsx("div",{className:"grid grid-cols-5 gap-2",children:d.map(x=>s.jsx("button",{type:"button",onClick:()=>u("color",x.value),className:ne("relative w-full aspect-square rounded-lg transition-all duration-200 max-w-16",x.class,"hover:scale-105 hover:shadow-card",t.color===x.value&&"ring-2 ring-primary ring-offset-2"),title:x.name,children:t.color===x.value&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"w-5 h-5 bg-white rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-2.5 h-2.5 bg-primary rounded-full"})})})},x.value))})})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(O,{type:"button",variant:"outline",onClick:m,className:"flex-1 border-border hover:bg-muted",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Cancel"]}),s.jsxs(O,{type:"submit",className:"flex-1 bg-gradient-primary hover:shadow-elevated transition-all duration-300",disabled:!t.name.trim()||n,children:[s.jsx(aa,{className:"w-4 h-4 mr-2"}),n?"Creating...":"Create Category"]})]})]}),s.jsx("div",{className:"lg:sticky lg:top-4 lg:self-start",children:s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsx(le,{className:"text-lg",children:"Preview"})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-gradient-card border border-border",children:[s.jsx("div",{className:ne("w-16 h-16 rounded-lg flex items-center justify-center shrink-0",((p=d.find(x=>x.value===t.color))==null?void 0:p.class)||"bg-gradient-blue-ocean"),children:s.jsx(ug,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-foreground text-lg truncate",children:t.name||"Category Name"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"0 videos"}),t.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:t.description})]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1 p-3 bg-muted/30 rounded-lg",children:[s.jsx("p",{className:"font-medium",children:"This is how your category will appear in the category list."}),s.jsx("p",{children:"Choose a color that helps you quickly identify this category."})]})]})]})})]})})}),s.jsx(dc,{open:i,onOpenChange:o,currentPlan:(l==null?void 0:l.plan_name)||"Free Plan",feature:"Create more categories",limitType:"categories"})]})};var Iv="Switch",[_re,UNe]=ur(Iv),[kre,Ere]=_re(Iv),m3=h.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[m,p]=h.useState(null),x=De(t,b=>p(b)),g=h.useRef(!1),w=m?u||!!m.closest("form"):!0,[y,v]=cn({prop:a,defaultProp:i??!1,onChange:d,caller:Iv});return s.jsxs(kre,{scope:r,checked:y,disabled:l,children:[s.jsx(we.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":v3(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:ge(e.onClick,b=>{v(j=>!j),w&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),w&&s.jsx(x3,{control:m,bubbles:!g.current,name:n,value:c,checked:y,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});m3.displayName=Iv;var p3="SwitchThumb",g3=h.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=Ere(p3,r);return s.jsx(we.span,{"data-state":v3(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});g3.displayName=p3;var Pre="SwitchBubbleInput",x3=h.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=h.useRef(null),l=De(o,i),c=vS(r),d=L1(t);return h.useEffect(()=>{const u=o.current;if(!u)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const x=new Event("click",{bubbles:n});p.call(u,r),u.dispatchEvent(x)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});x3.displayName=Pre;function v3(e){return e?"checked":"unchecked"}var y3=m3,Are=g3;const gt=h.forwardRef(({className:e,...t},r)=>s.jsx(y3,{className:ne("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(Are,{className:ne("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));gt.displayName=y3.displayName;const IE=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e),ME=(e,t)=>{try{if(t.toLowerCase()==="youtube"){const r=/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,n=e.match(r);if(n&&n[1])return`https://img.youtube.com/vi/${n[1]}/maxresdefault.jpg`}else{if(t.toLowerCase()==="instagram")return"/placeholder.svg";if(t.toLowerCase()==="tiktok"){const r=e.match(/tiktok\.com\/@[^\/]+\/video\/(\d+)/);return r?`https://p16-sign-va.tiktokcdn.com/tos-maliva-p-0068/oEgS_${r[1]}_1.jpg`:"/placeholder.svg"}}return null}catch(r){return console.error("Error extracting thumbnail:",r),null}},Tre=async(e,t)=>{try{if(t.toLowerCase()==="youtube"){const r=/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,n=e.match(r);if(n&&n[1]){const i=`https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=${n[1]}&format=json`;try{const o=await fetch(i);if(o.ok)return(await o.json()).title||null}catch(o){console.error("Error fetching video title:",o)}}}else if(t.toLowerCase()==="instagram")try{const r=`https://www.instagram.com/oembed/?url=${encodeURIComponent(e)}`,n=await fetch(r);if(n.ok){const a=await n.json();return a.title||a.author_name||null}}catch(r){console.error("Error fetching Instagram reel title:",r)}return null}catch(r){return console.error("Error extracting video title:",r),null}},Ore=async e=>{try{console.log(" Invoking fetch-metadata function with URL:",e);const{data:t,error:r}=await $.functions.invoke("fetch-metadata",{body:{url:e}});return r?(console.error(" Edge function error:",r),null):(console.log(" Edge function response:",t),t)}catch(t){return console.error(" Failed to fetch metadata:",t),null}},LE=()=>{const e=Ie(),{categoryId:t}=Oh(),[r]=Rh(),{toast:n}=Ge(),[a,i]=h.useState({title:"",url:"",platform:"",notes:"",tags:"",hasReminder:!1,reminderDate:"",categoryId:""}),[o,l]=h.useState(!1),[c,d]=h.useState(!1),[u,f]=h.useState(null),[m,p]=h.useState([]),[x,g]=h.useState([]),[w,y]=h.useState(!0),[v,b]=h.useState(!1),[j,N]=h.useState(!1),[S,C]=h.useState({name:"",description:"",color:"blue-ocean"}),{limits:k,canAddVideoToCategory:A,isGoldPlan:P}=Uo(),_=[{name:"Blue Ocean",value:"blue-ocean",class:"bg-gradient-blue-ocean"},{name:"Lime Forest",value:"lime-forest",class:"bg-gradient-lime-forest"},{name:"Green Emerald",value:"green-emerald",class:"bg-gradient-green-emerald"},{name:"Teal Navy",value:"teal-navy",class:"bg-gradient-teal-navy"},{name:"Purple Cosmic",value:"purple-cosmic",class:"bg-gradient-purple-cosmic"},{name:"Cyan Azure",value:"cyan-azure",class:"bg-gradient-cyan-azure"},{name:"Lime Vibrant",value:"lime-vibrant",class:"bg-gradient-lime-vibrant"},{name:"Red Fire",value:"red-fire",class:"bg-gradient-red-fire"},{name:"Orange Sunset",value:"orange-sunset",class:"bg-gradient-orange-sunset"}],E=[{value:"youtube",label:"YouTube",color:"bg-red-500"},{value:"tiktok",label:"TikTok",color:"bg-black"},{value:"instagram",label:"Instagram",color:"bg-pink-500"},{value:"snapchat",label:"Snapchat",color:"bg-yellow-400"},{value:"loom",label:"Loom",color:"bg-purple-500"},{value:"twitter",label:"Twitter",color:"bg-blue-400"},{value:"vimeo",label:"Vimeo",color:"bg-blue-600"},{value:"other",label:"Other",color:"bg-gray-500"}];h.useEffect(()=>{t?i(W=>({...W,categoryId:t})):M()},[t]),h.useEffect(()=>{!t&&!w&&x.length===0&&(n({title:"Create a Category First",description:"You need to create at least one category before adding videos"}),e("/categories/add",{replace:!0}))},[x,w,t,e,n]),h.useEffect(()=>{const W=r.get("url");if(W){const D=decodeURIComponent(W);i(J=>({...J,url:D}));const L=D.toLowerCase();L.includes("youtube.com")||L.includes("youtu.be")?i(J=>({...J,platform:"youtube"})):L.includes("tiktok.com")?i(J=>({...J,platform:"tiktok"})):L.includes("instagram.com")?i(J=>({...J,platform:"instagram"})):L.includes("snapchat.com")?i(J=>({...J,platform:"snapchat"})):L.includes("loom.com")&&i(J=>({...J,platform:"loom"}))}},[r]);const M=async()=>{y(!0);try{const{data:W,error:D}=await $.from("categories").select("id, name, color").order("name");if(D){console.error("Error fetching categories:",D),n({title:"Error",description:"Failed to load categories",variant:"destructive"});return}g(W||[])}catch(W){console.error("Error fetching categories:",W)}finally{y(!1)}},R=async()=>{if(!S.name.trim()){n({title:"Error",description:"Category name is required",variant:"destructive"});return}if(S.name.trim().length>19){n({title:"Error",description:"Category name must be less than 20 characters",variant:"destructive"});return}try{const{data:{user:W}}=await $.auth.getUser();if(!W){n({title:"Error",description:"You must be logged in to create categories",variant:"destructive"});return}const{data:D,error:L}=await $.from("categories").insert([{name:S.name.trim(),description:S.description||null,color:S.color,user_id:W.id}]).select().single();if(L){console.error("Error creating category:",L),n({title:"Error",description:"Failed to create category",variant:"destructive"});return}g(J=>[...J,D]),i(J=>({...J,categoryId:D.id})),b(!1),C({name:"",description:"",color:"#3B82F6"}),n({title:"Success",description:"Category created successfully"})}catch(W){console.error("Error creating category:",W),n({title:"Error",description:"Failed to create category",variant:"destructive"})}},T=(W,D)=>{if(typeof D=="string"){let L;W==="url"?L=sre(D):W==="description"||W==="content"||W==="notes"?L=Rv(D):L=Na(D),i(J=>({...J,[W]:L}))}else i(L=>({...L,[W]:D}))},B=async W=>{if(i(D=>({...D,url:W})),f(null),p([]),W.trim()){const D=K(W);if(D){i(L=>({...L,platform:D})),d(!0);try{let L=null,J=null;if(D==="youtube"&&!a.title.trim()&&(L=await Tre(W,D),L&&i(G=>({...G,title:L}))),D==="instagram"||D==="tiktok"||D==="snapchat"||!a.title.trim()){console.log(" Fetching metadata for:",D,W);const G=await Ore(W);if(console.log(" Metadata response:",G),G!=null&&G.title&&!L&&!a.title.trim()&&i(ce=>({...ce,title:G.title})),G!=null&&G.thumbnail_url&&(console.log(" Got thumbnail from metadata:",G.thumbnail_url),J=G.thumbnail_url),Array.isArray(G==null?void 0:G.tags)&&(G==null?void 0:G.tags.length)>0){const ce=Array.from(new Set(G.tags.map(H=>H.toLowerCase())));p(ce),a.tags.trim()||i(H=>({...H,tags:ce.join(", ")}))}}const ee=J||ME(W,D);ee&&(console.log(" Setting final thumbnail:",ee),f(ee))}catch(L){console.error("Error extracting title or metadata:",L)}finally{d(!1)}}}},K=W=>{const D=W.toLowerCase();return D.includes("youtube.com")||D.includes("youtu.be")?"youtube":D.includes("tiktok.com")?"tiktok":D.includes("instagram.com/reel")||D.includes("instagram.com/p/")||D.includes("instagram.com")?"instagram":D.includes("snapchat.com")?"snapchat":D.includes("loom.com")?"loom":D.includes("vimeo.com")?"vimeo":D.includes("twitter.com")||D.includes("x.com")?"twitter":""},z=async W=>{W.preventDefault();const D=Gl(a.url,1,2e3,"Video URL");if(!D.isValid){n({title:"Invalid Input",description:D.message,variant:"destructive"});return}const L=Gl(a.title,0,200,"Video title");if(!L.isValid){n({title:"Invalid Input",description:L.message,variant:"destructive"});return}if(a.hasReminder&&!a.reminderDate){n({title:"Error",description:"Please select a reminder date",variant:"destructive"});return}if(!t&&!a.categoryId){n({title:"Error",description:"Please select a category for this video",variant:"destructive"});return}l(!0);try{const{data:{user:J},error:U}=await $.auth.getUser();if(U||!J){n({title:"Error",description:"You must be logged in to add videos",variant:"destructive"});return}const ee=t&&IE(t)?t:a.categoryId&&IE(a.categoryId)?a.categoryId:null;if(ee&&!await A(ee)){N(!0);return}const G=a.url.trim().startsWith("http")?a.url.trim():`https://${a.url.trim()}`,ce=u||ME(G,a.platform);console.log(" Saving video with thumbnail URL:",ce),console.log(" Extracted thumbnail state:",u);const H=be=>be?(be.match(/#(\w+)/g)||[]).map(ve=>ve.slice(1)):[],q=a.tags?a.tags.split(",").map(be=>be.trim()).filter(be=>be.length>0):[],te=H(a.notes),I=H(a.title),ie=a.platform?[a.platform]:[],Z=Array.from(new Set([...q,...te,...I,...m,...ie].map(be=>be.toLowerCase())));if(["youtube","instagram","tiktok","snapchat","loom"].includes(a.platform.toLowerCase())){console.log(" Using save-shared-link edge function for",a.platform);const{data:{session:be}}=await $.auth.getSession();if(!(be!=null&&be.access_token)){n({title:"Authentication Required",description:"Please log in to add videos.",variant:"destructive"});return}console.log(" Calling edge function with explicit auth token");const{data:ke,error:ve}=await Pd("save-shared-link",{url:G,categoryId:ee,note:a.notes||void 0,title:a.title||void 0,reminderAt:a.hasReminder&&a.reminderDate?a.reminderDate:void 0});if(ve){console.error("Edge function error:",ve),ve==="UNSUPPORTED_PLATFORM"?n({title:"Unsupported Link",description:"This link can't be added to Tagmentia yet. Supported platforms are YouTube, TikTok, Instagram, Snapchat, and Loom.",variant:"destructive"}):ve==="UPGRADE_REQUIRED"?e("/upgrade"):ve==="DUPLICATE_VIDEO"?n({title:"Already Saved",description:"This video is already in your collection."}):ve.includes("session")||ve.includes("expired")||ve.includes("Unauthorized")?(n({title:"Session Expired",description:ve,variant:"destructive"}),e("/auth/login")):n({title:"Error",description:ve,variant:"destructive"});return}console.log(" Video saved via edge function:",ke)}else{const be={title:a.title||`Video from ${a.platform}`,description:a.notes||null,url:G,thumbnail_url:ce,platform:a.platform,user_id:J.id,category_id:ee,tags:Z.length>0?Z:null,reminder_date:a.hasReminder&&a.reminderDate?a.reminderDate:null},{error:ke}=await $.from("videos").insert([be]);if(ke){console.error("Database error:",ke),n({title:"Error",description:"Failed to . Please try again.",variant:"destructive"});return}}n({title:"Success!",description:"Video has been added to your category"}),t?e(`/category/${t}`,{replace:!0}):e("/videos",{replace:!0})}catch(J){console.error("Unexpected error:",J),n({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{l(!1)}},V=()=>{e(t?`/category/${t}`:"/videos")},F=E.find(W=>W.value===a.platform);return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{title:"Add New Video",showBack:!0}),s.jsx("main",{className:"container max-w-7xl mx-auto p-4 md:p-6 lg:p-8 pb-8",children:s.jsxs("form",{onSubmit:z,className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsx(le,{className:"text-lg",children:"Video Details"})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"url",className:"text-sm font-medium text-foreground",children:"Video URL *"}),s.jsx(de,{id:"url",type:"url",value:a.url,onChange:W=>B(W.target.value),placeholder:"https://youtube.com/watch?v=...",className:"bg-card border-border focus:ring-primary"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"title",className:"text-sm font-medium text-foreground",children:"Video Title"}),s.jsx(de,{id:"title",value:a.title,onChange:W=>T("title",W.target.value),placeholder:"Auto-detected from URL",className:"bg-card border-border focus:ring-primary",disabled:c}),c&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Extracting title..."})]}),a.platform&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{className:"text-sm font-medium text-foreground",children:"Platform"}),s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted/50 rounded-lg h-10",children:[s.jsx("div",{className:ne("w-3 h-3 rounded",F==null?void 0:F.color)}),s.jsx("span",{className:"text-sm font-medium",children:F==null?void 0:F.label})]})]})]})]})]}),!t&&s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Lr,{className:"w-5 h-5 text-primary"}),"Category"]})}),s.jsx(X,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"category",className:"text-sm font-medium text-foreground",children:"Select Category *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(qe,{value:a.categoryId,onValueChange:W=>T("categoryId",W),children:[s.jsx(Ve,{className:"flex-1 bg-card border-border",children:s.jsx(He,{placeholder:w?"Loading categories...":"Choose a category"})}),s.jsx(We,{children:x.map(W=>s.jsx(se,{value:W.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:W.color}}),W.name]})},W.id))})]}),s.jsxs(Xe,{open:v,onOpenChange:b,children:[s.jsx(xS,{asChild:!0,children:s.jsx(O,{variant:"outline",size:"icon",children:s.jsx(wt,{className:"w-4 h-4"})})}),s.jsxs(Qe,{className:"sm:max-w-md",children:[s.jsx(et,{children:s.jsx(tt,{children:"Create New Category"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"new-category-name",children:"Category Name *"}),s.jsx(de,{id:"new-category-name",value:S.name,onChange:W=>C(D=>({...D,name:W.target.value})),placeholder:"Enter category name",maxLength:19}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[S.name.length,"/19 characters (max)"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"new-category-description",children:"Description"}),s.jsx(_r,{id:"new-category-description",value:S.description,onChange:W=>C(D=>({...D,description:W.target.value})),placeholder:"Enter category description (optional)",className:"min-h-[80px] resize-none"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"new-category-color",children:"Color"}),s.jsx("div",{className:"grid grid-cols-5 gap-2",children:_.map(W=>s.jsx("button",{type:"button",onClick:()=>C(D=>({...D,color:W.value})),className:ne("aspect-square rounded-md transition-all duration-200 relative",W.class,S.color===W.value?"ring-2 ring-primary ring-offset-2 scale-105":"hover:scale-105"),"aria-label":W.name,children:S.color===W.value&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"w-4 h-4 rounded-full bg-white/90 flex items-center justify-center",children:s.jsx("svg",{className:"w-3 h-3 text-primary",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{d:"M5 13l4 4L19 7"})})})})},W.value))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(O,{variant:"outline",onClick:()=>b(!1),className:"flex-1",children:"Cancel"}),s.jsx(O,{onClick:R,className:"flex-1 bg-gradient-primary",children:"Create Category"})]})]})]})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center gap-2 text-lg",children:[s.jsx(xr,{className:"w-5 h-5 text-primary"}),"Tags"]})}),s.jsx(X,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"tags",className:"text-sm font-medium text-foreground",children:"Video Tags"}),s.jsx(de,{id:"tags",placeholder:"tutorial, javascript, coding",value:a.tags,onChange:W=>T("tags",W.target.value),className:"bg-card border-border focus:ring-primary"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Separate with commas"}),a.tags&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:a.tags.split(",").map((W,D)=>W.trim()&&s.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs rounded-full border border-primary/20",children:W.trim()},D))})]})})]}),s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center gap-2 text-lg",children:[s.jsx(xt,{className:"w-5 h-5 text-primary"}),"Reminder"]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"reminder-toggle",className:"text-sm font-medium text-foreground",children:"Set Reminder"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified later"})]}),s.jsx(gt,{id:"reminder-toggle",checked:a.hasReminder,onCheckedChange:W=>T("hasReminder",W)})]}),a.hasReminder&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"reminder-date",className:"text-sm font-medium text-foreground",children:"Date & Time"}),s.jsx(de,{id:"reminder-date",type:"datetime-local",value:a.reminderDate,onChange:W=>T("reminderDate",W.target.value),className:"bg-card border-border focus:ring-primary"})]})]})]})]}),s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center gap-2 text-lg",children:[s.jsx(xr,{className:"w-5 h-5 text-primary"}),"Notes"]})}),s.jsx(X,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"notes",className:"text-sm font-medium text-foreground",children:"Add your notes about this video"}),s.jsx(_r,{id:"notes",placeholder:"What did you learn? Key takeaways? Timestamps?",value:a.notes,onChange:W=>T("notes",W.target.value),className:"bg-card border-border focus:ring-primary min-h-[120px] resize-none",maxLength:500}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.notes.length,"/500 characters"]})]})})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(O,{type:"button",variant:"outline",onClick:V,className:"flex-1 md:flex-none md:min-w-[140px] border-border hover:bg-muted",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Cancel"]}),s.jsx(O,{type:"submit",disabled:o,className:"flex-1 md:flex-none md:min-w-[140px] bg-gradient-primary hover:shadow-elevated transition-all duration-300",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Saving..."]}):s.jsx(s.Fragment,{children:s.jsx(aa,{className:"w-4 h-4 mr-2"})})})]})]}),s.jsx("div",{className:"lg:col-span-1 space-y-6",children:s.jsxs(Y,{className:"shadow-card sticky top-4",children:[s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center gap-2 text-lg",children:[s.jsx(yr,{className:"w-5 h-5 text-primary"}),"Preview"]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsx("div",{className:"aspect-video rounded-lg bg-muted flex items-center justify-center overflow-hidden",children:u?s.jsx("img",{src:u,alt:"Video thumbnail",className:"w-full h-full object-cover"}):a.url?s.jsx(yr,{className:"w-12 h-12 text-muted-foreground"}):s.jsx(MW,{className:"w-12 h-12 text-muted-foreground"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground line-clamp-2",children:a.title||"Video Title"}),F&&s.jsx("span",{className:ne("inline-block text-xs px-2 py-1 rounded text-white mt-2",F.color),children:F.label})]}),s.jsxs("div",{className:"space-y-2",children:[a.hasReminder&&a.reminderDate&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(xt,{className:"w-4 h-4 text-red-500"}),s.jsx("span",{className:"text-xs",children:new Date(a.reminderDate).toLocaleDateString()})]}),a.notes&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(xr,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-xs",children:"Notes added"})]}),a.tags&&s.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:s.jsxs("span",{className:"text-xs",children:[a.tags.split(",").filter(W=>W.trim()).length," tags"]})})]})]})]})]})})]})}),s.jsx(dc,{open:j,onOpenChange:N,currentPlan:(k==null?void 0:k.plan_name)||"Free Plan",feature:"Add more videos to category",limitType:"videos"})]})},$E=({onTimeout:e})=>{const[t,r]=h.useState(!1);return h.useEffect(()=>{const n=setTimeout(()=>{r(!0),e==null||e()},3e3);return()=>clearTimeout(n)},[e]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background/95 backdrop-blur-sm p-6",style:{paddingTop:"env(safe-area-inset-top, 0px)",paddingBottom:"env(safe-area-inset-bottom, 0px)"},children:s.jsxs("div",{className:"text-center space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex justify-center mb-8 relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"w-32 h-32 md:w-24 md:h-24 rounded-full bg-primary/25 animate-pulse-glow"})}),s.jsx("div",{className:"relative w-24 h-24 md:w-20 md:h-20 rounded-2xl bg-primary/15 backdrop-blur-md flex items-center justify-center border border-primary/20",children:s.jsx(Rt,{className:"w-12 h-12 md:w-10 md:h-10 text-primary animate-spin"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h2",{className:"text-3xl md:text-2xl font-semibold text-foreground",children:"Processing your link..."}),s.jsx("p",{className:"text-muted-foreground text-base md:text-sm",children:"Hang tight, we're fetching the details."})]}),t&&s.jsx("p",{className:"text-sm text-muted-foreground animate-fade-in",children:"This is taking longer than usual... still processing."})]})})},Rre=({url:e,onClose:t})=>s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background/95 backdrop-blur-sm p-6",style:{paddingTop:"env(safe-area-inset-top, 0px)",paddingBottom:"env(safe-area-inset-bottom, 0px)"},children:s.jsx("div",{className:"max-w-md w-full animate-fade-in",children:s.jsxs("div",{className:"bg-card/80 backdrop-blur-md rounded-2xl shadow-lg p-8 md:p-6 space-y-6 border border-border/60",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-20 h-20 md:w-16 md:h-16 rounded-full bg-destructive/15 backdrop-blur-sm flex items-center justify-center border border-destructive/20",children:s.jsx(S1,{className:"w-10 h-10 md:w-8 md:h-8 text-destructive"})})}),s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("h2",{className:"text-3xl md:text-2xl font-semibold text-foreground",children:"Unsupported Link"}),s.jsx("p",{className:"text-muted-foreground text-base md:text-sm",children:"This link can't be added to Tagmentia yet. Supported platforms are YouTube, TikTok, Instagram, and Snapchat."})]}),e&&s.jsx("div",{className:"bg-muted/50 rounded-xl p-4",children:s.jsx("p",{className:"text-xs text-muted-foreground break-all",children:e})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Currently supported platforms:"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-background rounded-lg border border-border/50",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-500/10 flex items-center justify-center",children:s.jsx(kD,{className:"w-5 h-5 text-red-500"})}),s.jsx("span",{className:"text-sm font-medium",children:"YouTube"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-background rounded-lg border border-border/50",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-black/10 flex items-center justify-center",children:s.jsx(C1,{className:"w-5 h-5 text-foreground"})}),s.jsx("span",{className:"text-sm font-medium",children:"TikTok"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-background rounded-lg border border-border/50",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-pink-500/10 flex items-center justify-center",children:s.jsx(jD,{className:"w-5 h-5 text-pink-500"})}),s.jsx("span",{className:"text-sm font-medium",children:"Instagram"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-background rounded-lg border border-border/50",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-500/10 flex items-center justify-center",children:s.jsx(wD,{className:"w-5 h-5 text-yellow-500"})}),s.jsx("span",{className:"text-sm font-medium",children:"Snapchat"})]})]})]}),s.jsx(O,{onClick:t,className:"w-full h-14 md:h-12 text-base font-medium",size:"lg",children:"Close"})]})})}),Dre=nc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),$r=h.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:ne(Dre({variant:t}),e),...r}));$r.displayName="Alert";const wS=h.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:ne("mb-1 font-medium leading-none tracking-tight",e),...t}));wS.displayName="AlertTitle";const Fr=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ne("text-sm [&_p]:leading-relaxed",e),...t}));Fr.displayName="AlertDescription";const FE={youtube:{Icon:kD,color:"text-red-500",bgColor:"bg-red-500/10"},tiktok:{Icon:C1,color:"text-foreground",bgColor:"bg-muted"},instagram:{Icon:jD,color:"text-pink-500",bgColor:"bg-pink-500/10"},snapchat:{Icon:wD,color:"text-yellow-500",bgColor:"bg-yellow-500/10"}},Ire=({url:e,title:t,thumbnailUrl:r,platform:n,categories:a,selectedCategoryId:i,notes:o,onNotesChange:l,onCategoryClick:c,onSave:d,onCancel:u,isSaving:f=!1,error:m,thumbnailError:p,onRetryThumbnail:x})=>{const g=a.find(b=>b.id===i),{Icon:w,color:y,bgColor:v}=FE[n]||FE.youtube;return s.jsx("div",{className:"min-h-screen bg-background/95 backdrop-blur-sm",style:{paddingTop:"env(safe-area-inset-top, 0px)",paddingBottom:"env(safe-area-inset-bottom, 0px)"},children:s.jsxs("div",{className:"max-w-2xl mx-auto p-6 md:p-6 space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl md:text-2xl font-semibold text-foreground",children:"Add Video"}),s.jsx(O,{variant:"ghost",onClick:u,disabled:f,className:"h-11 md:h-10 px-4 md:px-3",children:"Cancel"})]}),m&&s.jsx($r,{variant:"destructive",children:s.jsx(Fr,{children:m})}),s.jsx("div",{className:"bg-card/80 backdrop-blur-md rounded-2xl border border-border/60 overflow-hidden shadow-lg",children:r&&!p?s.jsxs("div",{className:"aspect-video relative group",children:[s.jsx("img",{src:r,alt:t,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]}):s.jsx("div",{className:"aspect-video bg-muted/60 backdrop-blur-sm flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("div",{className:ne("w-20 h-20 md:w-16 md:h-16 mx-auto rounded-full flex items-center justify-center backdrop-blur-md",v),children:s.jsx(w,{className:ne("w-10 h-10 md:w-8 md:h-8",y)})}),p&&x&&s.jsx(O,{variant:"outline",size:"sm",onClick:x,children:"Retry Thumbnail"})]})})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"title",children:"Video Title"}),s.jsx(de,{id:"title",value:t,readOnly:!0,className:"bg-muted/50 border-border/50"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:ne("px-4 py-2 rounded-lg flex items-center gap-2",v),children:[s.jsx(w,{className:ne("w-4 h-4",y)}),s.jsx("span",{className:ne("text-sm font-medium capitalize",y),children:n})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"url",children:"URL"}),s.jsxs("div",{className:"relative",children:[s.jsx(de,{id:"url",value:e,readOnly:!0,className:"bg-muted/50 border-border/50 pr-10"}),s.jsx("button",{onClick:()=>window.open(e,"_blank"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:s.jsx(So,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Category"}),s.jsx("button",{onClick:c,className:"w-full flex items-center gap-3 p-4 rounded-xl border-2 border-border/50 bg-card hover:bg-accent/50 transition-colors",children:g?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:g.color?`${g.color}20`:"hsl(var(--muted))"},children:s.jsx(Iw,{className:"w-6 h-6",style:{color:g.color||"hsl(var(--muted-foreground))"}})}),s.jsx("span",{className:"flex-1 text-left font-medium text-foreground",children:g.name})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-12 h-12 rounded-lg bg-muted flex items-center justify-center",children:s.jsx(Iw,{className:"w-6 h-6 text-muted-foreground"})}),s.jsx("span",{className:"flex-1 text-left text-muted-foreground",children:"Choose a category"})]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"notes",children:"Notes (Optional)"}),s.jsx(_r,{id:"notes",value:o,onChange:b=>l(b.target.value),placeholder:"Add notes or context...",className:"min-h-[100px] resize-none"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4 pb-safe",children:[s.jsx(O,{variant:"outline",onClick:u,disabled:f,className:"flex-1 h-14 md:h-12 text-base font-medium",children:"Cancel"}),s.jsx(O,{onClick:d,disabled:!i||f,className:"flex-1 h-14 md:h-12 text-base font-medium",children:f?"Saving...":"Save to Tagmentia"})]})]})})};function Mre(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var jS="ScrollArea",[b3,BNe]=ur(jS),[Lre,Ps]=b3(jS),w3=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=h.useState(null),[d,u]=h.useState(null),[f,m]=h.useState(null),[p,x]=h.useState(null),[g,w]=h.useState(null),[y,v]=h.useState(0),[b,j]=h.useState(0),[N,S]=h.useState(!1),[C,k]=h.useState(!1),A=De(t,_=>c(_)),P=ic(a);return s.jsx(Lre,{scope:r,type:n,dir:P,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:N,onScrollbarXEnabledChange:S,scrollbarY:g,onScrollbarYChange:w,scrollbarYEnabled:C,onScrollbarYEnabledChange:k,onCornerWidthChange:v,onCornerHeightChange:j,children:s.jsx(we.div,{dir:P,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});w3.displayName=jS;var j3="ScrollAreaViewport",N3=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=Ps(j3,r),l=h.useRef(null),c=De(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(we.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});N3.displayName=j3;var La="ScrollAreaScrollbar",NS=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ps(La,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return h.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx($re,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(Fre,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(S3,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(SS,{...n,ref:t}):null});NS.displayName=La;var $re=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ps(La,e.__scopeScrollArea),[i,o]=h.useState(!1);return h.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(kr,{present:r||i,children:s.jsx(S3,{"data-state":i?"visible":"hidden",...n,ref:t})})}),Fre=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ps(La,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Lv(()=>c("SCROLL_END"),100),[l,c]=Mre("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),h.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let f=d[u];const m=()=>{const p=d[u];f!==p&&(c("SCROLL"),o()),f=p};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),s.jsx(kr,{present:r||l!=="hidden",children:s.jsx(SS,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ge(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ge(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),S3=h.forwardRef((e,t)=>{const r=Ps(La,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=h.useState(!1),l=e.orientation==="horizontal",c=Lv(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return Td(r.viewport,c),Td(r.content,c),s.jsx(kr,{present:n||i,children:s.jsx(SS,{"data-state":i?"visible":"hidden",...a,ref:t})})}),SS=h.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Ps(La,e.__scopeScrollArea),i=h.useRef(null),o=h.useRef(0),[l,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=P3(l.viewport,l.content),u={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,p){return qre(m,o.current,l,p)}return r==="horizontal"?s.jsx(Ure,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,p=UE(m,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=f(m,a.dir))}}):r==="vertical"?s.jsx(Bre,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,p=UE(m,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=f(m))}}):null}),Ure=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Ps(La,e.__scopeScrollArea),[o,l]=h.useState(),c=h.useRef(null),d=De(t,c,i.onScrollbarXChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(_3,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Mv(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),T3(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Pg(o.paddingLeft),paddingEnd:Pg(o.paddingRight)}})}})}),Bre=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Ps(La,e.__scopeScrollArea),[o,l]=h.useState(),c=h.useRef(null),d=De(t,c,i.onScrollbarYChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(_3,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Mv(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(i.viewport){const m=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),T3(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Pg(o.paddingTop),paddingEnd:Pg(o.paddingBottom)}})}})}),[zre,C3]=b3(La),_3=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f,...m}=e,p=Ps(La,r),[x,g]=h.useState(null),w=De(t,A=>g(A)),y=h.useRef(null),v=h.useRef(""),b=p.viewport,j=n.content-n.viewport,N=zt(u),S=zt(c),C=Lv(f,10);function k(A){if(y.current){const P=A.clientX-y.current.left,_=A.clientY-y.current.top;d({x:P,y:_})}}return h.useEffect(()=>{const A=P=>{const _=P.target;(x==null?void 0:x.contains(_))&&N(P,j)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[b,x,j,N]),h.useEffect(S,[n,S]),Td(x,C),Td(p.content,C),s.jsx(zre,{scope:r,scrollbar:x,hasThumb:a,onThumbChange:zt(i),onThumbPointerUp:zt(o),onThumbPositionChange:S,onThumbPointerDown:zt(l),children:s.jsx(we.div,{...m,ref:w,style:{position:"absolute",...m.style},onPointerDown:ge(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),y.current=x.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),k(A))}),onPointerMove:ge(e.onPointerMove,k),onPointerUp:ge(e.onPointerUp,A=>{const P=A.target;P.hasPointerCapture(A.pointerId)&&P.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),Eg="ScrollAreaThumb",k3=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=C3(Eg,e.__scopeScrollArea);return s.jsx(kr,{present:r||a.hasThumb,children:s.jsx(Vre,{ref:t,...n})})}),Vre=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Ps(Eg,r),o=C3(Eg,r),{onThumbPositionChange:l}=o,c=De(t,f=>o.onThumbChange(f)),d=h.useRef(void 0),u=Lv(()=>{d.current&&(d.current(),d.current=void 0)},100);return h.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(u(),!d.current){const p=Hre(f,l);d.current=p,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,u,l]),s.jsx(we.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ge(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),x=f.clientX-p.left,g=f.clientY-p.top;o.onThumbPointerDown({x,y:g})}),onPointerUp:ge(e.onPointerUp,o.onThumbPointerUp)})});k3.displayName=Eg;var CS="ScrollAreaCorner",E3=h.forwardRef((e,t)=>{const r=Ps(CS,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(Wre,{...e,ref:t}):null});E3.displayName=CS;var Wre=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Ps(CS,r),[i,o]=h.useState(0),[l,c]=h.useState(0),d=!!(i&&l);return Td(a.scrollbarX,()=>{var f;const u=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),Td(a.scrollbarY,()=>{var f;const u=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?s.jsx(we.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Pg(e){return e?parseInt(e,10):0}function P3(e,t){const r=e/t;return isNaN(r)?0:r}function Mv(e){const t=P3(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function qre(e,t,r,n="ltr"){const a=Mv(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,f=n==="ltr"?[0,u]:[u*-1,0];return A3([c,d],f)(e)}function UE(e,t,r="ltr"){const n=Mv(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],d=hj(e,c);return A3([0,o],[0,l])(d)}function A3(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function T3(e,t){return e>0&&e<t}var Hre=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Lv(e,t){const r=zt(e),n=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),h.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Td(e,t){const r=zt(t);Ft(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var O3=w3,Gre=N3,Kre=E3;const R3=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(O3,{ref:n,className:ne("relative overflow-hidden",e),...r,children:[s.jsx(Gre,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(D3,{}),s.jsx(Kre,{})]}));R3.displayName=O3.displayName;const D3=h.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(NS,{ref:n,orientation:t,className:ne("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(k3,{className:"relative flex-1 rounded-full bg-border"})}));D3.displayName=NS.displayName;const Yre=({open:e,onClose:t,categories:r,selectedCategoryId:n,onSelectCategory:a,onCreateNew:i})=>{const o=l=>{a(l),t()};return s.jsx(Xe,{open:e,onOpenChange:t,children:s.jsxs(Qe,{className:"sm:max-w-md",children:[s.jsx(et,{children:s.jsx(tt,{children:"Select Category"})}),s.jsx(R3,{className:"max-h-[60vh] pr-4",children:s.jsx("div",{className:"space-y-2",children:r.map(l=>{const c=l.id===n;return s.jsxs("button",{onClick:()=>o(l.id),className:ne("w-full flex items-center gap-3 p-4 rounded-xl border-2 transition-all hover:bg-accent/50",c?"border-primary bg-primary/5":"border-border/50 bg-card"),children:[s.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0",style:{backgroundColor:l.color?`${l.color}20`:"hsl(var(--muted))"},children:s.jsx(Iw,{className:"w-6 h-6",style:{color:l.color||"hsl(var(--muted-foreground))"}})}),s.jsx("span",{className:"flex-1 text-left font-medium text-foreground",children:l.name}),c&&s.jsx(st,{className:"w-5 h-5 text-primary flex-shrink-0"})]},l.id)})})}),i&&s.jsxs(O,{onClick:()=>{i(),t()},variant:"outline",className:"w-full h-12 mt-4",children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Create New Category"]})]})})},Qre=({categoryName:e,onViewItem:t,onAddAnother:r,autoCloseDelay:n})=>(h.useEffect(()=>{if(n){const a=setTimeout(()=>{t()},n);return()=>clearTimeout(a)}},[n,t]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background/95 backdrop-blur-sm p-6",style:{paddingTop:"env(safe-area-inset-top, 0px)",paddingBottom:"env(safe-area-inset-bottom, 0px)"},children:s.jsx("div",{className:"max-w-md w-full animate-fade-in",children:s.jsxs("div",{className:"bg-card/80 backdrop-blur-md rounded-2xl shadow-lg p-8 md:p-6 space-y-8 border border-border/60",children:[s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"relative w-28 h-28 md:w-24 md:h-24",children:s.jsxs("svg",{className:"w-24 h-24",viewBox:"0 0 52 52",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("circle",{cx:"26",cy:"26",r:"25",stroke:"hsl(142, 76%, 36%)",strokeWidth:"2",fill:"hsl(142, 76%, 96%)",className:"animate-draw-circle",style:{strokeDasharray:"0 157"}}),s.jsx("path",{d:"M14 27L22 35L38 17",stroke:"hsl(142, 76%, 36%)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-draw-check",style:{strokeDasharray:"0 50"}})]})}),s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("h2",{className:"text-3xl md:text-2xl font-semibold text-foreground",children:"Saved!"}),s.jsx("p",{className:"text-muted-foreground text-base md:text-sm",children:"Your video has been added to your collection."})]}),s.jsx("div",{className:"bg-primary/10 rounded-xl px-6 py-3 border border-primary/20",children:s.jsxs("p",{className:"text-sm text-primary font-medium",children:["Category: ",e]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(O,{onClick:t,className:"w-full h-14 md:h-12 text-base font-medium",size:"lg",children:"View Item"}),s.jsx(O,{onClick:r,variant:"outline",className:"w-full h-14 md:h-12 text-base font-medium",size:"lg",children:"Add Another"})]}),n&&s.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Redirecting automatically in ",n/1e3," seconds..."]})]})})})),$u="tagmentia_default_category_id";function I3(){const[e,t]=h.useState(()=>typeof window<"u"?localStorage.getItem($u):null),[r,n]=h.useState(!0);return h.useEffect(()=>{(async()=>{try{const{data:{user:o}}=await $.auth.getUser();if(!o){n(!1);return}const l=localStorage.getItem($u);if(l){const{data:c}=await $.from("categories").select("id").eq("id",l).eq("user_id",o.id).single();c?t(l):(localStorage.removeItem($u),t(null))}}catch(o){console.error("Error loading default category:",o)}finally{n(!1)}})()},[]),{defaultCategoryId:e,setDefaultCategory:async i=>{try{if(i){const{data:{user:o}}=await $.auth.getUser();if(!o)return;const{data:l}=await $.from("categories").select("id").eq("id",i).eq("user_id",o.id).single();if(l)localStorage.setItem($u,i),t(i);else throw new Error("Category not found or does not belong to user")}else localStorage.removeItem($u),t(null)}catch(o){throw console.error("Error setting default category:",o),o}},loading:r}}function Jre(){const[e]=Rh(),t=Ie(),{toast:r}=Ge(),{defaultCategoryId:n,loading:a}=I3(),[i,o]=h.useState(""),[l,c]=h.useState(""),[d,u]=h.useState(""),[f,m]=h.useState(null),[p,x]=h.useState(""),[g,w]=h.useState(""),[y,v]=h.useState([]),[b,j]=h.useState(!1),[N,S]=h.useState(!0),[C,k]=h.useState(!1),[A,P]=h.useState(""),[_,E]=h.useState(!1),[M,R]=h.useState(!1),[T,B]=h.useState(!1),[K,z]=h.useState(!1);h.useEffect(()=>{a||(async()=>{const{data:{user:L}}=await $.auth.getUser();if(!L){t("/auth/login");return}const J=e.get("url")||e.get("text")||"",U=J?decodeURIComponent(J):"";if(o(U),U&&!Cv(U)){E(!0),S(!1);return}const{data:ee}=await $.from("categories").select("id, name, color").eq("user_id",L.id).order("name");if(ee){v(ee);let G="";n&&ee.find(ce=>ce.id===n)?G=n:(ee.length===1||ee.length>0)&&(G=ee[0].id),x(G)}if(U){const G=zh(U);G&&(m(G),c(`${G.charAt(0).toUpperCase()+G.slice(1)} Video`))}S(!1)})()},[e,t,n,a]),h.useEffect(()=>{(async()=>{if(!(a||N||T||K)&&i&&p&&f&&y.length>0&&!C){if(!y.find(U=>U.id===p)){z(!0);return}if(!(n&&p===n||y.length===1&&p===y[0].id)){z(!0);return}B(!0),z(!0);try{const{data:{user:U},error:ee}=await $.auth.getUser();if(ee||!U){B(!1);return}const{data:G,error:ce}=await Pd("save-shared-link",{url:i,categoryId:p,note:g||void 0});if(ce){console.log("Auto-save failed, showing form:",ce),B(!1);return}if(G){k(!0);const H=y.find(q=>q.id===p);r({title:"Saved automatically",description:`Video saved to ${(H==null?void 0:H.name)||"your category"}`})}}catch(U){console.error("Error auto-saving video:",U),B(!1)}finally{B(!1)}}})()},[i,p,n,f,C,y,a,N,T,K,g,r]);const V=async()=>{if(!(!i||!p)){j(!0),P("");try{const{data:{user:D},error:L}=await $.auth.getUser();if(L||!D){const ee="Not authenticated. Please log in to save videos.";P(ee),r({title:"Authentication Required",description:ee,variant:"destructive"}),t("/auth/login"),j(!1);return}const{data:J,error:U}=await Pd("save-shared-link",{url:i,categoryId:p,note:g||void 0});if(U)if(U==="UNSUPPORTED_PLATFORM"){r({title:"Unsupported Link",description:"This link can't be added to Tagmentia yet. Supported platforms are YouTube, TikTok, Instagram, Snapchat, and Loom.",variant:"destructive"}),j(!1);return}else if(U==="UPGRADE_REQUIRED"){t("/upgrade"),j(!1);return}else if(U==="DUPLICATE_VIDEO"){r({title:"Already Saved",description:"This video is already in your collection."}),j(!1);return}else if(U.includes("session")||U.includes("expired")||U.includes("Unauthorized")){P(U),r({title:"Session Expired",description:U,variant:"destructive"}),t("/auth/login"),j(!1);return}else{P(U),r({title:"Couldn't Save Item",description:U,variant:"destructive"}),j(!1);return}if(J)k(!0);else throw new Error("No data returned from server")}catch(D){console.error("Error saving video:",D);const L=(D==null?void 0:D.message)||"Something went wrong while saving your video. Please try again.";P(L),r({title:"Couldn't Save Item",description:L,variant:"destructive"})}finally{j(!1)}}},F=()=>{y.find(L=>L.id===p)&&t(`/category/${p}`)},W=()=>{k(!1),o(""),c(""),u(""),m(null),w(""),P("")};if(N)return s.jsx($E,{});if(_)return s.jsx(Rre,{url:i,onClose:()=>t(-1)});if(C){const D=y.find(L=>L.id===p);return s.jsx(Qre,{categoryName:(D==null?void 0:D.name)||"Unknown",onViewItem:F,onAddAnother:W,autoCloseDelay:2e3})}return!f||y.length===0?s.jsx($E,{}):s.jsxs(s.Fragment,{children:[s.jsx(Ire,{url:i,title:l,thumbnailUrl:d,platform:f,categories:y,selectedCategoryId:p,notes:g,onNotesChange:w,onCategoryClick:()=>R(!0),onSave:V,onCancel:()=>t(-1),isSaving:b,error:A}),s.jsx(Yre,{open:M,onClose:()=>R(!1),categories:y,selectedCategoryId:p,onSelectCategory:x,onCreateNew:()=>t("/add-category")})]})}var _S="Progress",kS=100,[Zre,zNe]=ur(_S),[Xre,ene]=Zre(_S),M3=h.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=tne,...o}=e;(a||a===0)&&!BE(a)&&console.error(rne(`${a}`,"Progress"));const l=BE(a)?a:kS;n!==null&&!zE(n,l)&&console.error(nne(`${n}`,"Progress"));const c=zE(n,l)?n:null,d=Ag(c)?i(c,l):void 0;return s.jsx(Xre,{scope:r,value:c,max:l,children:s.jsx(we.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Ag(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":F3(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});M3.displayName=_S;var L3="ProgressIndicator",$3=h.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=ene(L3,r);return s.jsx(we.div,{"data-state":F3(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});$3.displayName=L3;function tne(e,t){return`${Math.round(e/t*100)}%`}function F3(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Ag(e){return typeof e=="number"}function BE(e){return Ag(e)&&!isNaN(e)&&e>0}function zE(e,t){return Ag(e)&&!isNaN(e)&&e<=t&&e>=0}function rne(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${kS}\`.`}function nne(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${kS} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var U3=M3,sne=$3;const B3=h.forwardRef(({className:e,value:t,...r},n)=>s.jsx(U3,{ref:n,className:ne("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(sne,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));B3.displayName=U3.displayName;const ane=({current:e,max:t,isUnlimited:r})=>{if(r)return s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(vr,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:"Screenshots:"}),s.jsxs(je,{variant:"outline",className:"font-mono",children:[e," / "]})]});const n=e/t*100,a=n>80;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vr,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:"Screenshots"})]}),s.jsxs(je,{variant:a?"destructive":"outline",className:"font-mono",children:[e," / ",t]})]}),s.jsx(B3,{value:n,className:"h-2"})]})},ine=()=>{const[e,t]=h.useState(null),[r,n]=h.useState(!0),a=async()=>{try{const{data:{user:i}}=await $.auth.getUser();if(!i)return;const{data:o,error:l}=await $.rpc("get_user_storage_quota",{user_uuid:i.id});if(l)throw l;if(o&&o.length>0){const c=o[0],d=c.quota_bytes===null;t({quota_bytes:c.quota_bytes,used_bytes:c.used_bytes||0,remaining_bytes:c.remaining_bytes,quota_mb:c.quota_bytes?Math.round(c.quota_bytes/(1024*1024)):null,used_mb:Math.round((c.used_bytes||0)/(1024*1024)),remaining_mb:c.remaining_bytes?Math.round(c.remaining_bytes/(1024*1024)):null,percentage:d?null:(c.used_bytes||0)/c.quota_bytes*100,is_unlimited:d})}}catch(i){console.error("Error fetching storage quota:",i)}finally{n(!1)}};return h.useEffect(()=>{a()},[]),{quota:e,loading:r,refresh:a}},Jb=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e),VE=()=>{const e=Ie(),{categoryId:t}=Oh(),{toast:r}=Ge(),[n,a]=h.useState({note:"",tags:"",categoryId:"",videoId:"",hasReminder:!1,reminderDate:""}),[i,o]=h.useState([]),[l,c]=h.useState([]),[d,u]=h.useState(!1),[f,m]=h.useState([]),[p,x]=h.useState(!0),[g,w]=h.useState(!1),[y,v]=h.useState(!1),[b,j]=h.useState({name:"",description:"",color:"blue-ocean"}),[N,S]=h.useState(null),{limits:C}=Uo();ine();const k=[{name:"Blue Ocean",value:"blue-ocean",class:"bg-gradient-blue-ocean"},{name:"Lime Forest",value:"lime-forest",class:"bg-gradient-lime-forest"},{name:"Green Emerald",value:"green-emerald",class:"bg-gradient-green-emerald"},{name:"Teal Navy",value:"teal-navy",class:"bg-gradient-teal-navy"},{name:"Purple Cosmic",value:"purple-cosmic",class:"bg-gradient-purple-cosmic"},{name:"Cyan Azure",value:"cyan-azure",class:"bg-gradient-cyan-azure"},{name:"Lime Vibrant",value:"lime-vibrant",class:"bg-gradient-lime-vibrant"},{name:"Red Fire",value:"red-fire",class:"bg-gradient-red-fire"},{name:"Orange Sunset",value:"orange-sunset",class:"bg-gradient-orange-sunset"}],{defaultCategoryId:A,loading:P}=I3(),[_,E]=h.useState(!1),[M,R]=h.useState(!1),[T,B]=h.useState(!1);h.useEffect(()=>{P||(t?a(U=>({...U,categoryId:t})):K(),z())},[t,P]),h.useEffect(()=>{!t&&!p&&f.length===0&&(r({title:"Create a Category First",description:"You need to create at least one category before adding screenshots"}),e("/categories/add",{replace:!0}))},[f,p,t,e,r]);const K=async()=>{x(!0);try{const{data:U,error:ee}=await $.from("categories").select("id, name, color").order("name");if(ee){console.error("Error fetching categories:",ee),r({title:"Error",description:"Failed to load categories",variant:"destructive"});return}const G=U||[];if(m(G),!t&&G.length>0){let ce="";A&&G.find(H=>H.id===A)?ce=A:(G.length===1||G.length>0)&&(ce=G[0].id),ce&&a(H=>({...H,categoryId:ce}))}}catch(U){console.error("Error fetching categories:",U)}finally{x(!1)}},z=async()=>{try{const{data:{user:U}}=await $.auth.getUser();if(!U)return;const{data:ee,error:G}=await $.rpc("get_user_screenshot_limits",{user_uuid:U.id});if(G){console.error("Error fetching screenshot limits:",G);return}ee&&ee.length>0&&S(ee[0])}catch(U){console.error("Error fetching screenshot limits:",U)}},V=async()=>{if(!b.name.trim()){r({title:"Error",description:"Category name is required",variant:"destructive"});return}if(b.name.trim().length>19){r({title:"Error",description:"Category name must be less than 20 characters",variant:"destructive"});return}try{const{data:{user:U}}=await $.auth.getUser();if(!U){r({title:"Error",description:"You must be logged in to create categories",variant:"destructive"});return}const{data:ee,error:G}=await $.from("categories").insert([{name:b.name.trim(),description:b.description||null,color:b.color,user_id:U.id}]).select().single();if(G){console.error("Error creating category:",G),r({title:"Error",description:"Failed to create category",variant:"destructive"});return}m(ce=>[...ce,ee]),a(ce=>({...ce,categoryId:ee.id})),w(!1),j({name:"",description:"",color:"#3B82F6"}),r({title:"Success",description:"Category created successfully"})}catch(U){console.error("Error creating category:",U),r({title:"Error",description:"Failed to create category",variant:"destructive"})}},F=(U,ee)=>{if(typeof ee=="string"){let G;U==="note"?G=Rv(ee):G=Na(ee),a(ce=>({...ce,[U]:G}))}else a(G=>({...G,[U]:ee}))},W=U=>{const ee=U.target.files;if(!ee||ee.length===0)return;if(N&&!N.can_upload){v(!0);return}const G=Array.from(ee),ce=["image/png","image/jpeg","image/jpg","image/webp"];if(G.filter(ie=>!ce.includes(ie.type)).length>0){r({title:"Invalid File Type",description:"Only PNG, JPEG, JPG, and WebP images are allowed",variant:"destructive"});return}const q=(N==null?void 0:N.current_screenshots)||0,te=(N==null?void 0:N.max_screenshots)||0,I=q+i.length+G.length;if(te!==-1&&I>te){r({title:"Screenshot Limit Reached",description:`You can only upload ${te-q-i.length} more screenshot(s)`,variant:"destructive"});return}o(ie=>[...ie,...G]),G.forEach(ie=>{const Z=new FileReader;Z.onloadend=()=>{c(pe=>[...pe,Z.result])},Z.readAsDataURL(ie)})},D=U=>{o(ee=>ee.filter((G,ce)=>ce!==U)),c(ee=>ee.filter((G,ce)=>ce!==U))};h.useEffect(()=>{(async()=>{if(P||p||_||M||T)return;const ee=n.categoryId||A;if(i.length>0&&ee&&f.length>0&&!t){if(!f.find(H=>H.id===ee)){R(!0);return}if(!(A&&ee===A||f.length===1&&ee===f[0].id)){R(!0);return}if(N&&!N.can_upload){R(!0);return}E(!0),R(!0);try{const{data:{user:H},error:q}=await $.auth.getUser();if(q||!H){E(!1);return}const te=ee,{data:I,error:ie}=await $.from("videos").insert({user_id:H.id,category_id:te,title:`Screenshots - ${new Date().toLocaleDateString()}`,url:"https://placeholder.com",description:n.note||"Screenshot collection"}).select().single();if(ie||!I){console.error("Error creating video for screenshots:",ie),E(!1);return}const{compressImages:Z}=await Zr(async()=>{const{compressImages:Le}=await import("./imageCompression-OcUn27My.js");return{compressImages:Le}},[]),pe=await Z(i),xe=new FormData;pe.forEach(Le=>{xe.append("files",Le)}),xe.append("videoId",I.id),xe.append("categoryId",te),n.note&&xe.append("note",n.note);const{data:{session:be}}=await $.auth.getSession();if(!(be!=null&&be.access_token)){E(!1);return}const ke=await fetch("https://vgsavnlyathtlvrevtjb.supabase.co/functions/v1/upload-screenshots",{method:"POST",headers:{Authorization:`Bearer ${be.access_token}`},body:xe});if(!ke.ok){const Le=await ke.text();console.error("Error uploading screenshots:",Le),E(!1);return}B(!0),a(Le=>({...Le,categoryId:te}));const ve=f.find(Le=>Le.id===te);r({title:"Saved automatically",description:`${i.length} screenshot(s) saved to ${(ve==null?void 0:ve.name)||"your category"}`})}catch(H){console.error("Error auto-saving screenshots:",H),E(!1)}finally{E(!1)}}})()},[i,n.categoryId,A,f,P,p,_,M,T,t,N,n.note,r]);const L=async U=>{if(U.preventDefault(),i.length===0){r({title:"Error",description:"Please select at least one screenshot",variant:"destructive"});return}if(!t&&!n.categoryId){r({title:"Error",description:"Please select a category for these screenshots",variant:"destructive"});return}if(n.note){const ee=Gl(n.note,0,500,"Note");if(!ee.isValid){r({title:"Invalid Input",description:ee.message,variant:"destructive"});return}}if(n.hasReminder&&!n.reminderDate){r({title:"Error",description:"Please select a reminder date",variant:"destructive"});return}u(!0);try{const{data:{user:ee},error:G}=await $.auth.getUser();if(G||!ee){r({title:"Error",description:"You must be logged in to add screenshots",variant:"destructive"});return}const ce=t&&Jb(t)?t:n.categoryId&&Jb(n.categoryId)?n.categoryId:null;if(!ce){r({title:"Error",description:"Invalid category selected",variant:"destructive"});return}let H=n.videoId;if(!H||!Jb(H)){const{data:be,error:ke}=await $.from("videos").insert({user_id:ee.id,category_id:ce,title:`Screenshots - ${new Date().toLocaleDateString()}`,url:"https://placeholder.com",description:n.note||"Screenshot collection",tags:n.tags?n.tags.split(",").map(ve=>ve.trim()):[],reminder_date:n.hasReminder&&n.reminderDate?n.reminderDate:null}).select().single();if(ke||!be){console.error("Error creating video:",ke),r({title:"Error",description:"Failed to create video container for screenshots",variant:"destructive"});return}H=be.id}r({title:"Compressing images...",description:"This may take a moment"});const{compressImages:q}=await Zr(async()=>{const{compressImages:be}=await import("./imageCompression-OcUn27My.js");return{compressImages:be}},[]),te=await q(i),I=5*1024*1024,ie=te.filter(be=>be.size>I);if(ie.length>0){r({title:"File Too Large",description:`${ie.length} file(s) still exceed 5MB after compression. Please use smaller images.`,variant:"destructive"}),u(!1);return}const Z=new FormData;te.forEach((be,ke)=>{Z.append("files",be)}),Z.append("categoryId",ce),Z.append("videoId",H),n.note&&Z.append("note",n.note);const{data:pe,error:xe}=await $.functions.invoke("upload-screenshot",{body:Z});if(xe){console.error("Upload error:",xe),r({title:"Error",description:xe.message||"Failed to upload screenshots",variant:"destructive"});return}if(pe!=null&&pe.screenshots&&pe.screenshots.length>0){const be=pe.screenshots[0];await $.from("videos").update({thumbnail_url:be.thumb_320_url||be.original_url}).eq("id",H)}r({title:"Success!",description:`${i.length} screenshot(s) uploaded successfully`}),t?e(`/category/${t}`,{replace:!0}):ce?e(`/category/${ce}`,{replace:!0}):e("/videos",{replace:!0})}catch(ee){console.error("Unexpected error:",ee),r({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{u(!1)}},J=()=>{e(t?`/category/${t}`:"/videos")};return T?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{title:"Add Screenshots",showBack:!0}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx(Y,{className:"shadow-card max-w-md mx-auto",children:s.jsxs(X,{className:"p-8 text-center space-y-4",children:[s.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-green-500/10 flex items-center justify-center",children:s.jsx(aa,{className:"w-8 h-8 text-green-500"})}),s.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Saved Successfully!"}),s.jsxs("p",{className:"text-muted-foreground",children:[i.length," screenshot(s) have been saved to your default category."]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(O,{onClick:()=>e(`/category/${n.categoryId}`),className:"flex-1",children:"View Category"}),s.jsx(O,{variant:"outline",onClick:()=>{B(!1),o([]),c([]),R(!1)},children:"Add More"})]})]})})})]}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{title:"Add Screenshots",showBack:!0}),s.jsx("main",{className:"container max-w-7xl mx-auto p-4 md:p-6 lg:p-8 pb-8",children:s.jsxs("form",{onSubmit:L,className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsx(le,{className:"text-lg",children:"Upload Screenshots"})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"files",className:"text-sm font-medium text-foreground",children:"Select Images *"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(de,{id:"files",type:"file",multiple:!0,accept:"image/png,image/jpeg,image/jpg,image/webp",onChange:W,className:"bg-card border-border focus:ring-primary"}),s.jsxs(O,{type:"button",variant:"outline",onClick:()=>{var U;return(U=document.getElementById("files"))==null?void 0:U.click()},children:[s.jsx(qf,{className:"w-4 h-4 mr-2"}),"Browse"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Supported formats: PNG, JPEG, JPG, WebP (Max 5MB per file)"})]}),i.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{className:"text-sm font-medium text-foreground",children:["Selected Files (",i.length,")"]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:l.map((U,ee)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:U,alt:`Preview ${ee+1}`,className:"w-full h-32 object-cover rounded-lg border border-border"}),s.jsx("button",{type:"button",onClick:()=>D(ee),className:"absolute top-2 right-2 bg-destructive text-destructive-foreground rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(er,{className:"w-4 h-4"})}),s.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:[i[ee].name.substring(0,15),"..."]})]},ee))})]}),N&&s.jsx(ane,{current:N.current_screenshots+i.length,max:N.max_screenshots,isUnlimited:N.max_screenshots===-1})]})]}),!t&&s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Lr,{className:"w-5 h-5 text-primary"}),"Category"]})}),s.jsx(X,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"category",className:"text-sm font-medium text-foreground",children:"Select Category *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(qe,{value:n.categoryId,onValueChange:U=>F("categoryId",U),children:[s.jsx(Ve,{className:"flex-1 bg-card border-border",children:s.jsx(He,{placeholder:p?"Loading categories...":"Choose a category"})}),s.jsx(We,{children:f.map(U=>s.jsx(se,{value:U.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:U.color}}),U.name]})},U.id))})]}),s.jsxs(Xe,{open:g,onOpenChange:w,children:[s.jsx(xS,{asChild:!0,children:s.jsx(O,{variant:"outline",size:"icon",children:s.jsx(wt,{className:"w-4 h-4"})})}),s.jsxs(Qe,{className:"sm:max-w-md",children:[s.jsx(et,{children:s.jsx(tt,{children:"Create New Category"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"new-category-name",children:"Category Name *"}),s.jsx(de,{id:"new-category-name",value:b.name,onChange:U=>j(ee=>({...ee,name:U.target.value})),placeholder:"Enter category name",maxLength:19}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.name.length,"/19 characters (max)"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"new-category-description",children:"Description"}),s.jsx(_r,{id:"new-category-description",value:b.description,onChange:U=>j(ee=>({...ee,description:U.target.value})),placeholder:"Enter category description (optional)",className:"min-h-[80px] resize-none"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"new-category-color",children:"Color"}),s.jsx("div",{className:"grid grid-cols-5 gap-2",children:k.map(U=>s.jsx("button",{type:"button",onClick:()=>j(ee=>({...ee,color:U.value})),className:ne("aspect-square rounded-md transition-all duration-200 relative",U.class,b.color===U.value?"ring-2 ring-primary ring-offset-2 scale-105":"hover:scale-105"),"aria-label":U.name,children:b.color===U.value&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"w-4 h-4 rounded-full bg-white/90 flex items-center justify-center",children:s.jsx("svg",{className:"w-3 h-3 text-primary",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{d:"M5 13l4 4L19 7"})})})})},U.value))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(O,{variant:"outline",onClick:()=>w(!1),className:"flex-1",children:"Cancel"}),s.jsx(O,{onClick:V,className:"flex-1 bg-gradient-primary",children:"Create Category"})]})]})]})]})]})]})})]}),s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center gap-2 text-lg",children:[s.jsx(xr,{className:"w-5 h-5 text-primary"}),"Tags"]})}),s.jsx(X,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"tags",className:"text-sm font-medium text-foreground",children:"Screenshot Tags"}),s.jsx(de,{id:"tags",placeholder:"tutorial, design, mockup",value:n.tags,onChange:U=>F("tags",U.target.value),className:"bg-card border-border focus:ring-primary"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Separate with commas"}),n.tags&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:n.tags.split(",").map((U,ee)=>U.trim()&&s.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs rounded-full border border-primary/20",children:U.trim()},ee))})]})})]}),s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center gap-2 text-lg",children:[s.jsx(xr,{className:"w-5 h-5 text-primary"}),"Notes"]})}),s.jsx(X,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"note",className:"text-sm font-medium text-foreground",children:"Add notes about these screenshots"}),s.jsx(_r,{id:"note",placeholder:"Context, usage, design decisions, etc.",value:n.note,onChange:U=>F("note",U.target.value),className:"bg-card border-border focus:ring-primary min-h-[120px] resize-none",maxLength:500}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.note.length,"/500 characters"]})]})})]}),s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center gap-2 text-lg",children:[s.jsx(xt,{className:"w-5 h-5 text-primary"}),"Reminder"]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"reminder-toggle",className:"text-sm font-medium text-foreground",children:"Set Reminder"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified later"})]}),s.jsx(gt,{id:"reminder-toggle",checked:n.hasReminder,onCheckedChange:U=>F("hasReminder",U)})]}),n.hasReminder&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"reminder-date",className:"text-sm font-medium text-foreground",children:"Date & Time"}),s.jsx(de,{id:"reminder-date",type:"datetime-local",value:n.reminderDate,onChange:U=>F("reminderDate",U.target.value),className:"bg-card border-border focus:ring-primary"})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(O,{type:"button",variant:"outline",onClick:J,className:"flex-1 md:flex-none md:min-w-[140px] border-border hover:bg-muted",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Cancel"]}),s.jsx(O,{type:"submit",disabled:d||i.length===0,className:"flex-1 md:flex-none md:min-w-[140px] bg-gradient-primary hover:shadow-elevated transition-all duration-300",children:d?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(aa,{className:"w-4 h-4 mr-2"}),"Save Screenshots"]})})]})]}),s.jsx("div",{className:"lg:col-span-1 space-y-6",children:s.jsxs(Y,{className:"shadow-card sticky top-4",children:[s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center gap-2 text-lg",children:[s.jsx(vr,{className:"w-5 h-5 text-primary"}),"Upload Info"]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(PW,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:"Supported Formats"}),s.jsx("p",{className:"text-muted-foreground text-xs",children:"PNG, JPEG, JPG, WebP"})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(qf,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:"File Size"}),s.jsx("p",{className:"text-muted-foreground text-xs",children:"Maximum 5MB per file"})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(vr,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:"Multiple Uploads"}),s.jsx("p",{className:"text-muted-foreground text-xs",children:"Select multiple files at once"})]})]})]}),i.length>0&&s.jsx("div",{className:"pt-4 border-t border-border",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Selected Files:"}),s.jsx("span",{className:"font-medium text-foreground",children:i.length})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Size:"}),s.jsxs("span",{className:"font-medium text-foreground",children:[(i.reduce((U,ee)=>U+ee.size,0)/(1024*1024)).toFixed(2)," MB"]})]})]})}),n.hasReminder&&n.reminderDate&&s.jsx("div",{className:"pt-4 border-t border-border space-y-2",children:n.hasReminder&&n.reminderDate&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(xt,{className:"w-4 h-4 text-red-500 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:"Reminder Set"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(n.reminderDate).toLocaleString()})]})]})})]})]})})]})}),s.jsx(dc,{open:y,onOpenChange:v,currentPlan:(C==null?void 0:C.plan_name)||"Free Plan",feature:"more screenshots",limitType:"plan_upgrade"})]})};function ei(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}var Zb="rovingFocusGroup.onEntryFocus",one={bubbles:!1,cancelable:!0},Gh="RovingFocusGroup",[bj,z3,lne]=Xd(Gh),[cne,V3]=ur(Gh,[lne]),[dne,une]=cne(Gh),W3=h.forwardRef((e,t)=>s.jsx(bj.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(bj.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(fne,{...e,ref:t})})}));W3.displayName=Gh;var fne=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,m=h.useRef(null),p=De(t,m),x=ic(i),[g,w]=cn({prop:o,defaultProp:l??null,onChange:c,caller:Gh}),[y,v]=h.useState(!1),b=zt(d),j=z3(r),N=h.useRef(!1),[S,C]=h.useState(0);return h.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(Zb,b),()=>k.removeEventListener(Zb,b)},[b]),s.jsx(dne,{scope:r,orientation:n,dir:x,loop:a,currentTabStopId:g,onItemFocus:h.useCallback(k=>w(k),[w]),onItemShiftTab:h.useCallback(()=>v(!0),[]),onFocusableItemAdd:h.useCallback(()=>C(k=>k+1),[]),onFocusableItemRemove:h.useCallback(()=>C(k=>k-1),[]),children:s.jsx(we.div,{tabIndex:y||S===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:ei(e.onMouseDown,()=>{N.current=!0}),onFocus:ei(e.onFocus,k=>{const A=!N.current;if(k.target===k.currentTarget&&A&&!y){const P=new CustomEvent(Zb,one);if(k.currentTarget.dispatchEvent(P),!P.defaultPrevented){const _=j().filter(B=>B.focusable),E=_.find(B=>B.active),M=_.find(B=>B.id===g),T=[E,M,..._].filter(Boolean).map(B=>B.ref.current);G3(T,u)}}N.current=!1}),onBlur:ei(e.onBlur,()=>v(!1))})})}),q3="RovingFocusGroupItem",H3=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=sr(),d=i||c,u=une(q3,r),f=u.currentTabStopId===d,m=z3(r),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:g}=u;return h.useEffect(()=>{if(n)return p(),()=>x()},[n,p,x]),s.jsx(bj.ItemSlot,{scope:r,id:d,focusable:n,active:a,children:s.jsx(we.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:ei(e.onMouseDown,w=>{n?u.onItemFocus(d):w.preventDefault()}),onFocus:ei(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:ei(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=pne(w,u.orientation,u.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let b=m().filter(j=>j.focusable).map(j=>j.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const j=b.indexOf(w.currentTarget);b=u.loop?gne(b,j+1):b.slice(j+1)}setTimeout(()=>G3(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});H3.displayName=q3;var hne={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mne(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function pne(e,t,r){const n=mne(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return hne[n]}function G3(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function gne(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var xne=W3,vne=H3;function yne(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var K3=e=>{const{present:t,children:r}=e,n=bne(t),a=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),i=De(n.ref,wne(a));return typeof r=="function"||n.isPresent?h.cloneElement(a,{ref:i}):null};K3.displayName="Presence";function bne(e){const[t,r]=h.useState(),n=h.useRef(null),a=h.useRef(e),i=h.useRef("none"),o=e?"mounted":"unmounted",[l,c]=yne(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=Qm(n.current);i.current=l==="mounted"?d:"none"},[l]),Ft(()=>{const d=n.current,u=a.current;if(u!==e){const m=i.current,p=Qm(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Ft(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=p=>{const g=Qm(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&g&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=p=>{p.target===t&&(i.current=Qm(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Qm(e){return(e==null?void 0:e.animationName)||"none"}function wne(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $v="Tabs",[jne,VNe]=ur($v,[V3]),Y3=V3(),[Nne,ES]=jne($v),Q3=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=ic(l),[f,m]=cn({prop:n,onChange:a,defaultProp:i??"",caller:$v});return s.jsx(Nne,{scope:r,baseId:sr(),value:f,onValueChange:m,orientation:o,dir:u,activationMode:c,children:s.jsx(we.div,{dir:u,"data-orientation":o,...d,ref:t})})});Q3.displayName=$v;var J3="TabsList",Z3=h.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=ES(J3,r),o=Y3(r);return s.jsx(xne,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(we.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});Z3.displayName=J3;var X3="TabsTrigger",e$=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=ES(X3,r),l=Y3(r),c=n$(o.baseId,n),d=s$(o.baseId,n),u=n===o.value;return s.jsx(vne,{asChild:!0,...l,focusable:!a,active:u,children:s.jsx(we.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:ei(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:ei(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:ei(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!a&&f&&o.onValueChange(n)})})})});e$.displayName=X3;var t$="TabsContent",r$=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=ES(t$,r),c=n$(l.baseId,n),d=s$(l.baseId,n),u=n===l.value,f=h.useRef(u);return h.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(K3,{present:a||u,children:({present:m})=>s.jsx(we.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});r$.displayName=t$;function n$(e,t){return`${e}-trigger-${t}`}function s$(e,t){return`${e}-content-${t}`}var Sne=Q3,a$=Z3,i$=e$,o$=r$;const PS=Sne,Fv=h.forwardRef(({className:e,...t},r)=>s.jsx(a$,{ref:r,className:ne("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Fv.displayName=a$.displayName;const os=h.forwardRef(({className:e,...t},r)=>s.jsx(i$,{ref:r,className:ne("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));os.displayName=i$.displayName;const ls=h.forwardRef(({className:e,...t},r)=>s.jsx(o$,{ref:r,className:ne("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ls.displayName=o$.displayName;const Cne=()=>{const{layoutType:e}=Ur(),[t,r]=h.useState(""),[n,a]=h.useState("all"),[i,o]=h.useState("relevance"),[l,c]=h.useState("all"),[d,u]=h.useState(!1);h.useEffect(()=>{e==="web"&&(window.location.href="/search-web")},[e]);const f=["AI tools","fitness routines","cooking recipes","javascript tutorial"],m=["chatgpt","workout","productivity","design trends"],p={videos:[{id:1,title:"Complete Guide to ChatGPT for Beginners",platform:"YouTube",thumbnail:"https://images.unsplash.com/photo-1677442136019-21780ecad995?w=400&h=300&fit=crop",duration:"15:42",hasReminder:!0,hasNotes:!1,addedDate:"2 days ago",category:{id:"1",name:"AI Tools",color:"#3B82F6"}},{id:2,title:"AI Tools That Will Change Your Life",platform:"TikTok",thumbnail:"https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=400&h=300&fit=crop",duration:"0:45",hasReminder:!1,hasNotes:!0,addedDate:"3 days ago",category:{id:"1",name:"AI Tools",color:"#3B82F6"}}],categories:[{id:1,name:"AI Tools",count:12,color:"blue",lastUpdated:"2 days ago"},{id:2,name:"Fitness Routines",count:8,color:"green",lastUpdated:"1 day ago"}],notes:[{id:1,title:"ChatGPT Best Practices",content:"Key points about using ChatGPT effectively for content creation...",videoTitle:"Complete Guide to ChatGPT",createdDate:"2 days ago"},{id:2,title:"Morning Workout Notes",content:"Remember to focus on form over speed, especially for squats...",videoTitle:"Full Body Morning Routine",createdDate:"1 week ago"}]},x=["All","YouTube","TikTok","Instagram","Twitter","Vimeo"];h.useEffect(()=>{if(t.trim()){u(!0);const j=setTimeout(()=>{u(!1)},500);return()=>clearTimeout(j)}else u(!1)},[t]);const g=j=>{r(j)},w=()=>{r("")},y=()=>{if(!t.trim())return 0;const j=p.videos.length,N=p.categories.length,S=p.notes.length;switch(n){case"videos":return j;case"categories":return N;case"notes":return S;default:return j+N+S}},v=t.trim().length>0,b=y()>0;return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{title:"Search",showBack:!1}),s.jsxs("main",{className:"pb-20 px-4 pt-6",children:[s.jsxs("div",{className:"relative mb-6",children:[s.jsx(vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-5 h-5"}),s.jsx(de,{placeholder:"Search videos, categories, and notes...",value:t,onChange:j=>g(j.target.value),className:"pl-12 pr-12 h-12 bg-card border-border focus:ring-primary text-base"}),t&&s.jsx(O,{variant:"ghost",size:"icon",onClick:w,className:"absolute right-2 top-1/2 transform -translate-y-1/2 hover:bg-muted",children:s.jsx(er,{className:"w-4 h-4"})})]}),v&&s.jsxs("div",{className:"flex gap-3 mb-6 overflow-x-auto",children:[s.jsxs(qe,{value:l,onValueChange:c,children:[s.jsxs(Ve,{className:"w-32 bg-card border-border",children:[s.jsx(Vi,{className:"w-4 h-4 mr-2"}),s.jsx(He,{})]}),s.jsx(We,{children:x.map(j=>s.jsx(se,{value:j.toLowerCase(),children:j},j.toLowerCase()))})]}),s.jsxs(qe,{value:i,onValueChange:o,children:[s.jsx(Ve,{className:"w-32 bg-card border-border",children:s.jsx(He,{})}),s.jsxs(We,{children:[s.jsx(se,{value:"relevance",children:"Relevance"}),s.jsx(se,{value:"date",children:"Date Added"}),s.jsx(se,{value:"name",children:"Name"})]})]})]}),v?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:d?"Searching...":`${y()} results for "${t}"`})}),b?s.jsxs(PS,{value:n,onValueChange:a,className:"w-full",children:[s.jsxs(Fv,{className:"grid w-full grid-cols-4 mb-6",children:[s.jsx(os,{value:"all",children:"All"}),s.jsx(os,{value:"videos",children:"Videos"}),s.jsx(os,{value:"categories",children:"Categories"}),s.jsx(os,{value:"notes",children:"Notes"})]}),s.jsxs(ls,{value:"all",className:"space-y-6",children:[p.categories.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-foreground mb-3 flex items-center gap-2",children:[s.jsx(Lr,{className:"w-4 h-4"}),"Categories (",p.categories.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:p.categories.map(j=>s.jsx(Re,{to:`/category/${j.id}`,children:s.jsx(Ad,{category:j})},j.id))})]}),p.videos.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-foreground mb-3 flex items-center gap-2",children:[s.jsx(yr,{className:"w-4 h-4"}),"Videos (",p.videos.length,")"]}),s.jsx("div",{className:"space-y-4 mb-6",children:p.videos.map(j=>s.jsx(Oa,{video:j},j.id))})]}),p.notes.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-foreground mb-3 flex items-center gap-2",children:[s.jsx(xr,{className:"w-4 h-4"}),"Notes (",p.notes.length,")"]}),s.jsx("div",{className:"space-y-3",children:p.notes.map(j=>s.jsx(Y,{className:"shadow-card hover:shadow-elevated transition-all duration-200 cursor-pointer",children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-foreground mb-1",children:j.title}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:j.content}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(je,{variant:"outline",className:"text-xs",children:j.videoTitle}),s.jsx("span",{children:""}),s.jsx("span",{children:j.createdDate})]})]}),s.jsx(xr,{className:"w-5 h-5 text-primary flex-shrink-0"})]})})},j.id))})]})]}),s.jsx(ls,{value:"videos",children:s.jsx("div",{className:"space-y-4",children:p.videos.map(j=>s.jsx(Oa,{video:j},j.id))})}),s.jsx(ls,{value:"categories",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:p.categories.map(j=>s.jsx(Re,{to:`/category/${j.id}`,children:s.jsx(Ad,{category:j})},j.id))})}),s.jsx(ls,{value:"notes",children:s.jsx("div",{className:"space-y-3",children:p.notes.map(j=>s.jsx(Y,{className:"shadow-card hover:shadow-elevated transition-all duration-200 cursor-pointer",children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-foreground mb-1",children:j.title}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:j.content}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(je,{variant:"outline",className:"text-xs",children:j.videoTitle}),s.jsx("span",{children:""}),s.jsx("span",{children:j.createdDate})]})]}),s.jsx(xr,{className:"w-5 h-5 text-primary flex-shrink-0"})]})})},j.id))})})]}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx(vt,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No results found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search terms or filters"}),s.jsx(O,{variant:"outline",onClick:w,className:"border-border hover:bg-muted",children:"Clear Search"})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-foreground mb-3 flex items-center gap-2",children:[s.jsx(sc,{className:"w-4 h-4"}),"Recent Searches"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((j,N)=>s.jsx(O,{variant:"outline",size:"sm",onClick:()=>g(j),className:"border-border hover:bg-muted",children:j},N))})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-foreground mb-3 flex items-center gap-2",children:[s.jsx(k1,{className:"w-4 h-4"}),"Trending"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:m.map((j,N)=>s.jsxs(O,{variant:"outline",size:"sm",onClick:()=>g(j),className:"border-border hover:bg-muted",children:[s.jsx(_1,{className:"w-3 h-3 mr-1"}),j]},N))})]}),s.jsx(Y,{className:"shadow-card",children:s.jsxs(X,{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Search Tips"}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsx("li",{children:" Search by video title, category name, or note content"}),s.jsx("li",{children:" Use filters to narrow down results by platform or date"}),s.jsx("li",{children:" Try searching for specific topics or keywords"}),s.jsx("li",{children:" Use quotes for exact phrase matching"})]})]})})]})]})]})},_ne=()=>{const{layoutType:e}=Ur(),[t,r]=h.useState(""),[n,a]=h.useState("all"),[i,o]=h.useState("relevance");h.useState("all");const[l,c]=h.useState(!1);h.useEffect(()=>{e==="mobile"&&(window.location.href="/search")},[e]);const d=["AI tools","fitness routines","cooking recipes","javascript tutorial"],u=["chatgpt","workout","productivity","design trends"],f={videos:[{id:1,title:"Complete Guide to ChatGPT for Beginners",platform:"YouTube",thumbnail:"https://images.unsplash.com/photo-1677442136019-21780ecad995?w=400&h=300&fit=crop",duration:"15:42",hasReminder:!0,hasNotes:!1,addedDate:"2 days ago",category:{id:"1",name:"AI Tools",color:"#3B82F6"}},{id:2,title:"AI Tools That Will Change Your Life",platform:"TikTok",thumbnail:"https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=400&h=300&fit=crop",duration:"0:45",hasReminder:!1,hasNotes:!0,addedDate:"3 days ago",category:{id:"1",name:"AI Tools",color:"#3B82F6"}}],categories:[{id:1,name:"AI Tools",count:12,color:"blue",lastUpdated:"2 days ago"},{id:2,name:"Fitness Routines",count:8,color:"green",lastUpdated:"1 day ago"}],notes:[{id:1,title:"ChatGPT Best Practices",content:"Key points about using ChatGPT effectively for content creation...",videoTitle:"Complete Guide to ChatGPT",createdDate:"2 days ago"}]};h.useEffect(()=>{if(t.trim()){c(!0);const x=setTimeout(()=>c(!1),500);return()=>clearTimeout(x)}else c(!1)},[t]);const m=()=>{r("")},p=t.trim().length>0;return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{children:s.jsx(na,{})}),s.jsxs("main",{className:"container mx-auto px-6 py-8 max-w-7xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Search"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Find videos, categories, and notes"})]}),s.jsx(Y,{className:"mb-6 shadow-card",children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative md:col-span-2",children:[s.jsx(vt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),s.jsx(de,{type:"text",placeholder:"Search across videos, categories, and notes...",value:t,onChange:x=>r(x.target.value),className:"pl-10 pr-10 h-12 text-base",autoFocus:!0}),t&&s.jsx("button",{onClick:m,className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:s.jsx(er,{className:"w-5 h-5"})})]}),s.jsxs(qe,{value:i,onValueChange:o,children:[s.jsx(Ve,{className:"h-12",children:s.jsx(He,{placeholder:"Sort by"})}),s.jsxs(We,{children:[s.jsx(se,{value:"relevance",children:"Most Relevant"}),s.jsx(se,{value:"recent",children:"Most Recent"}),s.jsx(se,{value:"oldest",children:"Oldest First"}),s.jsx(se,{value:"title",children:"Title (A-Z)"})]})]})]})})}),p?s.jsxs(PS,{value:n,onValueChange:a,className:"w-full",children:[s.jsxs(Fv,{className:"grid w-full grid-cols-4 mb-6",children:[s.jsx(os,{value:"all",children:"All Results"}),s.jsxs(os,{value:"videos",children:["Videos (",f.videos.length,")"]}),s.jsxs(os,{value:"categories",children:["Categories (",f.categories.length,")"]}),s.jsxs(os,{value:"notes",children:["Notes (",f.notes.length,")"]})]}),s.jsxs(ls,{value:"all",className:"space-y-8",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center gap-2",children:[s.jsx(yr,{className:"w-6 h-6 text-primary"}),"Videos"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.videos.map(x=>s.jsx(Oa,{video:x},x.id))})]}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Lr,{className:"w-6 h-6 text-primary"}),"Categories"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:f.categories.map(x=>s.jsx(Ad,{category:x},x.id))})]}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center gap-2",children:[s.jsx(xr,{className:"w-6 h-6 text-primary"}),"Notes"]}),s.jsx("div",{className:"space-y-3",children:f.notes.map(x=>s.jsx(Y,{className:"shadow-card hover:shadow-elevated transition-all cursor-pointer",children:s.jsxs(X,{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:x.title}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:x.content}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:["From: ",x.videoTitle]}),s.jsx("span",{children:x.createdDate})]})]})},x.id))})]})]}),s.jsx(ls,{value:"videos",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.videos.map(x=>s.jsx(Oa,{video:x},x.id))})}),s.jsx(ls,{value:"categories",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:f.categories.map(x=>s.jsx(Ad,{category:x},x.id))})}),s.jsx(ls,{value:"notes",children:s.jsx("div",{className:"space-y-3",children:f.notes.map(x=>s.jsx(Y,{className:"shadow-card hover:shadow-elevated transition-all cursor-pointer",children:s.jsxs(X,{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:x.title}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:x.content}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:["From: ",x.videoTitle]}),s.jsx("span",{children:x.createdDate})]})]})},x.id))})})]}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center gap-2",children:[s.jsx(sc,{className:"w-5 h-5 text-primary"}),"Recent Searches"]})}),s.jsx(X,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:d.map((x,g)=>s.jsx(je,{variant:"outline",className:"cursor-pointer hover:bg-muted transition-colors py-2 px-3",onClick:()=>r(x),children:x},g))})})]}),s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center gap-2",children:[s.jsx(k1,{className:"w-5 h-5 text-primary"}),"Trending Searches"]})}),s.jsx(X,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((x,g)=>s.jsxs(je,{variant:"outline",className:"cursor-pointer hover:bg-muted transition-colors py-2 px-3",onClick:()=>r(x),children:[s.jsx(_1,{className:"w-3 h-3 mr-1"}),x]},g))})})]})]})]})]})},kne=()=>{const{layoutType:e}=Ur(),t=Ie(),[r,n]=h.useState([]),[a,i]=h.useState([]),[o,l]=h.useState([]),[c,d]=h.useState(!0),[u,f]=h.useState(""),[m,p]=h.useState("newest");h.useEffect(()=>{if(e==="web"){t("/videos-web",{replace:!0});return}x(),g()},[e,t]),h.useEffect(()=>{w()},[r,u,m]);const x=async()=>{try{d(!0);const{data:b,error:j}=await $.from("videos").select("*").order("created_at",{ascending:!1});if(j){console.error("Error fetching videos:",j);return}n(b||[])}catch(b){console.error("Unexpected error:",b)}finally{d(!1)}},g=async()=>{try{const{data:b,error:j}=await $.from("categories").select("id, name, color").order("name");if(j){console.error("Error fetching categories:",j);return}i(b||[])}catch(b){console.error("Unexpected error:",b)}},w=()=>{let b=[...r];if(u.trim()){const j=u.toLowerCase();b=b.filter(N=>{var S,C;return N.title.toLowerCase().includes(j)||((S=N.description)==null?void 0:S.toLowerCase().includes(j))||((C=N.tags)==null?void 0:C.some(k=>k.toLowerCase().includes(j)))})}b.sort((j,N)=>{var S,C;switch(m){case"newest":return new Date(N.created_at).getTime()-new Date(j.created_at).getTime();case"oldest":return new Date(j.created_at).getTime()-new Date(N.created_at).getTime();case"title":return j.title.localeCompare(N.title);case"duration":return(N.duration||0)-(j.duration||0);case"category":const k=((S=a.find(E=>E.id===j.category_id))==null?void 0:S.name)||"",A=((C=a.find(E=>E.id===N.category_id))==null?void 0:C.name)||"";return k.localeCompare(A);case"platform":const P=y(j),_=y(N);return P.localeCompare(_);default:return 0}}),l(b)},y=b=>{var N;if(b.url==="https://placeholder.com"||(N=b.title)!=null&&N.startsWith("Screenshots -"))return"screenshot";let j="video";if(b.tags&&b.tags.length>0){const S=b.tags.find(C=>["youtube","tiktok","instagram","vimeo","twitter"].includes(C.toLowerCase()));S&&(j=S)}if(j==="video"&&b.url){const S=b.url.toLowerCase();S.includes("youtube.com")||S.includes("youtu.be")?j="youtube":S.includes("tiktok.com")?j="tiktok":S.includes("instagram.com")?j="instagram":S.includes("vimeo.com")?j="vimeo":(S.includes("twitter.com")||S.includes("x.com"))&&(j="twitter")}return j},v=b=>{const j=y(b),N=a.find(S=>S.id===b.category_id);return{id:b.id,title:b.title,platform:j,thumbnail:b.thumbnail_url||"",duration:b.duration?b.duration.toString():void 0,hasReminder:!!b.reminder_date,reminderDate:b.reminder_date||void 0,hasNotes:!!b.description,addedDate:b.created_at,url:b.url,description:b.description||"",tags:b.tags||[],categoryId:b.category_id||void 0,category:N?{id:N.id,name:N.name,color:N.color}:void 0}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{title:"All Videos",showBack:!0}),s.jsxs("main",{className:"pb-20 px-4 pt-6",children:[s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-5 h-5"}),s.jsx(de,{placeholder:"Search videos...",value:u,onChange:b=>f(b.target.value),className:"pl-12 h-12 bg-card border-border focus:ring-primary"})]}),s.jsx("div",{className:"flex gap-3",children:s.jsxs(qe,{value:m,onValueChange:p,children:[s.jsxs(Ve,{className:"w-40 bg-card border-border",children:[s.jsx(N1,{className:"w-4 h-4 mr-2"}),s.jsx(He,{})]}),s.jsxs(We,{children:[s.jsx(se,{value:"newest",children:"Newest First"}),s.jsx(se,{value:"oldest",children:"Oldest First"}),s.jsx(se,{value:"title",children:"Title A-Z"}),s.jsx(se,{value:"category",children:"Category"}),s.jsx(se,{value:"platform",children:"Platform"}),s.jsx(se,{value:"duration",children:"Longest First"})]})]})})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Vt,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{className:"text-lg font-semibold text-foreground",children:u.trim()?`Search Results (${o.length})`:`All Videos (${o.length})`})]}),c?s.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(b=>s.jsx(Y,{className:"p-4 animate-pulse",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-20 h-16 bg-muted rounded-lg"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]})},b))}):o.length>0?s.jsx("div",{className:"space-y-4",children:o.map(b=>s.jsx(Oa,{video:v(b),onVideoUpdated:x},b.id))}):u.trim()?s.jsxs("div",{className:"text-center py-16",children:[s.jsx(vt,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No videos found"}),s.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search terms"})]}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx(Vt,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No videos yet"}),s.jsx("p",{className:"text-muted-foreground",children:"Start by adding your first video to a category"})]})]})]})},Ene=()=>{const e=Ie(),{layoutType:t}=Ur(),[r,n]=h.useState([]),[a,i]=h.useState([]),[o,l]=h.useState([]),[c,d]=h.useState(!0),[u,f]=h.useState(""),[m,p]=h.useState("newest");h.useEffect(()=>{if(t==="mobile"){e("/videos",{replace:!0});return}x(),g()},[t,e]),h.useEffect(()=>{w()},[r,u,m]);const x=async()=>{try{d(!0);const{data:b,error:j}=await $.from("videos").select("*").order("created_at",{ascending:!1});if(j){console.error("Error fetching videos:",j);return}n(b||[])}catch(b){console.error("Unexpected error:",b)}finally{d(!1)}},g=async()=>{try{const{data:b,error:j}=await $.from("categories").select("id, name, color").order("name");if(j){console.error("Error fetching categories:",j);return}i(b||[])}catch(b){console.error("Unexpected error:",b)}},w=()=>{let b=[...r];if(u.trim()){const j=u.toLowerCase();b=b.filter(N=>{var S,C;return N.title.toLowerCase().includes(j)||((S=N.description)==null?void 0:S.toLowerCase().includes(j))||((C=N.tags)==null?void 0:C.some(k=>k.toLowerCase().includes(j)))})}b.sort((j,N)=>{var S,C;switch(m){case"newest":return new Date(N.created_at).getTime()-new Date(j.created_at).getTime();case"oldest":return new Date(j.created_at).getTime()-new Date(N.created_at).getTime();case"title":return j.title.localeCompare(N.title);case"duration":return(N.duration||0)-(j.duration||0);case"category":const k=((S=a.find(E=>E.id===j.category_id))==null?void 0:S.name)||"",A=((C=a.find(E=>E.id===N.category_id))==null?void 0:C.name)||"";return k.localeCompare(A);case"platform":const P=y(j),_=y(N);return P.localeCompare(_);default:return 0}}),l(b)},y=b=>{var N;if(b.url==="https://placeholder.com"||(N=b.title)!=null&&N.startsWith("Screenshots -"))return"screenshot";let j="video";if(b.tags&&b.tags.length>0){const S=b.tags.find(C=>["youtube","tiktok","instagram","vimeo","twitter"].includes(C.toLowerCase()));S&&(j=S)}if(j==="video"&&b.url){const S=b.url.toLowerCase();S.includes("youtube.com")||S.includes("youtu.be")?j="youtube":S.includes("tiktok.com")?j="tiktok":S.includes("instagram.com")?j="instagram":S.includes("vimeo.com")?j="vimeo":(S.includes("twitter.com")||S.includes("x.com"))&&(j="twitter")}return j},v=b=>{const j=y(b),N=a.find(S=>S.id===b.category_id);return{id:b.id,title:b.title,platform:j,thumbnail:b.thumbnail_url||"",duration:b.duration?b.duration.toString():void 0,hasReminder:!!b.reminder_date,reminderDate:b.reminder_date||void 0,hasNotes:!!b.description,addedDate:b.created_at,url:b.url,description:b.description||"",tags:b.tags||[],categoryId:b.category_id||void 0,category:N?{id:N.id,name:N.name,color:N.color}:void 0}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{title:"All Videos",showBack:!0,children:s.jsx(na,{})}),s.jsxs("main",{className:"container mx-auto px-6 py-8 max-w-7xl",children:[s.jsxs("div",{className:"flex gap-4 mb-8",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-5 h-5"}),s.jsx(de,{placeholder:"Search videos...",value:u,onChange:b=>f(b.target.value),className:"pl-12 h-12 bg-card border-border focus:ring-primary"})]}),s.jsxs(qe,{value:m,onValueChange:p,children:[s.jsxs(Ve,{className:"w-48 bg-card border-border",children:[s.jsx(N1,{className:"w-4 h-4 mr-2"}),s.jsx(He,{})]}),s.jsxs(We,{children:[s.jsx(se,{value:"newest",children:"Newest First"}),s.jsx(se,{value:"oldest",children:"Oldest First"}),s.jsx(se,{value:"title",children:"Title A-Z"}),s.jsx(se,{value:"category",children:"Category"}),s.jsx(se,{value:"platform",children:"Platform"}),s.jsx(se,{value:"duration",children:"Longest First"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(Vt,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{className:"text-lg font-semibold text-foreground",children:u.trim()?`Search Results (${o.length})`:`All Videos (${o.length})`})]}),c?s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[1,2,3,4,5,6].map(b=>s.jsx(Y,{className:"p-4 animate-pulse",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-20 h-16 bg-muted rounded-lg"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]})},b))}):o.length>0?s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:o.map(b=>s.jsx(Oa,{video:v(b),onVideoUpdated:x},b.id))}):u.trim()?s.jsxs("div",{className:"text-center py-16",children:[s.jsx(vt,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No videos found"}),s.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search terms"})]}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx(Vt,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No videos yet"}),s.jsx("p",{className:"text-muted-foreground",children:"Start by adding your first video to a category"})]})]})]})},WE=()=>{var ie;const{id:e}=Oh(),t=Ie(),{toast:r}=Ge(),{limits:n,isGoldPlan:a}=Uo(),[i,o]=h.useState(null),[l,c]=h.useState(null),[d,u]=h.useState(null),[f,m]=h.useState(!0),[p,x]=h.useState(null),[g,w]=h.useState(!1),[y,v]=h.useState(!1),[b,j]=h.useState(!1),[N,S]=h.useState(!1),[C,k]=h.useState(!1),[A,P]=h.useState(!1),[_,E]=h.useState(""),[M,R]=h.useState(""),[T,B]=h.useState("");h.useEffect(()=>{e&&K()},[e]);const K=async()=>{var Z,pe;try{m(!0);const{data:xe,error:be}=await $.from("videos").select("*").eq("id",e).single();if(console.log("Video data fetched:",xe),console.log("User plan info:",{limits:n,isGoldPlan:a}),console.log("Video transcript available:",!!(xe!=null&&xe.transcript),"Length:",(Z=xe==null?void 0:xe.transcript)==null?void 0:Z.length),be){console.error("Error fetching video:",be),x("Video not found");return}if(o(xe),(pe=xe.url)==null?void 0:pe.includes("placeholder.com")){const{data:ve,error:Le}=await $.from("screenshots").select("id, original_url, image_1600_url, thumb_320_url").eq("video_id",xe.id).single();!Le&&ve&&u(ve)}if(xe.category_id){const{data:ve,error:Le}=await $.from("categories").select("*").eq("id",xe.category_id).single();Le||c(ve)}}catch(xe){console.error("Unexpected error:",xe),x("Failed to load video details")}finally{m(!1)}},z=Z=>{if(!Z)return"Unknown";const pe=Math.floor(Z/60),xe=Z%60;return`${pe}:${xe.toString().padStart(2,"0")}`},V=Z=>new Date(Z).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),F=Z=>Z?new Date(Z).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):null,W=Z=>{switch(Z){case"blue-ocean":return"bg-gradient-blue-ocean";case"lime-forest":return"bg-gradient-lime-forest";case"green-emerald":return"bg-gradient-green-emerald";case"teal-navy":return"bg-gradient-teal-navy";case"purple-cosmic":return"bg-gradient-purple-cosmic";case"cyan-azure":return"bg-gradient-cyan-azure";case"lime-vibrant":return"bg-gradient-lime-vibrant";case"red-fire":return"bg-gradient-red-fire";case"orange-sunset":return"bg-gradient-orange-sunset";default:return"bg-gradient-blue-ocean"}},D=()=>{if(I&&d){const Z=d.image_1600_url||d.original_url;window.open(Z,"_blank","noopener,noreferrer")}else i!=null&&i.url&&window.open(i.url,"_blank","noopener,noreferrer")},L=()=>{E((i==null?void 0:i.description)||""),w(!0)},J=()=>{B((i==null?void 0:i.title)||""),k(!0)},U=async()=>{if(!(!i||!T.trim()))try{const{error:Z}=await $.from("videos").update({title:T.trim(),updated_at:new Date().toISOString()}).eq("id",i.id);if(Z){console.error("Error updating title:",Z),r({title:"Error",description:"Failed to update title. Please try again.",variant:"destructive"});return}o({...i,title:T.trim()}),k(!1),r({title:"Success",description:"Title updated successfully."})}catch(Z){console.error("Unexpected error:",Z),r({title:"Error",description:"An unexpected error occurred.",variant:"destructive"})}},ee=async()=>{if(i)try{const{error:Z}=await $.from("videos").update({description:_||null,updated_at:new Date().toISOString()}).eq("id",i.id);if(Z){console.error("Error updating note:",Z),r({title:"Error",description:"Failed to update note. Please try again.",variant:"destructive"});return}o({...i,description:_||void 0}),w(!1),r({title:"Success",description:"Note updated successfully."})}catch(Z){console.error("Unexpected error:",Z),r({title:"Error",description:"An unexpected error occurred.",variant:"destructive"})}},G=()=>{if(i!=null&&i.reminder_date){const pe=new Date(i.reminder_date).toISOString().slice(0,16);R(pe)}else{const Z=new Date;Z.setDate(Z.getDate()+1);const pe=Z.toISOString().slice(0,16);R(pe)}v(!0)},ce=async()=>{if(!(!i||!M))try{const{error:Z}=await $.from("videos").update({reminder_date:new Date(M).toISOString(),updated_at:new Date().toISOString()}).eq("id",i.id);if(Z){console.error("Error updating reminder:",Z),r({title:"Error",description:"Failed to update reminder. Please try again.",variant:"destructive"});return}o({...i,reminder_date:new Date(M).toISOString()}),v(!1),r({title:"Success",description:"Reminder updated successfully."})}catch(Z){console.error("Unexpected error:",Z),r({title:"Error",description:"An unexpected error occurred.",variant:"destructive"})}},H=async()=>{if(i)try{const{error:Z}=await $.from("videos").update({reminder_date:null,updated_at:new Date().toISOString()}).eq("id",i.id);if(Z){console.error("Error deleting reminder:",Z),r({title:"Error",description:"Failed to delete reminder. Please try again.",variant:"destructive"});return}o({...i,reminder_date:void 0}),j(!1),r({title:"Success",description:"Reminder deleted successfully."})}catch(Z){console.error("Unexpected error:",Z),r({title:"Error",description:"An unexpected error occurred.",variant:"destructive"})}},q=async()=>{if(!i)return;const Z=i.url,pe={title:i.title,text:`Check out this video: ${i.title}`,url:Z};try{if(navigator.share)await navigator.share(pe);else{const xe=`${i.title}
${Z}`;await navigator.clipboard.writeText(xe),r({title:"Copied to clipboard",description:"Video link has been copied to your clipboard"})}}catch{r({title:"Share",description:`${i.title}
${Z}`})}},te=async()=>{if(i)try{const{error:Z}=await $.from("videos").delete().eq("id",i.id);if(Z){console.error("Error deleting video:",Z),r({title:"Error",description:"Failed to delete video. Please try again.",variant:"destructive"});return}r({title:"Success",description:"Video deleted successfully."}),i!=null&&i.category_id?t(`/category/${i.category_id}`,{replace:!0}):t("/videos",{replace:!0})}catch(Z){console.error("Unexpected error:",Z),r({title:"Error",description:"An unexpected error occurred.",variant:"destructive"})}},I=((ie=i==null?void 0:i.url)==null?void 0:ie.includes("placeholder.com"))||!1;return f?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{title:I?"Screenshot details":"Video Details",showBack:!0}),s.jsx("main",{className:"px-4 pt-6",children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(Rt,{className:"w-8 h-8 animate-spin text-primary"})})})]}):p||!i?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{title:I?"Screenshot details":"Video Details",showBack:!0}),s.jsx("main",{className:"px-4 pt-6",children:s.jsxs("div",{className:"text-center py-20",children:[s.jsx(yr,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:p||"Video not found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"The video you're looking for doesn't exist or has been removed."}),s.jsx(O,{onClick:()=>t(-1),variant:"outline",children:"Go Back"})]})})]}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{title:I?"Screenshot details":"Video Details",showBack:!0}),s.jsxs("main",{className:"px-4 pt-6 pb-8",children:[s.jsx(Y,{className:"mb-6 shadow-card",children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-3",children:[s.jsx("div",{className:"md:col-span-1",children:s.jsx(Sv,{ratio:16/9,className:"bg-muted rounded-lg overflow-hidden",children:i.thumbnail_url?s.jsx("img",{src:i.thumbnail_url,alt:i.title,className:"w-full h-full object-cover",onError:Z=>{Z.currentTarget.src="/placeholder.svg"}}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-muted",children:s.jsx(yr,{className:"w-12 h-12 text-muted-foreground"})})})}),s.jsxs("div",{className:"md:col-span-2 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground flex-1",children:i.title}),s.jsx(O,{variant:"ghost",size:"sm",onClick:J,className:"hover:bg-muted flex-shrink-0",children:s.jsx(Cn,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(sc,{className:"w-4 h-4"}),s.jsx("span",{children:z(i.duration)})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(No,{className:"w-4 h-4"}),s.jsxs("span",{children:["Added ",V(i.created_at)]})]}),i.tags&&i.tags.length>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Bl,{className:"w-4 h-4"}),s.jsx("span",{className:"capitalize",children:i.tags[0]})]})]}),!I&&s.jsxs("div",{className:"flex items-start gap-2 mt-3 p-3 bg-muted rounded-lg",children:[s.jsx(So,{className:"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-foreground mb-1",children:"Video URL"}),s.jsx("div",{className:"text-sm text-muted-foreground break-all",children:s.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors underline",children:i.url})})]})]}),l&&s.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[s.jsx(Lr,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:ne("w-3 h-3 rounded-full",W(l.color))}),s.jsx("span",{className:"text-sm text-foreground font-medium",children:l.name})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(O,{onClick:D,size:"lg",className:"w-full h-14 px-8 bg-gradient-primary hover:shadow-elevated transition-all duration-300 font-semibold text-base",children:[s.jsx(So,{className:"w-5 h-5 mr-2"}),I?"Open Screenshot":"Watch Video"]}),s.jsxs(O,{variant:"outline",size:"lg",onClick:q,className:"w-full h-14 px-8 border-2 border-primary/20 hover:border-primary/40 hover:bg-primary/5 font-medium text-base",children:[s.jsx(Yx,{className:"w-5 h-5 mr-2"}),"Share"]}),s.jsxs(O,{variant:"destructive",size:"lg",onClick:()=>S(!0),className:"w-full h-14 px-8 hover:bg-destructive/90 font-medium text-base",children:[s.jsx(yt,{className:"w-5 h-5 mr-2"}),"Delete"]})]})]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center justify-between text-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xr,{className:"w-5 h-5 text-primary"}),"Notes"]}),s.jsx(O,{variant:"ghost",size:"sm",onClick:L,className:"hover:bg-muted",children:s.jsx(Cn,{className:"w-4 h-4"})})]})}),s.jsx(X,{children:i.description?s.jsx("p",{className:"text-foreground whitespace-pre-wrap leading-relaxed",children:i.description}):s.jsx("p",{className:"text-muted-foreground italic",children:"No notes added yet. Click the edit button to add notes."})})]}),s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center justify-between text-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xt,{className:"w-5 h-5 text-orange-500"}),"Reminder"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(O,{variant:"ghost",size:"sm",onClick:G,className:"hover:bg-muted",children:s.jsx(Cn,{className:"w-4 h-4"})}),i.reminder_date&&s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>j(!0),className:"hover:bg-destructive/10 hover:text-destructive",children:s.jsx(yt,{className:"w-4 h-4"})})]})]})}),s.jsx(X,{children:i.reminder_date?s.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-orange-500/20 rounded-full",children:s.jsx(xt,{className:"w-5 h-5 text-orange-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:"Reminder set for this video"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:F(i.reminder_date)})]})]}):s.jsx("p",{className:"text-muted-foreground italic",children:"No reminder set. Click the edit button to add a reminder."})})]})]}),i.tags&&i.tags.length>1&&s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Bl,{className:"w-5 h-5 text-primary"}),"Tags"]})}),s.jsx(X,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:i.tags.map((Z,pe)=>s.jsx(je,{variant:"outline",className:"capitalize",children:Z},pe))})})]}),s.jsx(Xe,{open:C,onOpenChange:k,children:s.jsxs(Qe,{className:"sm:max-w-md",children:[s.jsx(et,{children:s.jsx(tt,{children:"Edit Video Title"})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"title",children:"Video Title"}),s.jsx(de,{id:"title",value:T,onChange:Z=>B(Z.target.value),placeholder:"Enter video title...",className:"mt-2"})]})}),s.jsxs(ln,{children:[s.jsx(O,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),s.jsx(O,{onClick:U,disabled:!T.trim(),children:"Save Title"})]})]})}),s.jsx(Xe,{open:g,onOpenChange:w,children:s.jsxs(Qe,{className:"sm:max-w-md",children:[s.jsx(et,{children:s.jsx(tt,{children:"Edit Note"})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"note",children:"Note Content"}),s.jsx(_r,{id:"note",value:_,onChange:Z=>E(Z.target.value),placeholder:"Add your notes about this video...",className:"mt-2 min-h-[120px]"})]})}),s.jsxs(ln,{children:[s.jsx(O,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),s.jsx(O,{onClick:ee,children:"Save Note"})]})]})}),s.jsx(Xe,{open:y,onOpenChange:v,children:s.jsxs(Qe,{className:"sm:max-w-md",children:[s.jsx(et,{children:s.jsx(tt,{children:i!=null&&i.reminder_date?"Edit Reminder":"Add Reminder"})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"reminder",children:"Reminder Date & Time"}),s.jsx(de,{id:"reminder",type:"datetime-local",value:M,onChange:Z=>R(Z.target.value),className:"mt-2"})]})}),s.jsxs(ln,{children:[s.jsx(O,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),s.jsx(O,{onClick:ce,children:i!=null&&i.reminder_date?"Update Reminder":"Add Reminder"})]})]})}),s.jsx(la,{open:b,onOpenChange:j,children:s.jsxs(vs,{children:[s.jsxs(ys,{children:[s.jsx(ws,{children:"Delete Reminder"}),s.jsx(js,{children:"Are you sure you want to delete this reminder? This action cannot be undone."})]}),s.jsxs(bs,{children:[s.jsx(Ss,{children:"Cancel"}),s.jsx(Ns,{onClick:H,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Reminder"})]})]})}),s.jsx(la,{open:N,onOpenChange:S,children:s.jsxs(vs,{children:[s.jsxs(ys,{children:[s.jsx(ws,{children:"Delete Video"}),s.jsx(js,{children:"Are you sure you want to permanently delete this video? This action cannot be undone and will remove all associated notes and reminders."})]}),s.jsxs(bs,{children:[s.jsx(Ss,{children:"Cancel"}),s.jsx(Ns,{onClick:te,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Video"})]})]})})]}),s.jsx(dc,{open:A,onOpenChange:P,currentPlan:(n==null?void 0:n.plan_name)||"Free Plan",feature:"Premium Features",limitType:"plan_upgrade"})]})};function jt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Eo(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const l$=6048e5,Pne=864e5,Jm=43200,qE=1440;let Ane={};function Kh(){return Ane}function ah(e,t){var l,c,d,u;const r=Kh(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=jt(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Tg(e){return ah(e,{weekStartsOn:1})}function c$(e){const t=jt(e),r=t.getFullYear(),n=Eo(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Tg(n),i=Eo(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Tg(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function HE(e){const t=jt(e);return t.setHours(0,0,0,0),t}function Og(e){const t=jt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Tne(e,t){const r=HE(e),n=HE(t),a=+r-Og(r),i=+n-Og(n);return Math.round((a-i)/Pne)}function One(e){const t=c$(e),r=Eo(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Tg(r)}function Ip(e,t){const r=jt(e),n=jt(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function Rne(e){return Eo(e,Date.now())}function Dne(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ine(e){if(!Dne(e)&&typeof e!="number")return!1;const t=jt(e);return!isNaN(Number(t))}function Mne(e,t){const r=jt(e),n=jt(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Lne(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function $ne(e,t){return+jt(e)-+jt(t)}function Fne(e){const t=jt(e);return t.setHours(23,59,59,999),t}function Une(e){const t=jt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Bne(e){const t=jt(e);return+Fne(t)==+Une(t)}function zne(e,t){const r=jt(e),n=jt(t),a=Ip(r,n),i=Math.abs(Mne(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=Ip(r,n)===-a;Bne(jt(e))&&i===1&&Ip(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function Vne(e,t,r){const n=$ne(e,t)/1e3;return Lne(r==null?void 0:r.roundingMethod)(n)}function Wne(e){const t=jt(e),r=Eo(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const qne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Hne=(e,t,r)=>{let n;const a=qne[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Xb(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Gne={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Kne={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Yne={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Qne={date:Xb({formats:Gne,defaultWidth:"full"}),time:Xb({formats:Kne,defaultWidth:"full"}),dateTime:Xb({formats:Yne,defaultWidth:"full"})},Jne={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Zne=(e,t,r,n)=>Jne[e];function Fu(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Xne={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ese={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tse={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rse={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ase=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ise={ordinalNumber:ase,era:Fu({values:Xne,defaultWidth:"wide"}),quarter:Fu({values:ese,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Fu({values:tse,defaultWidth:"wide"}),day:Fu({values:rse,defaultWidth:"wide"}),dayPeriod:Fu({values:nse,defaultWidth:"wide",formattingValues:sse,defaultFormattingWidth:"wide"})};function Uu(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?lse(l,f=>f.test(o)):ose(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function ose(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function lse(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function cse(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const dse=/^(\d+)(th|st|nd|rd)?/i,use=/\d+/i,fse={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hse={any:[/^b/i,/^(a|c)/i]},mse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pse={any:[/1/i,/2/i,/3/i,/4/i]},gse={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xse={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vse={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yse={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bse={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wse={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jse={ordinalNumber:cse({matchPattern:dse,parsePattern:use,valueCallback:e=>parseInt(e,10)}),era:Uu({matchPatterns:fse,defaultMatchWidth:"wide",parsePatterns:hse,defaultParseWidth:"any"}),quarter:Uu({matchPatterns:mse,defaultMatchWidth:"wide",parsePatterns:pse,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Uu({matchPatterns:gse,defaultMatchWidth:"wide",parsePatterns:xse,defaultParseWidth:"any"}),day:Uu({matchPatterns:vse,defaultMatchWidth:"wide",parsePatterns:yse,defaultParseWidth:"any"}),dayPeriod:Uu({matchPatterns:bse,defaultMatchWidth:"any",parsePatterns:wse,defaultParseWidth:"any"})},d$={code:"en-US",formatDistance:Hne,formatLong:Qne,formatRelative:Zne,localize:ise,match:jse,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Nse(e){const t=jt(e);return Tne(t,Wne(t))+1}function Sse(e){const t=jt(e),r=+Tg(t)-+One(t);return Math.round(r/l$)+1}function u$(e,t){var u,f,m,p;const r=jt(e),n=r.getFullYear(),a=Kh(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=Eo(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=ah(o,t),c=Eo(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=ah(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function Cse(e,t){var l,c,d,u;const r=Kh(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=u$(e,t),i=Eo(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),ah(i,t)}function _se(e,t){const r=jt(e),n=+ah(r,t)-+Cse(r,t);return Math.round(n/l$)+1}function ht(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ii={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ht(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ht(r+1,2)},d(e,t){return ht(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ht(e.getHours()%12||12,t.length)},H(e,t){return ht(e.getHours(),t.length)},m(e,t){return ht(e.getMinutes(),t.length)},s(e,t){return ht(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return ht(a,t.length)}},_c={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},GE={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ii.y(e,t)},Y:function(e,t,r,n){const a=u$(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return ht(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):ht(i,t.length)},R:function(e,t){const r=c$(e);return ht(r,t.length)},u:function(e,t){const r=e.getFullYear();return ht(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ht(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ht(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ii.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ht(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=_se(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):ht(a,t.length)},I:function(e,t,r){const n=Sse(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ht(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ii.d(e,t)},D:function(e,t,r){const n=Nse(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ht(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ht(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ht(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return ht(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=_c.noon:n===0?a=_c.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=_c.evening:n>=12?a=_c.afternoon:n>=4?a=_c.morning:a=_c.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ii.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ii.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ht(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ht(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ii.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ii.s(e,t)},S:function(e,t){return Ii.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return YE(n);case"XXXX":case"XX":return al(n);case"XXXXX":case"XXX":default:return al(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return YE(n);case"xxxx":case"xx":return al(n);case"xxxxx":case"xxx":default:return al(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+KE(n,":");case"OOOO":default:return"GMT"+al(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+KE(n,":");case"zzzz":default:return"GMT"+al(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ht(n,t.length)},T:function(e,t,r){const n=e.getTime();return ht(n,t.length)}};function KE(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+ht(i,2)}function YE(e,t){return e%60===0?(e>0?"-":"+")+ht(Math.abs(e)/60,2):al(e,t)}function al(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=ht(Math.trunc(n/60),2),i=ht(n%60,2);return r+a+t+i}const QE=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},f$=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},kse=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return QE(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",QE(n,t)).replace("{{time}}",f$(a,t))},Ese={p:f$,P:kse},Pse=/^D+$/,Ase=/^Y+$/,Tse=["D","DD","YY","YYYY"];function Ose(e){return Pse.test(e)}function Rse(e){return Ase.test(e)}function Dse(e,t,r){const n=Ise(e,t,r);if(console.warn(n),Tse.includes(e))throw new RangeError(n)}function Ise(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Mse=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Lse=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$se=/^'([^]*?)'?$/,Fse=/''/g,Use=/[a-zA-Z]/;function JE(e,t,r){var u,f,m,p;const n=Kh(),a=n.locale??d$,i=n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,l=jt(e);if(!Ine(l))throw new RangeError("Invalid time value");let c=t.match(Lse).map(x=>{const g=x[0];if(g==="p"||g==="P"){const w=Ese[g];return w(x,a.formatLong)}return x}).join("").match(Mse).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const g=x[0];if(g==="'")return{isToken:!1,value:Bse(x)};if(GE[g])return{isToken:!0,value:x};if(g.match(Use))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const g=x.value;(Rse(g)||Ose(g))&&Dse(g,t,String(e));const w=GE[g[0]];return w(l,g,a.localize,d)}).join("")}function Bse(e){const t=e.match($se);return t?t[1].replace(Fse,"'"):e}function zse(e,t,r){const n=Kh(),a=(r==null?void 0:r.locale)??n.locale??d$,i=2520,o=Ip(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,d;o>0?(c=jt(t),d=jt(e)):(c=jt(e),d=jt(t));const u=Vne(d,c),f=(Og(d)-Og(c))/1e3,m=Math.round((u-f)/60);let p;if(m<2)return r!=null&&r.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):m===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",m,l);if(m<45)return a.formatDistance("xMinutes",m,l);if(m<90)return a.formatDistance("aboutXHours",1,l);if(m<qE){const x=Math.round(m/60);return a.formatDistance("aboutXHours",x,l)}else{if(m<i)return a.formatDistance("xDays",1,l);if(m<Jm){const x=Math.round(m/qE);return a.formatDistance("xDays",x,l)}else if(m<Jm*2)return p=Math.round(m/Jm),a.formatDistance("aboutXMonths",p,l)}if(p=zne(d,c),p<12){const x=Math.round(m/Jm);return a.formatDistance("xMonths",x,l)}else{const x=p%12,g=Math.trunc(p/12);return x<3?a.formatDistance("aboutXYears",g,l):x<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function Vse(e,t){return zse(e,Rne(e),t)}const Wse=({screenshot:e,onDelete:t,onUpdateNote:r,onView:n})=>{const[a,i]=h.useState(!1),[o,l]=h.useState(e.note||""),[c,d]=h.useState(!1),[u,f]=h.useState(!1),m=()=>{r(e.id,o),i(!1)},p=async()=>{try{const w=await(await fetch(e.original_url)).blob(),y=window.URL.createObjectURL(w),v=document.createElement("a");v.href=y,v.download=`screenshot-${e.id}.${e.format}`,document.body.appendChild(v),v.click(),window.URL.revokeObjectURL(y),document.body.removeChild(v)}catch(g){console.error("Download failed:",g)}},x=g=>g<1024?g+" B":g<1024*1024?(g/1024).toFixed(1)+" KB":(g/(1024*1024)).toFixed(1)+" MB";return s.jsxs(s.Fragment,{children:[s.jsxs(Y,{className:"group overflow-hidden hover:shadow-card transition-all",children:[s.jsxs("div",{className:"relative aspect-video bg-muted",children:[!u&&s.jsx("div",{className:"absolute inset-0 animate-pulse bg-muted"}),s.jsx("img",{src:e.thumb_320_url||e.original_url,alt:"Screenshot",className:`w-full h-full object-cover transition-opacity ${u?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:g=>{g.currentTarget.src!==e.original_url&&(g.currentTarget.src=e.original_url)},loading:"lazy"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsxs("div",{className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-2",children:[s.jsx(O,{size:"sm",variant:"secondary",onClick:()=>n(e.image_1600_url||e.original_url),children:s.jsx(Mr,{className:"w-4 h-4"})}),s.jsx(O,{size:"sm",variant:"secondary",onClick:p,children:s.jsx(Vf,{className:"w-4 h-4"})}),s.jsx(O,{size:"sm",variant:"destructive",onClick:()=>d(!0),children:s.jsx(yt,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"p-3 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:x(e.size_bytes)}),s.jsx("span",{children:Vse(new Date(e.created_at),{addSuffix:!0})})]}),a?s.jsxs("div",{className:"flex gap-2",children:[s.jsx(de,{value:o,onChange:g=>l(g.target.value),placeholder:"Add a note...",className:"text-sm"}),s.jsx(O,{size:"sm",onClick:m,children:s.jsx(st,{className:"w-4 h-4"})}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>{l(e.note||""),i(!1)},children:s.jsx(er,{className:"w-4 h-4"})})]}):s.jsxs(O,{variant:"ghost",size:"sm",className:"w-full justify-start text-sm",onClick:()=>i(!0),children:[s.jsx(Qr,{className:"w-4 h-4 mr-2"}),e.note||"Add note..."]})]})]}),s.jsx(la,{open:c,onOpenChange:d,children:s.jsxs(vs,{children:[s.jsxs(ys,{children:[s.jsx(ws,{children:"Delete Screenshot?"}),s.jsx(js,{children:"This action cannot be undone. The screenshot will be permanently deleted."})]}),s.jsxs(bs,{children:[s.jsx(Ss,{children:"Cancel"}),s.jsx(Ns,{onClick:()=>t(e.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})},h$=({screenshots:e,onDelete:t,onUpdateNote:r,isLoading:n})=>{const[a,i]=h.useState(null);return n?s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[...Array(4)].map((o,l)=>s.jsx("div",{className:"aspect-video bg-muted animate-pulse rounded-lg"},l))}):e.length===0?s.jsxs("div",{className:"text-center py-12 space-y-4",children:[s.jsx(vr,{className:"w-16 h-16 mx-auto text-muted-foreground/50"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"No screenshots yet"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add your first visual note by uploading a screenshot"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(o=>s.jsx(Wse,{screenshot:o,onDelete:t,onUpdateNote:r,onView:i},o.id))}),s.jsx(Xe,{open:!!a,onOpenChange:()=>i(null),children:s.jsx(Qe,{className:"max-w-4xl",children:a&&s.jsx("img",{src:a,alt:"Screenshot full view",className:"w-full h-auto"})})})]})},qse=()=>{const e=Ie(),{toast:t}=Ge(),{layoutType:r}=Ur(),[n,a]=h.useState([]),[i,o]=h.useState(!0);h.useEffect(()=>{r==="web"&&e("/screenshots-web",{replace:!0})},[r,e]);const l=async()=>{try{o(!0);const{data:u,error:f}=await $.from("screenshots").select("*").order("created_at",{ascending:!1});if(f)throw f;a(u||[])}catch(u){console.error("Error fetching screenshots:",u),t({title:"Error",description:"Failed to load screenshots",variant:"destructive"})}finally{o(!1)}};h.useEffect(()=>{l()},[]);const c=async u=>{try{const{data:{session:f}}=await $.auth.getSession();if(!f)throw new Error("Not authenticated");if(!(await fetch("https://vgsavnlyathtlvrevtjb.supabase.co/functions/v1/delete-screenshot",{method:"POST",headers:{Authorization:`Bearer ${f.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({screenshotId:u})})).ok)throw new Error("Failed to delete screenshot");t({title:"Success",description:"Screenshot deleted successfully"}),await l()}catch(f){console.error("Error deleting screenshot:",f),t({title:"Error",description:f.message||"Failed to delete screenshot",variant:"destructive"})}},d=async(u,f)=>{try{const{error:m}=await $.from("screenshots").update({note:f}).eq("id",u);if(m)throw m;t({title:"Success",description:"Note updated successfully"}),await l()}catch(m){console.error("Error updating note:",m),t({title:"Error",description:m.message||"Failed to update note",variant:"destructive"})}};return s.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[s.jsx(rt,{title:"All Screenshots",showBack:!0}),s.jsx("main",{className:"px-4 py-6",children:s.jsx(Y,{className:"shadow-card mb-6",children:s.jsxs(X,{className:"p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vr,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{className:"text-lg font-semibold text-foreground",children:i?"...":`${n.length} Screenshot${n.length!==1?"s":""}`})]})}),s.jsx(h$,{screenshots:n,onDelete:c,onUpdateNote:d,isLoading:i})]})})}),s.jsx("div",{className:"fixed bottom-24 right-4 z-50",children:s.jsx(O,{size:"lg",onClick:()=>e("/add-screenshot"),className:"h-14 w-14 rounded-full bg-gradient-primary hover:shadow-fab transition-all duration-300 transform hover:scale-105",children:s.jsx(wt,{className:"w-6 h-6"})})})]})},Hse=()=>{const e=Ie(),{toast:t}=Ge(),{layoutType:r}=Ur(),[n,a]=h.useState([]),[i,o]=h.useState(!0);h.useEffect(()=>{r==="mobile"&&e("/screenshots",{replace:!0})},[r,e]);const l=async()=>{try{o(!0);const{data:u,error:f}=await $.from("screenshots").select("*").order("created_at",{ascending:!1});if(f)throw f;a(u||[])}catch(u){console.error("Error fetching screenshots:",u),t({title:"Error",description:"Failed to load screenshots",variant:"destructive"})}finally{o(!1)}};h.useEffect(()=>{l()},[]);const c=async u=>{try{const{data:{session:f}}=await $.auth.getSession();if(!f)throw new Error("Not authenticated");if(!(await fetch("https://vgsavnlyathtlvrevtjb.supabase.co/functions/v1/delete-screenshot",{method:"POST",headers:{Authorization:`Bearer ${f.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({screenshotId:u})})).ok)throw new Error("Failed to delete screenshot");t({title:"Success",description:"Screenshot deleted successfully"}),await l()}catch(f){console.error("Error deleting screenshot:",f),t({title:"Error",description:f.message||"Failed to delete screenshot",variant:"destructive"})}},d=async(u,f)=>{try{const{error:m}=await $.from("screenshots").update({note:f}).eq("id",u);if(m)throw m;t({title:"Success",description:"Note updated successfully"}),await l()}catch(m){console.error("Error updating note:",m),t({title:"Error",description:m.message||"Failed to update note",variant:"destructive"})}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{title:"All Screenshots",showBack:!0,children:s.jsx(na,{})}),s.jsxs("main",{className:"container mx-auto px-6 py-8 max-w-7xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(vr,{className:"w-8 h-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"All Screenshots"}),s.jsx("p",{className:"text-muted-foreground",children:i?"Loading...":`${n.length} screenshot${n.length!==1?"s":""} in total`})]})]}),s.jsxs(O,{size:"lg",className:"bg-gradient-primary hover:shadow-elevated",onClick:()=>e("/add-screenshot"),children:[s.jsx(wt,{className:"w-5 h-5 mr-2"}),"Add Screenshot"]})]}),s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center gap-2",children:[s.jsx(vr,{className:"w-5 h-5 text-primary"}),"Your Screenshots"]})}),s.jsx(X,{children:s.jsx(h$,{screenshots:n,onDelete:c,onUpdateNote:d,isLoading:i})})]})]})]})},Gse=({note:e,onEdit:t,onDelete:r,onCardClick:n})=>{const a=d=>{switch(d){case"blue-ocean":return"bg-gradient-blue-ocean";case"lime-forest":return"bg-gradient-lime-forest";case"green-emerald":return"bg-gradient-green-emerald";case"teal-navy":return"bg-gradient-teal-navy";case"purple-cosmic":return"bg-gradient-purple-cosmic";case"cyan-azure":return"bg-gradient-cyan-azure";case"lime-vibrant":return"bg-gradient-lime-vibrant";case"red-fire":return"bg-gradient-red-fire";case"orange-sunset":return"bg-gradient-orange-sunset";default:return"bg-gradient-blue-ocean"}},i=d=>{const u=new Date(d),f=new Date,m=Math.floor((f.getTime()-u.getTime())/(1e3*60*60*24));return m===0?"Today":m===1?"Yesterday":m<7?`${m} days ago`:u.toLocaleDateString("en-US",{month:"short",day:"numeric",year:u.getFullYear()!==f.getFullYear()?"numeric":void 0})},o=()=>{n&&n(e)},l=d=>{d.stopPropagation(),t&&t(e)},c=d=>{d.stopPropagation(),r&&r(e)};return s.jsx(Y,{className:"group hover:shadow-elevated transition-all duration-300 transform hover:-translate-y-1 cursor-pointer bg-gradient-card",onClick:o,children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:ne("w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform duration-300",a(e.categoryColor)),children:s.jsx(Qr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors duration-200 line-clamp-1",children:e.title}),(t||r)&&s.jsxs(nn,{children:[s.jsx(sn,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex-shrink-0",onClick:d=>d.stopPropagation(),children:s.jsx(Lo,{className:"w-4 h-4"})})}),s.jsxs(Gr,{align:"end",className:"w-48",children:[t&&s.jsxs(Oe,{onClick:l,children:[s.jsx(Cn,{className:"w-4 h-4 mr-2"}),"Edit Note"]}),r&&s.jsxs(Oe,{onClick:c,className:"text-destructive focus:text-destructive",children:[s.jsx(yt,{className:"w-4 h-4 mr-2"}),"Delete Note"]})]})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:e.content}),e.tags&&e.tags.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.tags.slice(0,3).map(d=>s.jsx(je,{variant:"secondary",className:"text-xs",children:d},d)),e.tags.length>3&&s.jsxs(je,{variant:"outline",className:"text-xs",children:["+",e.tags.length-3]})]}),s.jsx("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Bl,{className:"w-3 h-3"}),s.jsx("span",{children:e.category})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(sc,{className:"w-3 h-3"}),s.jsx("span",{children:i(e.updatedAt)})]})]})})]})]})})})},m$=({note:e,categories:t,isOpen:r,onClose:n,onSave:a})=>{const[i,o]=h.useState({title:"",content:"",category:"",tags:[],newTag:""}),l={"AI Tools":"blue-ocean","Fitness Routines":"green-emerald","Cooking Recipes":"lime-forest","Photography Tips":"teal-navy","Music Production":"lime-vibrant"};h.useEffect(()=>{e&&o({title:e.title,content:e.content,category:e.category,tags:e.tags||[],newTag:""})},[e]);const c=(g,w)=>{if(typeof w=="string"&&(g==="content"||g==="description")){const y=w.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<[^>]+>/g,"").replace(/javascript:/gi,"").replace(/on\w+\s*=\s*["'][^"']*["']/gi,"").slice(0,2e3);o(v=>({...v,[g]:y}))}else o(y=>({...y,[g]:w}))},d=()=>{if(i.newTag.trim()&&!i.tags.includes(i.newTag.trim())){const g=[...i.tags,i.newTag.trim()];o(w=>({...w,tags:g,newTag:""}))}},u=g=>{const w=i.tags.filter(y=>y!==g);o(y=>({...y,tags:w}))},f=g=>{g.key==="Enter"&&(g.preventDefault(),d())},m=g=>{if(g.preventDefault(),!i.title.trim()){re({title:"Error",description:"Note title is required",variant:"destructive"});return}if(!i.content){re({title:"Error",description:"Note content is required",variant:"destructive"});return}if(e){const w={...e,title:i.title,content:i.content,category:i.category||e.category,categoryColor:l[i.category]||e.categoryColor,tags:i.tags,updatedAt:new Date().toISOString().split("T")[0]};a(w),re({title:"Success!",description:`Note "${i.title}" has been updated`}),n()}};if(!e)return null;const p=g=>{switch(g){case"blue-ocean":return"bg-gradient-blue-ocean";case"lime-forest":return"bg-gradient-lime-forest";case"green-emerald":return"bg-gradient-green-emerald";case"teal-navy":return"bg-gradient-teal-navy";case"purple-cosmic":return"bg-gradient-purple-cosmic";case"cyan-azure":return"bg-gradient-cyan-azure";case"lime-vibrant":return"bg-gradient-lime-vibrant";case"red-fire":return"bg-gradient-red-fire";case"orange-sunset":return"bg-gradient-orange-sunset";default:return"bg-gradient-blue-ocean"}},x=l[i.category]||e.categoryColor;return s.jsx(Xe,{open:r,onOpenChange:n,children:s.jsxs(Qe,{className:"max-w-2xl mx-auto max-h-[90vh] overflow-y-auto",children:[s.jsx(et,{children:s.jsx(tt,{children:"Edit Note"})}),s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsx(Y,{className:"shadow-card",children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-gradient-card",children:[s.jsx("div",{className:ne("w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0",p(x)),children:s.jsx(Qr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-foreground line-clamp-1",children:i.title||"Note Title"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.category||e.category})]})]})})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"edit-title",className:"text-sm font-medium text-foreground",children:"Note Title *"}),s.jsx(de,{id:"edit-title",placeholder:"e.g., Key Insights from Video",value:i.title,onChange:g=>c("title",g.target.value),className:"bg-card border-border focus:ring-primary",maxLength:100}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.title.length,"/100 characters"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{className:"text-sm font-medium text-foreground",children:"Category"}),s.jsxs(qe,{value:i.category,onValueChange:g=>c("category",g),children:[s.jsx(Ve,{className:"bg-card border-border",children:s.jsx(He,{placeholder:"Select a category"})}),s.jsx(We,{children:t.map(g=>s.jsx(se,{value:g,children:g},g))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"edit-content",className:"text-sm font-medium text-foreground",children:"Note Content *"}),s.jsx(_r,{id:"edit-content",placeholder:"Write your note content here...",value:i.content,onChange:g=>c("content",g.target.value),className:"bg-card border-border focus:ring-primary min-h-[120px] resize-none",maxLength:2e3}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.content.length,"/2000 characters"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{className:"text-sm font-medium text-foreground",children:"Tags (Optional)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(de,{placeholder:"Add a tag",value:i.newTag,onChange:g=>c("newTag",g.target.value),onKeyPress:f,className:"bg-card border-border focus:ring-primary"}),s.jsx(O,{type:"button",variant:"outline",onClick:d,disabled:!i.newTag.trim()||i.tags.includes(i.newTag.trim()),className:"border-border hover:bg-muted",children:s.jsx(Bl,{className:"w-4 h-4"})})]}),i.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.tags.map(g=>s.jsxs(je,{variant:"secondary",className:"cursor-pointer",onClick:()=>u(g),children:[g," ",s.jsx(er,{className:"w-3 h-3 ml-1"})]},g))})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs(O,{type:"button",variant:"outline",onClick:n,className:"flex-1 border-border hover:bg-muted",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Cancel"]}),s.jsxs(O,{type:"submit",className:"flex-1 bg-gradient-primary hover:shadow-elevated transition-all duration-300",disabled:!i.title.trim()||!i.content,children:[s.jsx(aa,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})]})})},p$=({note:e,isOpen:t,onClose:r,onDelete:n})=>{const a=()=>{e&&(n(e.id),re({title:"Note deleted",description:`"${e.title}" has been permanently deleted`}),r())};return e?s.jsx(Xe,{open:t,onOpenChange:r,children:s.jsxs(Qe,{className:"max-w-md mx-auto",children:[s.jsx(et,{children:s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(us,{className:"w-5 h-5 text-destructive"}),"Delete Note"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"p-4 bg-destructive/10 border border-destructive/20 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(us,{className:"w-5 h-5 text-destructive flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:"Are you sure you want to delete this note?"}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:['This action cannot be undone. The note "',e.title,'" will be permanently deleted.']})]})]})}),s.jsx("div",{className:"bg-gradient-card p-3 rounded-lg border border-border",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-blue-ocean rounded flex items-center justify-center flex-shrink-0",children:s.jsx(us,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("h4",{className:"font-medium text-foreground line-clamp-1",children:e.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.category}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:e.content})]})]})})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs(O,{variant:"outline",onClick:r,className:"flex-1 border-border hover:bg-muted",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Cancel"]}),s.jsxs(O,{variant:"destructive",onClick:a,className:"flex-1",children:[s.jsx(yt,{className:"w-4 h-4 mr-2"}),"Delete Note"]})]})]})}):null},g$=()=>{const[e,t]=h.useState([]),[r,n]=h.useState(!0),[a,i]=h.useState(null),o=async()=>{try{n(!0);const{data:l,error:c}=await $.from("videos").select(`
          id,
          title,
          description,
          tags,
          created_at,
          updated_at,
          url,
          categories (
            name,
            color
          )
        `).not("description","is",null).neq("description","").order("updated_at",{ascending:!1});if(c){console.error("Error fetching notes:",c),i(c.message);return}const d=(l||[]).map(u=>{var f,m;return{id:u.id,title:u.title,content:u.description||"",category:((f=u.categories)==null?void 0:f.name)||"Uncategorized",categoryColor:((m=u.categories)==null?void 0:m.color)||"blue-ocean",createdAt:u.created_at,updatedAt:u.updated_at,tags:u.tags||[],videoId:u.id,videoUrl:u.url}});t(d)}catch(l){console.error("Unexpected error:",l),i("Failed to load notes")}finally{n(!1)}};return h.useEffect(()=>{o()},[]),{notes:e,loading:r,error:a,refetch:o}},Kse=()=>{const e=Ie(),{layoutType:t}=Ur(),{notes:r,loading:n,error:a}=g$(),[i,o]=h.useState(""),[l,c]=h.useState("recent"),[d,u]=h.useState("all"),[f,m]=h.useState(null),[p,x]=h.useState(null);h.useEffect(()=>{t==="web"&&e("/notes-web",{replace:!0})},[t,e]);const g=h.useMemo(()=>Array.from(new Set(r.map(k=>k.category))).filter(k=>k!=="Uncategorized"),[r]),y=[...r.filter(C=>{var P;const k=C.title.toLowerCase().includes(i.toLowerCase())||C.content.toLowerCase().includes(i.toLowerCase())||((P=C.tags)==null?void 0:P.some(_=>_.toLowerCase().includes(i.toLowerCase()))),A=d==="all"||C.category===d;return k&&A})].sort((C,k)=>{switch(l){case"title":return C.title.localeCompare(k.title);case"category":return C.category.localeCompare(k.category);case"recent":return new Date(k.updatedAt).getTime()-new Date(C.updatedAt).getTime();case"oldest":return new Date(C.createdAt).getTime()-new Date(k.createdAt).getTime();default:return 0}}),v=C=>{m(C)},b=C=>{x(C)},j=C=>{console.log("Save note:",C)},N=C=>{console.log("Delete note:",C)},S=C=>{e(`/videos/${C.videoId}`)};return n?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{title:"My Notes",showBack:!1,children:s.jsx(Re,{to:"/notes/add",children:s.jsxs(O,{className:"bg-gradient-primary hover:shadow-elevated transition-all duration-300",children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add Note"]})})}),s.jsx("main",{className:"pb-20 px-4 pt-6",children:s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading notes..."})]})})]}):a?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{title:"My Notes",showBack:!1,children:s.jsx(Re,{to:"/notes/add",children:s.jsxs(O,{className:"bg-gradient-primary hover:shadow-elevated transition-all duration-300",children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add Note"]})})}),s.jsx("main",{className:"pb-20 px-4 pt-6",children:s.jsxs("div",{className:"text-center py-16",children:[s.jsx(Qr,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Error loading notes"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:a})]})})]}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{title:"My Notes",showBack:!1,children:s.jsx(Re,{to:"/notes/add",children:s.jsxs(O,{className:"bg-gradient-primary hover:shadow-elevated transition-all duration-300",children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add Note"]})})}),s.jsxs("main",{className:"pb-20 px-4 pt-6",children:[s.jsxs("div",{className:"flex gap-3 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(de,{placeholder:"Search notes, content, or tags...",value:i,onChange:C=>o(C.target.value),className:"pl-10 bg-card border-border focus:ring-primary"})]}),s.jsxs(qe,{value:d,onValueChange:u,children:[s.jsxs(Ve,{className:"w-40 bg-card border-border",children:[s.jsx(Bl,{className:"w-4 h-4 mr-2"}),s.jsx(He,{})]}),s.jsxs(We,{children:[s.jsx(se,{value:"all",children:"All Categories"}),g.map(C=>s.jsx(se,{value:C,children:C},C))]})]}),s.jsxs(qe,{value:l,onValueChange:c,children:[s.jsxs(Ve,{className:"w-32 bg-card border-border",children:[s.jsx(tu,{className:"w-4 h-4 mr-2"}),s.jsx(He,{})]}),s.jsxs(We,{children:[s.jsx(se,{value:"recent",children:"Recent"}),s.jsx(se,{value:"oldest",children:"Oldest"}),s.jsx(se,{value:"title",children:"Title"}),s.jsx(se,{value:"category",children:"Category"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[s.jsx("div",{className:"bg-gradient-card p-4 rounded-lg shadow-card",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-primary rounded-lg flex items-center justify-center",children:s.jsx(Qr,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:r.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Notes"})]})]})}),s.jsx("div",{className:"bg-gradient-card p-4 rounded-lg shadow-card",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-purple-cosmic rounded-lg flex items-center justify-center",children:s.jsx(No,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:r.filter(C=>C.updatedAt===new Date().toISOString().split("T")[0]).length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Updated Today"})]})]})})]}),y.length>0?s.jsx("div",{className:"space-y-4",children:y.map(C=>s.jsx(Gse,{note:C,onEdit:v,onDelete:b,onCardClick:S},C.id))}):s.jsx("div",{className:"text-center py-16",children:i||d!=="all"?s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No notes found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search terms or filters"}),s.jsx(O,{onClick:()=>{o(""),u("all")},variant:"outline",className:"border-border hover:bg-muted",children:"Clear Filters"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Qr,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"You have no notes yet"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Start taking notes to remember important insights from your videos"}),s.jsx(Re,{to:"/notes/add",children:s.jsxs(O,{className:"bg-gradient-primary hover:shadow-elevated transition-all duration-300",children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Create Your First Note"]})})]})})]}),s.jsx(m$,{note:f,categories:g,isOpen:!!f,onClose:()=>m(null),onSave:j}),s.jsx(p$,{note:p,isOpen:!!p,onClose:()=>x(null),onDelete:N})]})},Yse=()=>{const e=Ie(),{layoutType:t}=Ur(),{notes:r,loading:n,error:a}=g$(),[i,o]=h.useState(""),[l,c]=h.useState("recent"),[d,u]=h.useState("all"),[f,m]=h.useState(null),[p,x]=h.useState(null);h.useEffect(()=>{t==="mobile"&&e("/notes",{replace:!0})},[t,e]);const g=h.useMemo(()=>Array.from(new Set(r.map(b=>b.category))).filter(b=>b!=="Uncategorized"),[r]),y=[...r.filter(v=>{var N;const b=v.title.toLowerCase().includes(i.toLowerCase())||v.content.toLowerCase().includes(i.toLowerCase())||((N=v.tags)==null?void 0:N.some(S=>S.toLowerCase().includes(i.toLowerCase()))),j=d==="all"||v.category===d;return b&&j})].sort((v,b)=>{switch(l){case"title":return v.title.localeCompare(b.title);case"category":return v.category.localeCompare(b.category);case"recent":return new Date(b.updatedAt).getTime()-new Date(v.updatedAt).getTime();case"oldest":return new Date(v.createdAt).getTime()-new Date(b.createdAt).getTime();default:return 0}});return n?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{children:s.jsx(na,{})}),s.jsx("main",{className:"container mx-auto px-6 py-8 max-w-7xl",children:s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading notes..."})]})})]}):a?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{children:s.jsx(na,{})}),s.jsx("main",{className:"container mx-auto px-6 py-8 max-w-7xl",children:s.jsxs("div",{className:"text-center py-16",children:[s.jsx(Qr,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"Error Loading Notes"}),s.jsx("p",{className:"text-muted-foreground",children:a})]})})]}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{children:s.jsx(na,{})}),s.jsxs("main",{className:"container mx-auto px-6 py-8 max-w-7xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"My Notes"}),s.jsxs("p",{className:"text-lg text-muted-foreground",children:[y.length," ",y.length===1?"note":"notes"]})]}),s.jsx(Re,{to:"/notes/add",children:s.jsxs(O,{size:"lg",className:"bg-gradient-primary hover:shadow-elevated",children:[s.jsx(wt,{className:"w-5 h-5 mr-2"}),"Add Note"]})})]}),s.jsx(Y,{className:"mb-6 shadow-card",children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(vt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),s.jsx(de,{type:"text",placeholder:"Search notes...",value:i,onChange:v=>o(v.target.value),className:"pl-10"})]}),s.jsxs(qe,{value:d,onValueChange:u,children:[s.jsx(Ve,{children:s.jsx(He,{placeholder:"All Categories"})}),s.jsxs(We,{children:[s.jsx(se,{value:"all",children:"All Categories"}),g.map(v=>s.jsx(se,{value:v,children:v},v))]})]}),s.jsxs(qe,{value:l,onValueChange:c,children:[s.jsx(Ve,{children:s.jsx(He,{placeholder:"Sort by"})}),s.jsxs(We,{children:[s.jsx(se,{value:"recent",children:"Most Recent"}),s.jsx(se,{value:"oldest",children:"Oldest First"}),s.jsx(se,{value:"title",children:"Title (A-Z)"}),s.jsx(se,{value:"category",children:"Category"})]})]})]})})}),y.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(v=>s.jsxs(Y,{className:"shadow-card hover:shadow-elevated transition-all",children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx(le,{className:"text-lg line-clamp-2",children:v.title}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>m(v),children:s.jsx(Cn,{className:"w-4 h-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>x(v),children:s.jsx(yt,{className:"w-4 h-4"})})]})]})}),s.jsxs(X,{children:[s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3 mb-4",children:v.content}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Qr,{className:"w-4 h-4"}),s.jsx("span",{children:v.category})]}),v.tags&&v.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1",children:v.tags.map((b,j)=>s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-muted text-xs",children:[s.jsx(Bl,{className:"w-3 h-3"}),b]},j))}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground pt-2 border-t",children:[s.jsx(No,{className:"w-3 h-3"}),s.jsxs("span",{children:["Updated ",new Date(v.updatedAt).toLocaleDateString()]})]})]})]})]},v.id))}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx(Qr,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No notes found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:i||d!=="all"?"Try adjusting your search or filters":"Start adding notes to your videos"}),s.jsx(Re,{to:"/notes/add",children:s.jsxs(O,{className:"bg-gradient-primary hover:shadow-elevated",children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add Your First Note"]})})]})]}),s.jsx(m$,{note:f,categories:g,isOpen:!!f,onClose:()=>m(null),onSave:()=>m(null)}),s.jsx(p$,{note:p,isOpen:!!p,onClose:()=>x(null),onDelete:()=>x(null)})]})},Qse=()=>{const e=Ie(),{layoutType:t}=Ur(),[r,n]=h.useState([]),[a,i]=h.useState([]),[o,l]=h.useState([]),[c,d]=h.useState(!0),[u,f]=h.useState(""),[m,p]=h.useState("date-asc");h.useEffect(()=>{if(t==="mobile"){e("/videos",{replace:!0});return}x(),g()},[t,e]),h.useEffect(()=>{w()},[r,u,m]);const x=async()=>{try{d(!0);const{data:b,error:j}=await $.from("videos").select("*").not("reminder_date","is",null).order("reminder_date",{ascending:!0});if(j){console.error("Error fetching reminders:",j);return}n(b||[])}catch(b){console.error("Unexpected error:",b)}finally{d(!1)}},g=async()=>{try{const{data:b,error:j}=await $.from("categories").select("id, name, color").order("name");if(j){console.error("Error fetching categories:",j);return}i(b||[])}catch(b){console.error("Unexpected error:",b)}},w=()=>{let b=[...r];if(u.trim()){const j=u.toLowerCase();b=b.filter(N=>{var S,C;return N.title.toLowerCase().includes(j)||((S=N.description)==null?void 0:S.toLowerCase().includes(j))||((C=N.tags)==null?void 0:C.some(k=>k.toLowerCase().includes(j)))})}b.sort((j,N)=>{var S,C;switch(m){case"date-asc":return new Date(j.reminder_date).getTime()-new Date(N.reminder_date).getTime();case"date-desc":return new Date(N.reminder_date).getTime()-new Date(j.reminder_date).getTime();case"title":return j.title.localeCompare(N.title);case"category":const k=((S=a.find(P=>P.id===j.category_id))==null?void 0:S.name)||"",A=((C=a.find(P=>P.id===N.category_id))==null?void 0:C.name)||"";return k.localeCompare(A);default:return 0}}),l(b)},y=b=>{var N;if(b.url==="https://placeholder.com"||(N=b.title)!=null&&N.startsWith("Screenshots -"))return"screenshot";let j="video";if(b.tags&&b.tags.length>0){const S=b.tags.find(C=>["youtube","tiktok","instagram","vimeo","twitter"].includes(C.toLowerCase()));S&&(j=S)}if(j==="video"&&b.url){const S=b.url.toLowerCase();S.includes("youtube.com")||S.includes("youtu.be")?j="youtube":S.includes("tiktok.com")?j="tiktok":S.includes("instagram.com")?j="instagram":S.includes("vimeo.com")?j="vimeo":(S.includes("twitter.com")||S.includes("x.com"))&&(j="twitter")}return j},v=b=>{const j=y(b),N=a.find(S=>S.id===b.category_id);return{id:b.id,title:b.title,platform:j,thumbnail:b.thumbnail_url||"",duration:b.duration?b.duration.toString():void 0,hasReminder:!!b.reminder_date,reminderDate:b.reminder_date||void 0,hasNotes:!!b.description,addedDate:b.created_at,url:b.url,description:b.description||"",tags:b.tags||[],categoryId:b.category_id||void 0,category:N?{id:N.id,name:N.name,color:N.color}:void 0}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{title:"All Reminders",showBack:!0,children:s.jsx(na,{})}),s.jsxs("main",{className:"container mx-auto px-6 py-8 max-w-7xl",children:[s.jsxs("div",{className:"flex gap-4 mb-8",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-5 h-5"}),s.jsx(de,{placeholder:"Search reminders...",value:u,onChange:b=>f(b.target.value),className:"pl-12 h-12 bg-card border-border focus:ring-primary"})]}),s.jsxs(qe,{value:m,onValueChange:p,children:[s.jsxs(Ve,{className:"w-48 bg-card border-border",children:[s.jsx(N1,{className:"w-4 h-4 mr-2"}),s.jsx(He,{})]}),s.jsxs(We,{children:[s.jsx(se,{value:"date-asc",children:"Upcoming First"}),s.jsx(se,{value:"date-desc",children:"Latest First"}),s.jsx(se,{value:"title",children:"Title A-Z"}),s.jsx(se,{value:"category",children:"Category"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(xt,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{className:"text-lg font-semibold text-foreground",children:u.trim()?`Search Results (${o.length})`:`All Reminders (${o.length})`})]}),c?s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[1,2,3,4,5,6].map(b=>s.jsx(Y,{className:"p-4 animate-pulse",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-20 h-16 bg-muted rounded-lg"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]})},b))}):o.length>0?s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:o.map(b=>s.jsx(Oa,{video:v(b),onVideoUpdated:x},b.id))}):u.trim()?s.jsxs("div",{className:"text-center py-16",children:[s.jsx(vt,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No reminders found"}),s.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search terms"})]}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx(xt,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No reminders yet"}),s.jsx("p",{className:"text-muted-foreground",children:"Set reminders on your videos to see them here"})]})]})]})},Jse=()=>{const e=Ie(),{layoutType:t}=Ur(),[r,n]=h.useState([]),[a,i]=h.useState([]),[o,l]=h.useState([]),[c,d]=h.useState(!0),[u,f]=h.useState("");h.useEffect(()=>{if(t==="web"){e("/reminders-web",{replace:!0});return}m(),p()},[t,e]),h.useEffect(()=>{x()},[r,u]);const m=async()=>{try{d(!0);const{data:y,error:v}=await $.from("videos").select("*").not("reminder_date","is",null).order("reminder_date",{ascending:!0});if(v){console.error("Error fetching reminders:",v);return}n(y||[])}catch(y){console.error("Unexpected error:",y)}finally{d(!1)}},p=async()=>{try{const{data:y,error:v}=await $.from("categories").select("id, name, color").order("name");if(v){console.error("Error fetching categories:",v);return}i(y||[])}catch(y){console.error("Unexpected error:",y)}},x=()=>{let y=[...r];if(u.trim()){const v=u.toLowerCase();y=y.filter(b=>{var j,N;return b.title.toLowerCase().includes(v)||((j=b.description)==null?void 0:j.toLowerCase().includes(v))||((N=b.tags)==null?void 0:N.some(S=>S.toLowerCase().includes(v)))})}l(y)},g=y=>{var b;if(y.url==="https://placeholder.com"||(b=y.title)!=null&&b.startsWith("Screenshots -"))return"screenshot";let v="video";if(y.tags&&y.tags.length>0){const j=y.tags.find(N=>["youtube","tiktok","instagram","vimeo","twitter"].includes(N.toLowerCase()));j&&(v=j)}if(v==="video"&&y.url){const j=y.url.toLowerCase();j.includes("youtube.com")||j.includes("youtu.be")?v="youtube":j.includes("tiktok.com")?v="tiktok":j.includes("instagram.com")?v="instagram":j.includes("vimeo.com")?v="vimeo":(j.includes("twitter.com")||j.includes("x.com"))&&(v="twitter")}return v},w=y=>{const v=g(y),b=a.find(j=>j.id===y.category_id);return{id:y.id,title:y.title,platform:v,thumbnail:y.thumbnail_url||"",duration:y.duration?y.duration.toString():void 0,hasReminder:!!y.reminder_date,reminderDate:y.reminder_date||void 0,hasNotes:!!y.description,addedDate:y.created_at,url:y.url,description:y.description||"",tags:y.tags||[],categoryId:y.category_id||void 0,category:b?{id:b.id,name:b.name,color:b.color}:void 0}};return s.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[s.jsx(rt,{title:"Reminders",showBack:!0}),s.jsxs("main",{className:"px-4 py-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-5 h-5"}),s.jsx(de,{placeholder:"Search reminders...",value:u,onChange:y=>f(y.target.value),className:"pl-12 h-12 bg-card border-border focus:ring-primary"})]})}),s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(xt,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{className:"text-lg font-semibold text-foreground",children:u.trim()?`Results (${o.length})`:`All Reminders (${o.length})`})]}),c?s.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(y=>s.jsx(Y,{className:"p-4 animate-pulse",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-20 h-16 bg-muted rounded-lg"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]})},y))}):o.length>0?s.jsx("div",{className:"space-y-3",children:o.map(y=>s.jsx(Oa,{video:w(y),onVideoUpdated:m},y.id))}):u.trim()?s.jsxs("div",{className:"text-center py-16",children:[s.jsx(vt,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No reminders found"}),s.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search terms"})]}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx(xt,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No reminders yet"}),s.jsx("p",{className:"text-muted-foreground",children:"Set reminders on your videos to see them here"})]})]})]})},Zse=()=>{const e=Ie(),[t,r]=h.useState({title:"",content:"",category:"",tags:[],newTag:""}),n=["AI Tools","Fitness Routines","Cooking Recipes","Photography Tips","Music Production"],a={"AI Tools":"blue-ocean","Fitness Routines":"green-emerald","Cooking Recipes":"lime-forest","Photography Tips":"teal-navy","Music Production":"lime-vibrant"},i=(p,x)=>{if(typeof x=="string"&&(p==="content"||p==="description")){const g=x.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<[^>]+>/g,"").replace(/javascript:/gi,"").replace(/on\w+\s*=\s*["'][^"']*["']/gi,"").slice(0,2e3);r(w=>({...w,[p]:g}))}else r(g=>({...g,[p]:x}))},o=()=>{if(t.newTag.trim()&&!t.tags.includes(t.newTag.trim())){const p=[...t.tags,t.newTag.trim()];r(x=>({...x,tags:p,newTag:""}))}},l=p=>{const x=t.tags.filter(g=>g!==p);r(g=>({...g,tags:x}))},c=p=>{p.key==="Enter"&&(p.preventDefault(),o())},d=p=>{if(p.preventDefault(),!t.title.trim()){re({title:"Error",description:"Note title is required",variant:"destructive"});return}if(!t.content){re({title:"Error",description:"Note content is required",variant:"destructive"});return}if(!t.category){re({title:"Error",description:"Please select a category",variant:"destructive"});return}re({title:"Success!",description:`Note "${t.title}" has been created`}),e("/notes")},u=()=>{e("/notes")},f=p=>{switch(p){case"blue-ocean":return"bg-gradient-blue-ocean";case"lime-forest":return"bg-gradient-lime-forest";case"green-emerald":return"bg-gradient-green-emerald";case"teal-navy":return"bg-gradient-teal-navy";case"lime-vibrant":return"bg-gradient-lime-vibrant";default:return"bg-gradient-blue-ocean"}},m=a[t.category]||"blue-ocean";return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{title:"Add New Note",showBack:!0}),s.jsx("main",{className:"p-4 pb-8",children:s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsx(le,{className:"text-lg",children:"Preview"})}),s.jsx(X,{children:s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-gradient-card",children:[s.jsx("div",{className:ne("w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0",f(m)),children:s.jsx(Qr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-foreground line-clamp-1",children:t.title||"Note Title"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t.category||"Select Category"}),t.content&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:t.content})]})]})})]}),s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsx(le,{className:"text-lg",children:"Note Details"})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"title",className:"text-sm font-medium text-foreground",children:"Note Title *"}),s.jsx(de,{id:"title",placeholder:"e.g., Key Insights from Video",value:t.title,onChange:p=>i("title",p.target.value),className:"bg-card border-border focus:ring-primary",maxLength:100}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.title.length,"/100 characters"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{className:"text-sm font-medium text-foreground",children:"Category *"}),s.jsxs(qe,{value:t.category,onValueChange:p=>i("category",p),children:[s.jsx(Ve,{className:"bg-card border-border",children:s.jsx(He,{placeholder:"Select a category"})}),s.jsx(We,{children:n.map(p=>s.jsx(se,{value:p,children:p},p))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"content",className:"text-sm font-medium text-foreground",children:"Note Content *"}),s.jsx(_r,{id:"content",placeholder:"Write your note content here...",value:t.content,onChange:p=>i("content",p.target.value),className:"bg-card border-border focus:ring-primary min-h-[120px] resize-none",maxLength:2e3}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.content.length,"/2000 characters"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{className:"text-sm font-medium text-foreground",children:"Tags (Optional)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(de,{placeholder:"Add a tag",value:t.newTag,onChange:p=>i("newTag",p.target.value),onKeyPress:c,className:"bg-card border-border focus:ring-primary"}),s.jsx(O,{type:"button",variant:"outline",onClick:o,disabled:!t.newTag.trim()||t.tags.includes(t.newTag.trim()),className:"border-border hover:bg-muted",children:s.jsx(Bl,{className:"w-4 h-4"})})]}),t.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:t.tags.map(p=>s.jsxs(je,{variant:"secondary",className:"cursor-pointer",onClick:()=>l(p),children:[p," ",s.jsx(er,{className:"w-3 h-3 ml-1"})]},p))})]})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs(O,{type:"button",variant:"outline",onClick:u,className:"flex-1 border-border hover:bg-muted",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Cancel"]}),s.jsxs(O,{type:"submit",className:"flex-1 bg-gradient-primary hover:shadow-elevated transition-all duration-300",disabled:!t.title.trim()||!t.content||!t.category,children:[s.jsx(aa,{className:"w-4 h-4 mr-2"}),"Create Note"]})]})]})})]})};var Xse="Separator",ZE="horizontal",eae=["horizontal","vertical"],x$=h.forwardRef((e,t)=>{const{decorative:r,orientation:n=ZE,...a}=e,i=tae(n)?n:ZE,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(we.div,{"data-orientation":i,...l,...a,ref:t})});x$.displayName=Xse;function tae(e){return eae.includes(e)}var v$=x$;const xn=h.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(v$,{ref:a,decorative:r,orientation:t,className:ne("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));xn.displayName=v$.displayName;const AS=({currentAvatarUrl:e,onAvatarChange:t,size:r="md",showUploadButton:n=!0,disabled:a=!1})=>{const[i,o]=h.useState(!1),[l,c]=h.useState(e||null),d=h.useRef(null),u={sm:"h-10 w-10",md:"h-16 w-16",lg:"h-24 w-24"},f=async g=>{try{if(o(!0),!["image/png","image/jpeg","image/webp"].includes(g.type)){re({title:"Unsupported format",description:"Only PNG, JPG, and WebP are supported.",variant:"destructive"}),o(!1);return}re({title:"Compressing image...",description:"This may take a moment"});const{compressImage:w}=await Zr(async()=>{const{compressImage:P}=await import("./imageCompression-OcUn27My.js");return{compressImage:P}},[]),y=await w(g,1920,1920,50),v=5*1024*1024;if(y.size>v){re({title:"File too large",description:"Image still exceeds 5MB after compression. Please use a smaller image.",variant:"destructive"}),o(!1);return}const{data:{user:b}}=await $.auth.getUser();if(!b)throw new Error("No user found");const j=`${b.id}/avatar.jpg`,N=`${b.id}/avatar.jpg`;await $.storage.from("avatars").remove([N]);const{error:S}=await $.storage.from("avatars").upload(j,y,{cacheControl:"3600",upsert:!0,contentType:"image/jpeg"});if(S)throw console.error("Upload error:",S),S;const C=Date.now(),{data:k}=$.storage.from("avatars").getPublicUrl(j),A=`${k.publicUrl}?t=${C}`;c(A),t(A),await $.auth.updateUser({data:{avatar_url:A}}),re({title:"Avatar updated",description:"Your profile picture has been updated successfully"})}catch(w){console.error("Error uploading avatar:",w),re({title:"Upload failed",description:w.message||"Failed to upload avatar",variant:"destructive"})}finally{o(!1)}},m=g=>{var y;const w=(y=g.target.files)==null?void 0:y[0];if(w){const v=new FileReader;v.onload=b=>{var j;c((j=b.target)==null?void 0:j.result)},v.readAsDataURL(w),f(w)}},p=()=>{var g;(g=d.current)==null||g.click()},x=async()=>{try{o(!0);const{data:{user:g}}=await $.auth.getUser();if(!g)return;const w=`${g.id}/avatar.jpg`;await $.storage.from("avatars").remove([w]),await $.auth.updateUser({data:{avatar_url:null}}),c(null),t(null),re({title:"Avatar removed",description:"Your profile picture has been removed"})}catch(g){console.error("Error removing avatar:",g),re({title:"Remove failed",description:g.message||"Failed to remove avatar",variant:"destructive"})}finally{o(!1)}};return s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsxs(Z1,{className:`${u[r]} bg-gradient-primary`,children:[s.jsx(X1,{src:l||void 0,alt:"Avatar"}),s.jsx(eS,{className:"text-white text-lg font-semibold",children:s.jsx(vr,{className:"w-6 h-6"})})]}),l&&!a&&s.jsx(O,{size:"sm",variant:"destructive",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",onClick:x,disabled:i,children:s.jsx(er,{className:"w-3 h-3"})})]}),n&&!a&&s.jsx("div",{className:"flex gap-2",children:s.jsxs(O,{size:"sm",variant:"outline",onClick:p,disabled:i,children:[s.jsx(qf,{className:"w-4 h-4 mr-1"}),i?"Uploading...":l?"Change":"Upload"]})}),s.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:m,className:"hidden",disabled:a})]})},y$=({onSuccess:e})=>{const[t,r]=h.useState(""),[n,a]=h.useState(!1),[i,o]=h.useState(!1),[l,c]=h.useState(null),{toast:d}=Ge(),u=async()=>{if(!t.trim()){d({title:"Invalid Input",description:"Please enter a promo code",variant:"destructive"});return}a(!0),c(null);try{const{data:m,error:p}=await $.rpc("validate_promo_code",{promo_code_input:t.trim().toUpperCase()});if(p)throw p;if(m&&m.length>0){const x=m[0];c(x),x.valid?d({title:"Valid Promo Code!",description:`Ready to upgrade to ${x.plan_name}`}):d({title:"Invalid Promo Code",description:x.message,variant:"destructive"})}}catch(m){console.error("Error validating promo code:",m),d({title:"Validation Error",description:"Failed to validate promo code. Please try again.",variant:"destructive"})}finally{a(!1)}},f=async()=>{if(!(l!=null&&l.valid)||!l.plan_id){d({title:"Cannot Redeem",description:"Please validate the promo code first",variant:"destructive"});return}o(!0);try{const{data:{user:m}}=await $.auth.getUser();if(!m)throw new Error("Not authenticated");const{data:p,error:x}=await $.rpc("activate_promotion",{promo_code_input:t.trim().toUpperCase(),user_uuid:m.id});if(x)throw x;if(p&&p.length>0){const g=p[0];g.success?(d({title:"Promo Code Redeemed!",description:`Successfully upgraded to ${g.plan_name}`}),r(""),c(null),e==null||e()):d({title:"Redemption Failed",description:g.message,variant:"destructive"})}}catch(m){console.error("Error redeeming promo code:",m),d({title:"Redemption Error",description:m.message||"Failed to redeem promo code. Please try again.",variant:"destructive"})}finally{o(!1)}};return s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsxs(le,{className:"text-lg flex items-center gap-2",children:[s.jsx(Wf,{className:"w-5 h-5 text-primary"}),"Redeem Promo Code"]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"promo-code",children:"Enter Promo Code"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(de,{id:"promo-code",type:"password",value:t,onChange:m=>{r(m.target.value),c(null)},placeholder:"Enter your promo code",className:"flex-1",maxLength:20}),s.jsx(O,{onClick:u,disabled:n||!t.trim(),variant:"outline",children:n?s.jsx(Rt,{className:"w-4 h-4 animate-spin"}):"Validate"})]})]}),l&&s.jsxs("div",{className:`p-3 rounded-lg border ${l.valid?"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800":"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-800"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.valid?s.jsx(wd,{className:"w-4 h-4 text-green-600"}):s.jsx(us,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:`font-medium ${l.valid?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"}`,children:l.valid?"Valid Promo Code":"Invalid Promo Code"})]}),s.jsx("p",{className:`text-sm ${l.valid?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:l.message}),l.valid&&l.plan_name&&s.jsx("div",{className:"mt-2",children:s.jsxs(je,{variant:"secondary",className:"bg-primary/10 text-primary",children:["Upgrade to ",l.plan_name]})})]}),(l==null?void 0:l.valid)&&s.jsx(O,{onClick:f,disabled:i,className:"w-full",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Rt,{className:"w-4 h-4 mr-2 animate-spin"}),"Redeeming..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Wf,{className:"w-4 h-4 mr-2"}),"Redeem Promo Code"]})}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.jsx("p",{children:" Promo codes are case-insensitive"}),s.jsx("p",{children:" Each promo code can only be used once per user"}),s.jsx("p",{children:" Promo codes have limited validity periods"})]})]})]})},b$=({userEmail:e})=>{const[t,r]=h.useState(!1),[n,a]=h.useState(!1),[i,o]=h.useState(""),[l,c]=h.useState(!1),[d,u]=h.useState(0),[f,m]=h.useState(""),{toast:p}=Ge(),x=Ie(),g=async()=>{if(i!=="DELETE"){p({title:"Invalid Confirmation",description:"Please type 'DELETE' to confirm account deletion",variant:"destructive"});return}r(!1),a(!0),c(!0),u(0);try{m("Initializing account deletion..."),u(10),await new Promise(v=>setTimeout(v,500)),m("Validating account permissions..."),u(25),await new Promise(v=>setTimeout(v,300)),m("Deleting videos and categories..."),u(40),await new Promise(v=>setTimeout(v,400)),m("Removing account data..."),u(60);const{data:w,error:y}=await $.functions.invoke("delete-account");if(y)throw y;if(m("Finalizing deletion..."),u(80),await new Promise(v=>setTimeout(v,300)),w!=null&&w.success)m("Account successfully deleted!"),u(100),await new Promise(v=>setTimeout(v,1e3)),await $.auth.signOut(),x("/account-deleted");else throw new Error((w==null?void 0:w.error)||"Failed to delete account")}catch(w){console.error("Error deleting account:",w),a(!1),p({title:"Error",description:w instanceof Error?w.message:"Failed to delete account",variant:"destructive"})}finally{c(!1),u(0),m(""),o("")}};return s.jsxs(s.Fragment,{children:[s.jsxs(la,{open:t,onOpenChange:r,children:[s.jsx(Dv,{asChild:!0,children:s.jsxs(O,{variant:"destructive",size:"sm",className:"w-full",onClick:()=>r(!0),children:[s.jsx(yt,{className:"w-4 h-4 mr-2"}),"Delete My Account"]})}),s.jsxs(vs,{className:"max-w-md",children:[s.jsx(ys,{children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-destructive/10 flex items-center justify-center",children:s.jsx(us,{className:"w-6 h-6 text-destructive"})}),s.jsxs("div",{children:[s.jsx(ws,{className:"text-lg",children:"Delete Account"}),s.jsx(js,{className:"text-sm text-muted-foreground",children:"This action cannot be undone"})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-destructive/5 border border-destructive/20 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-destructive mb-2",children:"Warning: This will permanently delete:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" All your saved videos and categories"}),s.jsx("li",{children:" All your notes and reminders"}),s.jsx("li",{children:" All AI summaries and analysis"}),s.jsx("li",{children:" Your profile and account settings"}),s.jsx("li",{children:" Your subscription history"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:"confirmation",className:"text-sm font-medium",children:["Type ",s.jsx("span",{className:"font-bold text-destructive",children:"DELETE"})," to confirm:"]}),s.jsx(de,{id:"confirmation",value:i,onChange:w=>o(w.target.value),placeholder:"Type DELETE here",className:"font-mono"})]}),s.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/50 p-3 rounded",children:[s.jsx("strong",{children:"Note:"})," Account deletion is only available for Free Plan users. If you have an active subscription, please cancel it first before deleting your account."]})]}),s.jsxs(bs,{className:"gap-2",children:[s.jsx(Ss,{onClick:()=>{o("")},children:"Cancel"}),s.jsx(Ns,{onClick:g,disabled:i!=="DELETE",className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",children:"Delete Account"})]})]})]}),s.jsx(Xe,{open:n,onOpenChange:()=>{},children:s.jsxs(Qe,{className:"max-w-md",children:[s.jsx(et,{children:s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(Rt,{className:"w-5 h-5 animate-spin text-primary"}),"Deleting Account"]})}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:f}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[d,"%"]})]}),s.jsx("div",{className:"w-full bg-secondary rounded-full h-4",children:s.jsx("div",{className:"bg-primary h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${d}%`}})})]}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait while we securely delete all your data..."}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Do not close this window."})]})]})]})})]})},rae=()=>{const e=Ie(),{toast:t}=Ge(),{layoutType:r}=Ur(),{limits:n,loading:a,refetch:i}=Uo(),[o,l]=h.useState(null),[c,d]=h.useState(null),[u,f]=h.useState(!0),[m,p]=h.useState(!1),[x,g]=h.useState(!1),[w,y]=h.useState(!1),[v,b]=h.useState({first_name:"",last_name:"",mobile:"",birth_date:""});h.useRef(null),h.useEffect(()=>{r==="web"&&e("/account-web",{replace:!0})},[r,e]);const j=async()=>{try{const{data:{user:T},error:B}=await $.auth.getUser();if(B||!T){e("/auth/login");return}const{data:K,error:z}=await $.from("profiles").select("*").eq("id",T.id).single();z&&console.error("Error fetching profile:",z);const{count:V}=await $.from("videos").select("*",{count:"exact",head:!0}),{count:F}=await $.from("categories").select("*",{count:"exact",head:!0}),{count:W}=await $.from("screenshots").select("*",{count:"exact",head:!0}),{data:D}=await $.from("user_subscriptions").select("status, end_date").eq("user_id",T.id).in("status",["active","canceling"]).order("created_at",{ascending:!1}).limit(1).maybeSingle(),L={id:T.id,email:(K==null?void 0:K.email)||T.email||"",first_name:(K==null?void 0:K.first_name)||null,last_name:(K==null?void 0:K.last_name)||null,mobile:(K==null?void 0:K.mobile)||null,birth_date:(K==null?void 0:K.birth_date)||null,avatar_url:(K==null?void 0:K.avatar_url)||null,created_at:T.created_at,totalVideos:V||0,totalCategories:F||0,totalScreenshots:W||0};d(D?{status:D.status,endDate:D.end_date}:null),l(L),b({first_name:L.first_name||"",last_name:L.last_name||"",mobile:L.mobile||"",birth_date:L.birth_date||""})}catch(T){console.error("Error fetching profile data:",T),t({title:"Error",description:"Failed to load profile data",variant:"destructive"})}finally{f(!1)}};h.useEffect(()=>{j(),N()},[]);const N=()=>{"Notification"in window&&y(Notification.permission==="granted")},S=async()=>{if(!("Notification"in window)){t({title:"Not Supported",description:"Notifications are not supported in this browser",variant:"destructive"});return}if(Notification.permission==="granted")t({title:"Notifications Enabled",description:"Notifications are currently enabled. You can disable them in your browser settings."});else if(Notification.permission==="denied")t({title:"Notifications Blocked",description:"Notifications are blocked. Please enable them in your browser settings.",variant:"destructive"});else{const T=await Notification.requestPermission();y(T==="granted"),t(T==="granted"?{title:"Notifications Enabled",description:"You'll now receive important updates and reminders"}:{title:"Notifications Disabled",description:"You can enable notifications later in your browser settings"})}},C=async()=>{try{const{data:T,error:B}=await $.functions.invoke("cancel-subscription");if(B)throw B;if(T!=null&&T.success)t({title:"Subscription Cancellation Scheduled",description:T.message||"Your subscription will be canceled at the end of your current billing period."}),i(),j();else throw new Error((T==null?void 0:T.error)||"Failed to cancel subscription")}catch(T){console.error("Error canceling subscription:",T),t({title:"Error",description:T instanceof Error?T.message:"Failed to cancel subscription",variant:"destructive"})}},k=T=>{switch(T){case"Gold Plan":return"bg-gradient-to-r from-yellow-400 to-yellow-600 text-black";case"Premium Plan":return"bg-gradient-to-r from-purple-500 to-purple-700 text-white";default:return"bg-gradient-to-r from-gray-400 to-gray-600 text-white"}},A=async()=>{try{const{error:T}=await $.auth.signOut();if(T)throw T;t({title:"Signed Out",description:"You have been successfully signed out"}),e("/auth/login")}catch(T){console.error("Error signing out:",T),t({title:"Error",description:"Failed to sign out",variant:"destructive"})}},P=async()=>{try{const{error:T}=await $.from("profiles").update({first_name:v.first_name||null,last_name:v.last_name||null,mobile:v.mobile||null,birth_date:v.birth_date||null}).eq("id",o.id);if(T)throw T;l(B=>B?{...B,first_name:v.first_name||null,last_name:v.last_name||null,mobile:v.mobile||null,birth_date:v.birth_date||null}:null),p(!1),t({title:"Profile Updated",description:"Your profile has been updated successfully"})}catch(T){console.error("Error updating profile:",T),t({title:"Error",description:"Failed to update profile",variant:"destructive"})}},_=()=>{b({first_name:(o==null?void 0:o.first_name)||"",last_name:(o==null?void 0:o.last_name)||"",mobile:(o==null?void 0:o.mobile)||"",birth_date:(o==null?void 0:o.birth_date)||""}),p(!1)},E=T=>{const K=T.replace(/\D/g,"").substring(0,10);return K.length<=3?K:K.length<=6?`(${K.slice(0,3)}) ${K.slice(3)}`:`(${K.slice(0,3)}) ${K.slice(3,6)}-${K.slice(6)}`},M=T=>{const B=E(T);b(K=>({...K,mobile:B}))},R=T=>new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return u?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{title:"Profile",showBack:!0}),s.jsx("main",{className:"p-4 pb-20",children:s.jsx("div",{className:"space-y-6",children:[1,2,3].map(T=>s.jsx(Y,{className:"animate-pulse",children:s.jsxs(X,{className:"p-6",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]})},T))})})]}):o?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{title:"Profile",showBack:!0}),s.jsx("main",{className:"p-4 pb-20",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Y,{className:"shadow-card",children:s.jsxs(X,{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(AS,{currentAvatarUrl:o.avatar_url,onAvatarChange:async T=>{const{error:B}=await $.from("profiles").update({avatar_url:T}).eq("id",o.id);B?t({title:"Error",description:"Failed to update profile photo",variant:"destructive"}):(l(K=>K?{...K,avatar_url:T}:null),t({title:"Profile Updated",description:"Your profile photo has been updated"}))},size:"lg",showUploadButton:!1}),s.jsx(O,{variant:"outline",size:"sm",onClick:()=>{const T=document.querySelector('input[type="file"]');T==null||T.click()},className:"text-xs px-2 py-1 h-6 text-muted-foreground",children:"Upload"})]}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("h2",{className:"text-xl font-semibold text-foreground",children:o.first_name&&o.last_name?`${o.first_name} ${o.last_name}`:o.first_name||o.last_name||"User"}),s.jsx(O,{size:"sm",variant:"ghost",onClick:()=>p(!0),className:"p-1 h-6 w-6",children:s.jsx(Cn,{className:"w-3 h-3"})})]}),s.jsxs("p",{className:"text-muted-foreground flex items-center justify-center gap-2 text-sm",children:[s.jsx(Ul,{className:"w-4 h-4"}),o.email]})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground mt-4 pt-4 border-t border-border",children:[s.jsx(No,{className:"w-4 h-4"}),s.jsxs("span",{children:["Member since ",R(o.created_at)]})]})]})}),m&&s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsx(le,{className:"text-lg",children:"Edit Profile"})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:"first_name",children:["First Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(de,{id:"first_name",value:v.first_name,onChange:T=>b(B=>({...B,first_name:T.target.value})),placeholder:"Enter first name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:"last_name",children:["Last Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(de,{id:"last_name",value:v.last_name,onChange:T=>b(B=>({...B,last_name:T.target.value})),placeholder:"Enter last name"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"mobile",children:"Mobile Number"}),s.jsx(de,{id:"mobile",type:"tel",value:v.mobile,onChange:T=>M(T.target.value),placeholder:"(123) 456-7890",maxLength:14})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"birth_date",children:"Birth Date"}),s.jsx(de,{id:"birth_date",type:"date",value:v.birth_date,onChange:T=>b(B=>({...B,birth_date:T.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Email"}),s.jsx(de,{value:o.email,disabled:!0,className:"bg-muted text-muted-foreground"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsxs(O,{onClick:P,className:"flex-1",children:[s.jsx(aa,{className:"w-4 h-4 mr-2"}),"Save Changes"]}),s.jsxs(O,{variant:"outline",onClick:_,className:"flex-1",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]}),s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsx(le,{className:"text-lg",children:"Your Statistics"})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"text-center p-3 bg-gradient-card rounded-lg",children:[s.jsx(Vt,{className:"w-6 h-6 mx-auto text-primary mb-1"}),s.jsx("p",{className:"text-xl font-semibold text-foreground",children:o.totalVideos}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Videos"})]}),s.jsxs("div",{className:"text-center p-3 bg-gradient-card rounded-lg",children:[s.jsx(Lr,{className:"w-6 h-6 mx-auto text-primary mb-1"}),s.jsx("p",{className:"text-xl font-semibold text-foreground",children:o.totalCategories}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Categories"})]}),s.jsxs("div",{className:"text-center p-3 bg-gradient-card rounded-lg",children:[s.jsx(vr,{className:"w-6 h-6 mx-auto text-primary mb-1"}),s.jsx("p",{className:"text-xl font-semibold text-foreground",children:o.totalScreenshots}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Screenshots"})]})]}),n&&s.jsxs("div",{className:"mt-4 p-4 bg-gradient-card rounded-lg",children:[s.jsxs("h4",{className:"font-medium text-foreground mb-2",children:["Category Limits - ",n.plan_name]}),s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:"Maximum categories allowed:"}),s.jsx("span",{className:"text-foreground font-medium",children:n.max_categories===-1?"Unlimited":n.max_categories})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:"Categories created:"}),s.jsx("span",{className:"text-foreground font-medium",children:n.current_categories})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:"Categories remaining:"}),s.jsx("span",{className:"text-foreground font-medium",children:n.max_categories===-1?"Unlimited":Math.max(0,n.max_categories-n.current_categories)})]})]})]})]})]}),s.jsx(y$,{onSuccess:()=>{i(),j()}}),s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsxs(le,{className:"text-lg flex items-center gap-2",children:[s.jsx(zf,{className:"w-5 h-5"}),"Subscription Plan"]})}),s.jsx(X,{className:"space-y-4",children:a?s.jsxs("div",{className:"animate-pulse space-y-3",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]}):n?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-medium text-foreground",children:n.plan_name}),s.jsx(je,{className:k(n.plan_name),children:n.plan_name==="Free Plan"?"Free":n.plan_name.split(" ")[0]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Your current subscription plan"})]})}),(c==null?void 0:c.status)==="canceling"&&c.endDate&&s.jsx("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"text-orange-600",children:""}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-orange-800",children:"Subscription Cancellation Scheduled"}),s.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:["Your subscription will end on ",new Date(c.endDate).toLocaleDateString(),". You'll continue to have access to all features until then."]})]})]})}),s.jsxs("div",{className:"space-y-2 p-3 bg-gradient-card rounded-lg",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Categories"}),s.jsx("span",{className:"text-foreground",children:n.max_categories===-1?"Unlimited":`${n.current_categories}/${n.max_categories}`})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Videos per Category"}),s.jsx("span",{className:"text-foreground",children:n.max_videos_per_category===-1?"Unlimited":`Up to ${n.max_videos_per_category}`})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Screenshots"}),s.jsx("span",{className:"text-foreground",children:n.max_screenshots_per_user===-1?"Unlimited":`Up to ${n.max_screenshots_per_user}`})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Storage Quota"}),s.jsx("span",{className:"text-foreground",children:n.storage_quota_mb===null?"Unlimited":n.storage_quota_mb>=1024?`${(n.storage_quota_mb/1024).toFixed(0)} GB`:`${n.storage_quota_mb} MB`})]})]}),s.jsxs("div",{className:"space-y-2",children:[n.plan_name!=="Gold Plan"&&s.jsxs(O,{onClick:()=>g(!0),className:"w-full",children:[s.jsx(zf,{className:"w-4 h-4 mr-2"}),"Upgrade Plan"]}),n.plan_name!=="Free Plan"&&s.jsxs(la,{children:[s.jsx(Dv,{asChild:!0,children:s.jsxs(O,{variant:"destructive",className:"w-full",children:[s.jsx(yt,{className:"w-4 h-4 mr-2"}),"Cancel Subscription"]})}),s.jsxs(vs,{children:[s.jsxs(ys,{children:[s.jsx(ws,{children:"Cancel your subscription?"}),s.jsxs(js,{children:["Your subscription will be canceled at the end of your current billing period. You'll continue to have access to all premium features until then, and won't be charged for the next cycle.",s.jsx("br",{}),s.jsx("br",{}),"Your data will remain safe and you can reactivate your subscription at any time."]})]}),s.jsxs(bs,{children:[s.jsx(Ss,{children:"Go back"}),s.jsx(Ns,{onClick:C,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Cancel subscription"})]})]})]})]})]}):s.jsxs("div",{className:"text-center py-4",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"Unable to load subscription details"}),s.jsx(O,{onClick:i,variant:"outline",children:"Try Again"})]})})]}),s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsxs(le,{className:"text-lg flex items-center gap-2",children:[s.jsx(xt,{className:"w-5 h-5"}),"Notifications"]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-foreground",children:"Push Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Make sure you stay up-to-date with all the important news and reminders"})]}),s.jsx(O,{variant:w?"default":"outline",onClick:S,className:"shrink-0",children:w?s.jsxs(s.Fragment,{children:[s.jsx(xt,{className:"w-4 h-4 mr-2"}),"Enabled"]}):s.jsxs(s.Fragment,{children:[s.jsx(vD,{className:"w-4 h-4 mr-2"}),"Enable"]})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"You can always turn notifications off later in your browser settings."})]})]}),s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsx(le,{className:"text-lg",children:"Account Actions"})}),s.jsxs(X,{className:"space-y-4",children:[(n==null?void 0:n.plan_name)==="Free Plan"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-destructive",children:"Danger Zone"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Permanently delete your account and all associated data. This action cannot be undone."}),s.jsx(b$,{userEmail:o.email})]}),s.jsx(xn,{})]}),s.jsxs(O,{variant:"outline",onClick:()=>e("/help-feedback"),className:"w-full",children:[s.jsx(SD,{className:"w-4 h-4 mr-2"}),"Help & Feedback"]}),s.jsxs(O,{variant:"destructive",onClick:A,className:"w-full",children:[s.jsx(Gx,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})]})}),s.jsx(dc,{open:x,onOpenChange:g,currentPlan:(n==null?void 0:n.plan_name)||"Free Plan",feature:"upgrade your plan",limitType:"plan_upgrade"})]}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{title:"Profile",showBack:!0}),s.jsx("main",{className:"p-4 pb-20",children:s.jsxs("div",{className:"text-center py-16",children:[s.jsx(Ph,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Unable to Load Profile"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"There was an error loading your profile data"}),s.jsx(O,{onClick:()=>e("/dashboard"),children:"Return to Dashboard"})]})})]})},nae=()=>{const e=Ie(),{layoutType:t}=Ur(),{limits:r,loading:n}=Uo(),{stats:a,loading:i}=hS(),[o,l]=h.useState(!1),[c,d]=h.useState(!0),[u,f]=h.useState(!1);h.useState(!1);const[m,p]=h.useState({id:"",email:"",firstName:"",lastName:"",mobile:"",birthDate:"",joinedDate:"",avatarUrl:""}),[x,g]=h.useState(null),[w,y]=h.useState({firstName:"",lastName:"",mobile:"",birthDate:""}),[v,b]=h.useState(!1);h.useEffect(()=>{if(t==="mobile"){e("/account",{replace:!0});return}N(),j()},[t,e]);const j=()=>{"Notification"in window&&b(Notification.permission==="granted")},N=async()=>{try{d(!0);const{data:{user:R}}=await $.auth.getUser();if(!R){e("/auth/login");return}const{data:T,error:B}=await $.from("profiles").select("*").eq("id",R.id).maybeSingle();if(B){console.error("Error fetching profile:",B),Tn.error("Failed to load profile");return}const{data:K}=await $.from("user_subscriptions").select("status, end_date").eq("user_id",R.id).in("status",["active","canceling"]).order("created_at",{ascending:!1}).limit(1).maybeSingle();g(K?{status:K.status,endDate:K.end_date}:null),p({id:R.id,email:R.email||"",firstName:(T==null?void 0:T.first_name)||"",lastName:(T==null?void 0:T.last_name)||"",mobile:(T==null?void 0:T.mobile)||"",birthDate:(T==null?void 0:T.birth_date)||"",joinedDate:new Date(R.created_at).toLocaleDateString(),avatarUrl:(T==null?void 0:T.avatar_url)||""}),y({firstName:(T==null?void 0:T.first_name)||"",lastName:(T==null?void 0:T.last_name)||"",mobile:(T==null?void 0:T.mobile)||"",birthDate:(T==null?void 0:T.birth_date)||""})}catch(R){console.error("Error in fetchProfile:",R),Tn.error("An error occurred")}finally{d(!1)}},S=async()=>{try{const{data:{user:R}}=await $.auth.getUser();if(!R)return;const{error:T}=await $.from("profiles").update({first_name:w.firstName,last_name:w.lastName,mobile:w.mobile||null,birth_date:w.birthDate||null}).eq("id",R.id);if(T)throw T;p(B=>({...B,firstName:w.firstName,lastName:w.lastName,mobile:w.mobile,birthDate:w.birthDate})),l(!1),Tn.success("Profile updated successfully")}catch(R){console.error("Error updating profile:",R),Tn.error("Failed to update profile")}},C=R=>{const B=R.replace(/\D/g,"").substring(0,10);return B.length<=3?B:B.length<=6?`(${B.slice(0,3)}) ${B.slice(3)}`:`(${B.slice(0,3)}) ${B.slice(3,6)}-${B.slice(6)}`},k=R=>{const T=C(R);y(B=>({...B,mobile:T}))},A=()=>{y({firstName:m.firstName,lastName:m.lastName,mobile:m.mobile,birthDate:m.birthDate}),l(!1)},P=async()=>{await $.auth.signOut(),e("/auth/login")},_=async()=>{try{const{data:R,error:T}=await $.functions.invoke("cancel-subscription");if(T)throw T;if(R!=null&&R.success)Tn.success(R.message||"Your subscription will be canceled at the end of your current billing period."),N();else throw new Error((R==null?void 0:R.error)||"Failed to cancel subscription")}catch(R){console.error("Error canceling subscription:",R),Tn.error(R instanceof Error?R.message:"Failed to cancel subscription")}},E=async()=>{if(!("Notification"in window)){Tn.error("Notifications are not supported in this browser");return}if(Notification.permission==="granted")Tn.info("Notifications are currently enabled. You can disable them in your browser settings.");else if(Notification.permission==="denied")Tn.error("Notifications are blocked. Please enable them in your browser settings.");else{const R=await Notification.requestPermission();b(R==="granted"),R==="granted"?Tn.success("You'll now receive important updates and reminders"):Tn.info("You can enable notifications later in your browser settings")}},M=R=>{switch(R){case"Gold Plan":return"bg-gradient-to-r from-yellow-400 to-yellow-600 text-black";case"Premium Plan":return"bg-gradient-to-r from-purple-500 to-purple-700 text-white";default:return"bg-gradient-to-r from-gray-400 to-gray-600 text-white"}};return c||n||i?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{children:s.jsx(na,{})}),s.jsx("main",{className:"container mx-auto px-6 py-8 max-w-5xl",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3,4,5].map(R=>s.jsx(Y,{className:"shadow-card",children:s.jsxs(X,{className:"p-6",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-1/2 mb-2 animate-pulse"}),s.jsx("div",{className:"h-4 bg-muted rounded w-1/2 animate-pulse"})]})},R))})})]}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{children:s.jsx(na,{})}),s.jsxs("main",{className:"container mx-auto px-6 py-8 max-w-5xl",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Account Settings"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Manage your profile and preferences"})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(Y,{className:"shadow-card lg:col-span-2",children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(le,{className:"flex items-center gap-2",children:[s.jsx(Ph,{className:"w-5 h-5 text-primary"}),"Profile Information"]}),o?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(O,{variant:"outline",size:"sm",onClick:A,children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Cancel"]}),s.jsxs(O,{size:"sm",onClick:S,className:"bg-gradient-primary",children:[s.jsx(aa,{className:"w-4 h-4 mr-2"}),"Save"]})]}):s.jsxs(O,{variant:"outline",size:"sm",onClick:()=>l(!0),children:[s.jsx(Cn,{className:"w-4 h-4 mr-2"}),"Edit"]})]})}),s.jsxs(X,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx(AS,{currentAvatarUrl:m.avatarUrl,onAvatarChange:async R=>{const{error:T}=await $.from("profiles").update({avatar_url:R}).eq("id",m.id);T?Tn.error("Failed to update profile photo"):(p(B=>({...B,avatarUrl:R})),Tn.success("Profile photo updated"))}}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-semibold text-lg text-foreground",children:[m.firstName," ",m.lastName]}),s.jsx("p",{className:"text-muted-foreground",children:m.email})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:"firstName",children:["First Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),o?s.jsx(de,{id:"firstName",value:w.firstName,onChange:R=>y({...w,firstName:R.target.value}),placeholder:"Enter first name"}):s.jsx("p",{className:"text-foreground py-2",children:m.firstName||"Not set"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:"lastName",children:["Last Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),o?s.jsx(de,{id:"lastName",value:w.lastName,onChange:R=>y({...w,lastName:R.target.value}),placeholder:"Enter last name"}):s.jsx("p",{className:"text-foreground py-2",children:m.lastName||"Not set"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"mobile",children:"Mobile Number"}),o?s.jsx(de,{id:"mobile",type:"tel",value:w.mobile,onChange:R=>k(R.target.value),placeholder:"(123) 456-7890",maxLength:14}):s.jsx("p",{className:"text-foreground py-2",children:m.mobile||"Not set"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"birthDate",children:"Birth Date"}),o?s.jsx(de,{id:"birthDate",type:"date",value:w.birthDate,onChange:R=>y({...w,birthDate:R.target.value})}):s.jsx("p",{className:"text-foreground py-2",children:m.birthDate?new Date(m.birthDate).toLocaleDateString():"Not set"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Email"}),s.jsx("p",{className:"text-muted-foreground py-2",children:m.email}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Member Since"}),s.jsx("p",{className:"text-muted-foreground py-2",children:m.joinedDate})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsx(le,{className:"text-lg",children:"Usage Statistics"})}),s.jsx(X,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"text-center p-3 bg-gradient-card rounded-lg",children:[s.jsx(Vt,{className:"w-6 h-6 mx-auto text-primary mb-1"}),s.jsx("p",{className:"text-xl font-semibold text-foreground",children:a.totalVideos}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Videos"})]}),s.jsxs("div",{className:"text-center p-3 bg-gradient-card rounded-lg",children:[s.jsx(Lr,{className:"w-6 h-6 mx-auto text-primary mb-1"}),s.jsxs("p",{className:"text-xl font-semibold text-foreground",children:[a.totalCategories,r&&r.max_categories!==-1&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["/",r.max_categories]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Categories"})]}),s.jsxs("div",{className:"text-center p-3 bg-gradient-card rounded-lg",children:[s.jsx(vr,{className:"w-6 h-6 mx-auto text-primary mb-1"}),s.jsx("p",{className:"text-xl font-semibold text-foreground",children:a.totalScreenshots}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Screenshots"})]})]})})]}),s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center gap-2 text-lg",children:[s.jsx(zf,{className:"w-5 h-5 text-primary"}),"Subscription"]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Current Plan"}),r&&s.jsx(je,{className:M(r.plan_name),children:r.plan_name==="Free Plan"?"Free":r.plan_name.split(" ")[0]})]}),s.jsx("p",{className:"text-xl font-semibold text-primary",children:(r==null?void 0:r.plan_name)||"Free Plan"}),(x==null?void 0:x.status)==="canceling"&&x.endDate&&s.jsx("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"text-orange-600",children:""}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-orange-800",children:"Subscription Cancellation Scheduled"}),s.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:["Your subscription will end on ",new Date(x.endDate).toLocaleDateString(),". You'll continue to have access to all features until then."]})]})]})}),r&&s.jsxs("div",{className:"space-y-2 p-3 bg-gradient-card rounded-lg",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Categories"}),s.jsx("span",{className:"text-foreground",children:r.max_categories===-1?"Unlimited":`${r.current_categories}/${r.max_categories}`})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Videos per Category"}),s.jsx("span",{className:"text-foreground",children:r.max_videos_per_category===-1?"Unlimited":`Up to ${r.max_videos_per_category}`})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Screenshots"}),s.jsx("span",{className:"text-foreground",children:r.max_screenshots_per_user===-1?"Unlimited":`Up to ${r.max_screenshots_per_user}`})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Storage Quota"}),s.jsx("span",{className:"text-foreground",children:r.storage_quota_mb===null?"Unlimited":r.storage_quota_mb>=1024?`${(r.storage_quota_mb/1024).toFixed(0)} GB`:`${r.storage_quota_mb} MB`})]})]}),s.jsxs("div",{className:"space-y-2",children:[(r==null?void 0:r.plan_name)!=="Gold Plan"&&s.jsxs(O,{className:"w-full bg-gradient-primary hover:shadow-elevated",onClick:()=>f(!0),children:[s.jsx(zf,{className:"w-4 h-4 mr-2"}),"Upgrade Plan"]}),(r==null?void 0:r.plan_name)!=="Free Plan"&&s.jsxs(la,{children:[s.jsx(Dv,{asChild:!0,children:s.jsxs(O,{variant:"destructive",className:"w-full",children:[s.jsx(yt,{className:"w-4 h-4 mr-2"}),"Cancel Subscription"]})}),s.jsxs(vs,{children:[s.jsxs(ys,{children:[s.jsx(ws,{children:"Cancel your subscription?"}),s.jsxs(js,{children:["Your subscription will be canceled at the end of your current billing period. You'll continue to have access to all premium features until then, and won't be charged for the next cycle.",s.jsx("br",{}),s.jsx("br",{}),"Your data will remain safe and you can reactivate your subscription at any time."]})]}),s.jsxs(bs,{children:[s.jsx(Ss,{children:"Go back"}),s.jsx(Ns,{onClick:_,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Cancel subscription"})]})]})]})]}),s.jsx(y$,{onSuccess:N})]})]})]}),s.jsxs(Y,{className:"shadow-card lg:col-span-2",children:[s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center gap-2",children:[s.jsx(xt,{className:"w-5 h-5 text-primary"}),"Notifications"]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:"Push Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Make sure you stay up-to-date with all the important news and reminders"})]}),s.jsx(O,{variant:v?"default":"outline",onClick:E,className:"shrink-0",children:v?s.jsxs(s.Fragment,{children:[s.jsx(xt,{className:"w-4 h-4 mr-2"}),"Enabled"]}):s.jsxs(s.Fragment,{children:[s.jsx(vD,{className:"w-4 h-4 mr-2"}),"Enable"]})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"You can always turn notifications off later in your browser settings."})]})]}),s.jsxs(Y,{className:"shadow-card",children:[s.jsx(oe,{children:s.jsx(le,{className:"text-lg",children:"Account Actions"})}),s.jsxs(X,{className:"space-y-3",children:[s.jsxs(O,{variant:"outline",className:"w-full justify-start",onClick:()=>e("/help-feedback"),children:[s.jsx(SD,{className:"w-4 h-4 mr-2"}),"Help & Feedback"]}),s.jsxs(O,{variant:"outline",className:"w-full justify-start",onClick:P,children:[s.jsx(Gx,{className:"w-4 h-4 mr-2"}),"Sign Out"]}),(r==null?void 0:r.plan_name)==="Free Plan"&&s.jsxs(s.Fragment,{children:[s.jsx(xn,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-destructive",children:"Danger Zone"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Permanently delete your account and all associated data. This action cannot be undone."}),s.jsx(b$,{userEmail:m.email})]})]})]})]})]})]}),s.jsx(dc,{open:u,onOpenChange:f,currentPlan:(r==null?void 0:r.plan_name)||"Free Plan",feature:"upgrade your plan",limitType:"plan_upgrade"})]})},XE=()=>{const{currentLogoUrl:e}=hn();return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx("div",{className:"mb-6 min-h-[80px] flex items-center justify-center",children:e?s.jsx("img",{src:e,alt:"Logo",className:"h-20 w-auto max-w-[400px] mb-4"}):s.jsx("div",{className:"h-20 w-32 bg-muted/20 animate-pulse rounded"})}),s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-muted-foreground mb-6",children:"Oops! Page not found"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"The page you're looking for doesn't exist or has been moved."}),s.jsx(Re,{to:"/",children:s.jsxs(O,{className:"bg-gradient-primary hover:shadow-elevated transition-all duration-300",children:[s.jsx(Eh,{className:"w-4 h-4 mr-2"}),"Return to Dashboard"]})})]})})},sae=()=>{const e=Ie(),{currentLogoUrl:t}=hn();return h.useEffect(()=>{(async()=>{try{const{data:{session:n}}=await $.auth.getSession();await new Promise(a=>setTimeout(a,2e3)),e(n?"/dashboard":"/auth/login")}catch(n){console.error("Auth check error:",n),e("/auth/login")}})()},[e]),s.jsx("div",{className:"min-h-screen bg-slate-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"flex items-center justify-center min-h-[80px]",children:t&&s.jsx("img",{src:t,alt:"Logo",className:"h-12 sm:h-16 md:h-20 lg:h-24 w-auto max-w-[150px] sm:max-w-[200px] md:max-w-[300px] lg:max-w-[400px] object-contain",style:{display:"block"}})})}),s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})]})})},aae=({onToggle:e})=>{const[t,r]=h.useState(!1),n=()=>{const a=!t;r(a),e(a)};return s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-12",children:[s.jsx("span",{className:`text-lg font-medium transition-colors ${t?"text-muted-foreground":"text-primary"}`,children:"Monthly"}),s.jsx("button",{onClick:n,className:"relative inline-flex h-8 w-16 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",style:{backgroundColor:t?"hsl(var(--primary))":"hsl(var(--muted))"},"aria-label":"Toggle between monthly and yearly pricing",children:s.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${t?"translate-x-9":"translate-x-1"}`})}),s.jsxs("span",{className:`text-lg font-medium transition-colors ${t?"text-primary":"text-muted-foreground"}`,children:["Yearly",s.jsx("span",{className:"ml-2 text-sm text-green-600 font-semibold",children:"Save 17%"})]})]})},iae=({open:e,onOpenChange:t,plan:r})=>{const[n,a]=h.useState(""),[i,o]=h.useState(!1),l=async c=>{if(c.preventDefault(),!n||!n.includes("@")){re({title:"Invalid Email",description:"Please enter a valid email address",variant:"destructive"});return}o(!0);try{const{data:d,error:u}=await $.functions.invoke("waitlist",{body:{email:n,plan:r}});if(u)throw u;re({title:"Success!",description:d.message||"You've been added to the waitlist. We'll notify you when Gold launches!"}),a(""),t(!1)}catch(d){console.error("Waitlist error:",d),re({title:"Error",description:"Failed to join waitlist. Please try again.",variant:"destructive"})}finally{o(!1)}};return s.jsx(Xe,{open:e,onOpenChange:t,children:s.jsxs(Qe,{className:"sm:max-w-md",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Join the Gold Waitlist"}),s.jsx(En,{children:"Be the first to know when AI-powered features launch. We'll send you an email when Gold becomes available."})]}),s.jsxs("form",{onSubmit:l,className:"space-y-4 mt-4",children:[s.jsx(de,{type:"email",placeholder:"your.email@example.com",value:n,onChange:c=>a(c.target.value),disabled:i,required:!0,"aria-label":"Email address"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(O,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:i,className:"flex-1",children:"Cancel"}),s.jsx(O,{type:"submit",disabled:i,className:"flex-1",children:i?"Joining...":"Notify Me"})]})]})]})})};var Uv="Collapsible",[oae,w$]=ur(Uv),[lae,TS]=oae(Uv),j$=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,d]=cn({prop:n,defaultProp:a??!1,onChange:o,caller:Uv});return s.jsx(lae,{scope:r,disabled:i,contentId:sr(),open:c,onOpenToggle:h.useCallback(()=>d(u=>!u),[d]),children:s.jsx(we.div,{"data-state":RS(c),"data-disabled":i?"":void 0,...l,ref:t})})});j$.displayName=Uv;var N$="CollapsibleTrigger",S$=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=TS(N$,r);return s.jsx(we.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":RS(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:ge(e.onClick,a.onOpenToggle)})});S$.displayName=N$;var OS="CollapsibleContent",C$=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=TS(OS,e.__scopeCollapsible);return s.jsx(kr,{present:r||a.open,children:({present:i})=>s.jsx(cae,{...n,ref:t,present:i})})});C$.displayName=OS;var cae=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,o=TS(OS,r),[l,c]=h.useState(n),d=h.useRef(null),u=De(t,d),f=h.useRef(0),m=f.current,p=h.useRef(0),x=p.current,g=o.open||l,w=h.useRef(g),y=h.useRef(void 0);return h.useEffect(()=>{const v=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(v)},[]),Ft(()=>{const v=d.current;if(v){y.current=y.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const b=v.getBoundingClientRect();f.current=b.height,p.current=b.width,w.current||(v.style.transitionDuration=y.current.transitionDuration,v.style.animationName=y.current.animationName),c(n)}},[o.open,n]),s.jsx(we.div,{"data-state":RS(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:g&&a})});function RS(e){return e?"open":"closed"}var dae=j$,uae=S$,fae=C$,ha="Accordion",hae=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[DS,mae,pae]=Xd(ha),[Bv,WNe]=ur(ha,[pae,w$]),IS=w$(),_$=fe.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,i=n;return s.jsx(DS.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?s.jsx(yae,{...i,ref:t}):s.jsx(vae,{...a,ref:t})})});_$.displayName=ha;var[k$,gae]=Bv(ha),[E$,xae]=Bv(ha,{collapsible:!1}),vae=fe.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=cn({prop:r,defaultProp:n??"",onChange:a,caller:ha});return s.jsx(k$,{scope:e.__scopeAccordion,value:fe.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:fe.useCallback(()=>i&&c(""),[i,c]),children:s.jsx(E$,{scope:e.__scopeAccordion,collapsible:i,children:s.jsx(P$,{...o,ref:t})})})}),yae=fe.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=cn({prop:r,defaultProp:n??[],onChange:a,caller:ha}),c=fe.useCallback(u=>l((f=[])=>[...f,u]),[l]),d=fe.useCallback(u=>l((f=[])=>f.filter(m=>m!==u)),[l]);return s.jsx(k$,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:s.jsx(E$,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(P$,{...i,ref:t})})})}),[bae,zv]=Bv(ha),P$=fe.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...o}=e,l=fe.useRef(null),c=De(l,t),d=mae(r),f=ic(a)==="ltr",m=ge(e.onKeyDown,p=>{var k;if(!hae.includes(p.key))return;const x=p.target,g=d().filter(A=>{var P;return!((P=A.ref.current)!=null&&P.disabled)}),w=g.findIndex(A=>A.ref.current===x),y=g.length;if(w===-1)return;p.preventDefault();let v=w;const b=0,j=y-1,N=()=>{v=w+1,v>j&&(v=b)},S=()=>{v=w-1,v<b&&(v=j)};switch(p.key){case"Home":v=b;break;case"End":v=j;break;case"ArrowRight":i==="horizontal"&&(f?N():S());break;case"ArrowDown":i==="vertical"&&N();break;case"ArrowLeft":i==="horizontal"&&(f?S():N());break;case"ArrowUp":i==="vertical"&&S();break}const C=v%y;(k=g[C].ref.current)==null||k.focus()});return s.jsx(bae,{scope:r,disabled:n,direction:a,orientation:i,children:s.jsx(DS.Slot,{scope:r,children:s.jsx(we.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:m})})})}),Rg="AccordionItem",[wae,MS]=Bv(Rg),A$=fe.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,i=zv(Rg,r),o=gae(Rg,r),l=IS(r),c=sr(),d=n&&o.value.includes(n)||!1,u=i.disabled||e.disabled;return s.jsx(wae,{scope:r,open:d,disabled:u,triggerId:c,children:s.jsx(dae,{"data-orientation":i.orientation,"data-state":M$(d),...l,...a,ref:t,disabled:u,open:d,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});A$.displayName=Rg;var T$="AccordionHeader",O$=fe.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=zv(ha,r),i=MS(T$,r);return s.jsx(we.h3,{"data-orientation":a.orientation,"data-state":M$(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});O$.displayName=T$;var wj="AccordionTrigger",R$=fe.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=zv(ha,r),i=MS(wj,r),o=xae(wj,r),l=IS(r);return s.jsx(DS.ItemSlot,{scope:r,children:s.jsx(uae,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...n,ref:t})})});R$.displayName=wj;var D$="AccordionContent",I$=fe.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=zv(ha,r),i=MS(D$,r),o=IS(r);return s.jsx(fae,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});I$.displayName=D$;function M$(e){return e?"open":"closed"}var jae=_$,Nae=A$,Sae=O$,L$=R$,$$=I$;const F$=jae,dl=h.forwardRef(({className:e,...t},r)=>s.jsx(Nae,{ref:r,className:ne("border-b",e),...t}));dl.displayName="AccordionItem";const ul=h.forwardRef(({className:e,children:t,...r},n)=>s.jsx(Sae,{className:"flex",children:s.jsxs(L$,{ref:n,className:ne("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,s.jsx(Qs,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));ul.displayName=L$.displayName;const fl=h.forwardRef(({className:e,children:t,...r},n)=>s.jsx($$,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:s.jsx("div",{className:ne("pb-4 pt-0",e),children:t})}));fl.displayName=$$.displayName;const Cae=({className:e}={})=>{const t=[{question:"How do I save links from apps?",answer:"Simply use the share button on YouTube, Instagram, TikTok, or any platform and select Tagmentia from the share menu. On desktop, you can use our browser extension or manually paste links."},{question:"What are snapshots?",answer:"Snapshots are visual notes - screenshots you can attach to your saved links. They help you remember key moments, diagrams, or important information from videos or web content."},{question:"Can I switch plans anytime?",answer:"Yes! You can upgrade or downgrade your plan at any time. When you upgrade, you'll get immediate access to premium features. Downgrades take effect at the end of your current billing period."},{question:"Do you offer a free plan?",answer:"Absolutely! Our free plan includes basic categories, limited snapshots (5), notes & reminders, and search & filters. It's perfect for getting started and trying out Tagmentia."},{question:"What will Gold include?",answer:"Gold Plan features are currently unavailable. Premium Plan offers unlimited categories, unlimited videos per category, unlimited snapshots, and 500 MB storage quota."},{question:"How is my data stored?",answer:"Your data is securely stored using enterprise-grade encryption. We use Supabase with industry-standard security practices. Your videos stay on their original platforms - we only save the links and your notes."}];return s.jsx("section",{id:"faq",className:`py-20 px-6 ${e||"bg-gray-50"}`,children:s.jsxs("div",{className:"container mx-auto max-w-3xl",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Frequently Asked Questions"}),s.jsx("p",{className:"text-xl text-muted-foreground",children:"Everything you need to know about Tagmentia"})]}),s.jsx(F$,{type:"single",collapsible:!0,className:"w-full",children:t.map((r,n)=>s.jsxs(dl,{value:`item-${n}`,children:[s.jsx(ul,{className:"text-left text-lg font-semibold",children:r.question}),s.jsx(fl,{className:"text-muted-foreground text-base leading-relaxed",children:r.answer})]},n))})]})})},_ae="/assets/hero1-BNwXD4Ld.jpg",eP=()=>{const{currentLogoUrl:e}=hn(),t=Ie(),r=kn(),[n,a]=h.useState(!1),[i,o]=h.useState(!1);h.useState(""),h.useState(!1),h.useEffect(()=>{if(!ko.isNativePlatform())return;let d=null;return Zr(async()=>{const{App:u}=await import("./index-BJA2HfCG.js");return{App:u}},[]).then(({App:u})=>{const f=u.addListener("backButton",()=>{(r.pathname==="/"||r.pathname==="/home")&&u.exitApp()});d=()=>{f.remove()}}).catch(u=>{console.warn("Capacitor App plugin not available:",u)}),()=>{d==null||d()}},[r.pathname]);const l=()=>{t("/auth/login")},c=async d=>{d.preventDefault();try{const{data:u,error:f}=await $.rpc("get_system_setting_bool",{_key:"enable_new_user_registration"});if(f&&console.error("Failed to load registration setting",f),u===!1){re({title:"Registration Disabled",description:"New user registration is currently disabled by an administrator.",variant:"destructive"});return}t("/auth/signup")}catch(u){console.error("Error checking registration setting",u),re({title:"Registration Unavailable",description:"Please try again later.",variant:"destructive"})}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b border-border sticky top-0 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 z-50",style:{paddingTop:"env(safe-area-inset-top, 0px)"},children:s.jsx("div",{className:"container mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center",children:e&&s.jsx("img",{src:e,alt:"Tagmentia Logo",className:"h-12 sm:h-14 md:h-16 w-auto max-w-[200px] sm:max-w-[250px]"})}),s.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[s.jsx("a",{href:"#features",className:"text-muted-foreground hover:text-primary transition-colors",children:"Features"}),s.jsx("a",{href:"#pricing",className:"text-muted-foreground hover:text-primary transition-colors",children:"Pricing"}),s.jsx("a",{href:"#faq",className:"text-muted-foreground hover:text-primary transition-colors",children:"FAQ"}),s.jsx(O,{onClick:l,variant:"ghost",className:"text-muted-foreground hover:text-foreground",children:"Sign In"})]}),s.jsx("div",{className:"md:hidden",children:s.jsx(O,{onClick:c,size:"sm",className:"bg-primary hover:bg-primary/90 text-white",children:"Get Started Free"})}),s.jsx("div",{className:"hidden md:block",children:s.jsx(O,{onClick:c,className:"bg-primary hover:bg-primary/90 text-white",children:"Get Started Free"})})]})})}),s.jsx("section",{className:"py-20 px-6",children:s.jsx("div",{className:"container mx-auto max-w-7xl",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-5xl lg:text-6xl font-bold leading-tight mb-6",children:[s.jsx("span",{className:"text-foreground",children:"Save smarter."}),s.jsx("br",{}),s.jsx("span",{className:"bg-gradient-to-r from-primary via-primary-glow to-primary bg-clip-text text-transparent",children:"Organize faster."})]}),s.jsx("p",{className:"text-xl text-muted-foreground mb-8 leading-relaxed",children:"Transform chaotic social media saving into an organized, searchable content library with visual snapshots and contextual notes."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx(O,{onClick:c,size:"lg",className:"bg-primary hover:bg-primary/90 text-white px-8 py-6 text-base font-medium rounded-lg",children:"Get Started Free"}),s.jsx(O,{onClick:()=>{var d;(d=document.getElementById("pricing"))==null||d.scrollIntoView({behavior:"smooth"})},variant:"outline",size:"lg",className:"px-8 py-6 text-base font-medium rounded-lg border-2",children:"See Pricing"})]})]}),s.jsx("div",{className:"relative flex justify-center items-center",children:s.jsxs("div",{className:"relative transform hover:scale-105 transition-transform duration-500 group",children:[s.jsx("img",{src:_ae,alt:"Tagmentia dashboard showing organized categories and videos",className:"w-full max-w-4xl h-auto rounded-2xl shadow-elevated",loading:"eager"}),s.jsx("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:s.jsx("span",{className:"text-sm font-medium text-foreground bg-background/95 border border-border px-3 py-2 rounded-full shadow-lg",children:"Dashboard & Mobile"})})]})})]})})}),s.jsx("section",{id:"features",className:"py-20 px-6 bg-white",children:s.jsxs("div",{className:"container mx-auto max-w-6xl text-center",children:[s.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Everything You Need to Save & Organize"}),s.jsx("p",{className:"text-xl text-muted-foreground mb-16 max-w-3xl mx-auto",children:"Powerful features designed to keep your knowledge organized and accessible"}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[s.jsx(Y,{className:"p-8 text-center hover:shadow-lg transition-all duration-300 hover:-translate-y-1 bg-white",children:s.jsxs(X,{className:"pt-6",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(LW,{className:"w-8 h-8 text-blue-600"})}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Save & Categorize"}),s.jsx("p",{className:"text-muted-foreground",children:"One-tap add from YouTube, Instagram, TikTok, and more. Share directly to Tagmentia and organize instantly."})]})}),s.jsx(Y,{className:"p-8 text-center hover:shadow-lg transition-all duration-300 hover:-translate-y-1 bg-white",children:s.jsxs(X,{className:"pt-6",children:[s.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Mr,{className:"w-8 h-8 text-purple-600"})}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Screenshots (Visual Notes)"}),s.jsx("p",{className:"text-muted-foreground",children:"Attach screenshots to your saved links. Perfect for capturing key moments and diagrams."})]})}),s.jsx(Y,{className:"p-8 text-center hover:shadow-lg transition-all duration-300 hover:-translate-y-1 bg-white",children:s.jsxs(X,{className:"pt-6",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Qr,{className:"w-8 h-8 text-green-600"})}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Notes & Reminders"}),s.jsx("p",{className:"text-muted-foreground",children:"Add context and set follow-ups for any item. Never forget to revisit important content."})]})}),s.jsx(Y,{className:"p-8 text-center hover:shadow-lg transition-all duration-300 hover:-translate-y-1 bg-white",children:s.jsxs(X,{className:"pt-6",children:[s.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(vt,{className:"w-8 h-8 text-orange-600"})}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Fast Search & Filters"}),s.jsx("p",{className:"text-muted-foreground",children:"Find anything instantly by platform, category, or keyword. Your library, your way."})]})}),s.jsx(Y,{className:"p-8 text-center hover:shadow-lg transition-all duration-300 hover:-translate-y-1 bg-white",children:s.jsxs(X,{className:"pt-6",children:[s.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Qx,{className:"w-8 h-8 text-indigo-600"})}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Cross-Platform"}),s.jsx("p",{className:"text-muted-foreground",children:"Seamless experience across web and mobile. Your content syncs everywhere."})]})}),s.jsx(Y,{className:"p-8 text-center hover:shadow-lg transition-all duration-300 hover:-translate-y-1 bg-white border-2 border-primary/20",children:s.jsxs(X,{className:"pt-6",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-primary-glow rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(_1,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"AI Features Coming Soon"}),s.jsx("p",{className:"text-muted-foreground",children:"Smart summaries, auto-tags, and content recommendations coming soon."})]})})]})]})}),s.jsx("section",{id:"pricing",className:"py-20 px-6 bg-gray-50",children:s.jsxs("div",{className:"container mx-auto max-w-6xl text-center",children:[s.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Flexible Plans for Every Need"}),s.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Start for free, upgrade anytime. No credit card required."}),s.jsx(aae,{onToggle:a}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-8 max-w-2xl mx-auto",children:[s.jsx(Y,{className:"p-8 hover:shadow-lg transition-shadow w-full sm:w-[320px]",children:s.jsxs(X,{className:"pt-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-foreground mb-2",children:"Free"}),s.jsxs("div",{className:"text-4xl font-bold text-foreground mb-2",children:["$0",s.jsx("span",{className:"text-lg text-muted-foreground",children:"/mo"})]})]}),s.jsxs("ul",{className:"space-y-3 mb-8 text-left",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx(st,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-muted-foreground",children:"Basic categories"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(st,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-muted-foreground",children:"Limited snapshots (5)"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(st,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-muted-foreground",children:"Notes & reminders (basic)"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(st,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-muted-foreground",children:"Search & filters"})]})]}),s.jsx(O,{onClick:c,variant:"outline",className:"w-full",children:"Get Started"})]})}),s.jsxs(Y,{className:"p-8 border-2 border-primary shadow-xl relative transform scale-105 w-full sm:w-[320px]",children:[s.jsx(je,{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-primary text-white px-4 py-1",children:"Best Value"}),s.jsxs(X,{className:"pt-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-foreground mb-2",children:"Premium"}),s.jsxs("div",{className:"text-4xl font-bold text-foreground mb-2",children:["$",n?"2.50":"2.99",s.jsx("span",{className:"text-lg text-muted-foreground",children:"Get Started"})]}),n&&s.jsx("div",{className:"text-sm text-green-600 font-semibold",children:"$29.99 billed yearly"})]}),s.jsxs("ul",{className:"space-y-3 mb-8 text-left",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx(st,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-muted-foreground",children:"Unlimited categories"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(st,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-muted-foreground",children:"Unlimited videos per category"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(st,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-muted-foreground",children:"Unlimited snapshots"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(st,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-muted-foreground",children:"500 MB storage quota"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(st,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-muted-foreground",children:"Share categories (view/copy)"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(st,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-muted-foreground",children:"Priority support"})]})]}),s.jsx(O,{onClick:()=>t("/auth/signup"),className:"w-full bg-primary hover:bg-primary/90",children:"Get Started"})]})]})]})]})}),s.jsx("section",{className:"py-20 px-6 bg-gray-50",children:s.jsxs("div",{className:"container mx-auto max-w-6xl text-center",children:[s.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Loved by Thousands"}),s.jsx("p",{className:"text-xl text-muted-foreground mb-16",children:"Real stories from people who transformed their content organization"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsx(Y,{className:"p-8 bg-white hover:shadow-lg transition-shadow",children:s.jsxs(X,{className:"pt-6",children:[s.jsx("div",{className:"flex mb-4",role:"img","aria-label":"5 star rating",children:[...Array(5)].map((d,u)=>s.jsx(kb,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"},u))}),s.jsx("p",{className:"text-muted-foreground mb-6 italic",children:'"Tagmentia helps me keep my learning organized. I can finally find everything I saved!"'}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full mr-4"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-semibold text-foreground",children:"Sarah K."}),s.jsx("div",{className:"text-sm text-muted-foreground bg-white",children:"Graduate Student"})]})]})]})}),s.jsx(Y,{className:"p-8 bg-white hover:shadow-lg transition-shadow",children:s.jsxs(X,{className:"pt-6",children:[s.jsx("div",{className:"flex mb-4",role:"img","aria-label":"5 star rating",children:[...Array(5)].map((d,u)=>s.jsx(kb,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"},u))}),s.jsx("p",{className:"text-muted-foreground mb-6 italic",children:'"As a developer, I save tons of tutorial videos. Tagmentia keeps everything searchable."'}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full mr-4 border-2 border-muted"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-semibold text-foreground",children:"Mike R."}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Software Engineer"})]})]})]})}),s.jsx(Y,{className:"p-8 bg-white hover:shadow-lg transition-shadow",children:s.jsxs(X,{className:"pt-6",children:[s.jsx("div",{className:"flex mb-4",role:"img","aria-label":"5 star rating",children:[...Array(5)].map((d,u)=>s.jsx(kb,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"},u))}),s.jsx("p",{className:"text-muted-foreground mb-6 italic",children:'"The snapshot feature is brilliant! I capture key moments and find them instantly."'}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full mr-4"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-semibold text-foreground",children:"Jessica L."}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Content Creator"})]})]})]})})]})]})}),s.jsx(Cae,{className:"bg-white"}),s.jsx("section",{className:"py-20 px-6 bg-gradient-to-br from-primary to-primary-glow",children:s.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Ready to Get Organized?"}),s.jsx("p",{className:"text-xl text-white/90 mb-8",children:"Join thousands who save and organize content smarter with Tagmentia."}),s.jsx(O,{onClick:c,size:"lg",className:"bg-white text-primary hover:bg-white/90 px-8 py-4 text-lg font-semibold",children:"Get Started Free"})]})}),s.jsx("footer",{id:"contact",className:"py-16 px-6 bg-gray-900 text-white",children:s.jsxs("div",{className:"container mx-auto max-w-6xl",children:[s.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("div",{className:"flex items-center mb-4",children:e?s.jsx("img",{src:e,alt:"Tagmentia Logo",className:"h-16 w-auto max-w-[250px] object-contain mr-2"}):s.jsx("div",{className:"h-16 w-32 bg-muted/20 animate-pulse rounded mr-2"})}),s.jsx("p",{className:"text-gray-400 mb-4",children:"Save smarter, organize faster with intelligent categories, powerful search, and seamless syncing across all your devices."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-4",children:"Product"}),s.jsxs("ul",{className:"space-y-2 text-gray-400",children:[s.jsx("li",{children:s.jsx("a",{href:"#features",className:"hover:text-white transition-colors",children:"Features"})}),s.jsx("li",{children:s.jsx("a",{href:"#pricing",className:"hover:text-white transition-colors",children:"Pricing"})}),s.jsx("li",{children:s.jsx("a",{href:"#faq",className:"hover:text-white transition-colors",children:"FAQ"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-4",children:"Company"}),s.jsxs("ul",{className:"space-y-2 text-gray-400",children:[s.jsx("li",{children:s.jsx(Re,{to:"/support",className:"hover:text-white transition-colors",children:"Contact"})}),s.jsx("li",{children:s.jsx(Re,{to:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy"})}),s.jsx("li",{children:s.jsx(Re,{to:"/terms",className:"hover:text-white transition-colors",children:"Terms"})}),s.jsx("li",{children:s.jsx(Re,{to:"/support",className:"hover:text-white transition-colors",children:"Help"})})]})]})]}),s.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-400",children:s.jsx("p",{children:" 2025 Disinnova Ltd. All rights reserved."})})]})}),s.jsx(iae,{open:i,onOpenChange:o,plan:"gold"})]})};class kae{constructor(){Fa(this,"events",[]);Fa(this,"batchSize",10);Fa(this,"flushInterval",3e4);Fa(this,"sessionId");Fa(this,"failureAttempts",new Map);Fa(this,"lastFailureTime",new Map);this.sessionId=this.generateSessionId(),setInterval(()=>this.flush(),this.flushInterval),setInterval(()=>this.cleanupFailureTracking(),5*60*1e3)}async logEvent(t){const r={...t,timestamp:new Date().toISOString(),session_id:this.sessionId,ip_address:await this.getClientIP(),user_agent:navigator.userAgent,geographic_info:await this.getGeographicInfo(),details:{...t.details,browser_info:this.getBrowserFingerprint(),viewport:`${window.innerWidth}x${window.innerHeight}`,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language,platform:navigator.platform}};this.events.push(r),t.event_type==="auth_failure"&&await this.trackFailureAttempt(t.details.email||"unknown"),t.severity==="critical"&&await this.flush(),this.events.length>=this.batchSize&&await this.flush()}async logAuthFailure(t,r){const n=(this.failureAttempts.get(t)||0)+1,a=n>=5?"high":n>=3?"medium":"low";await this.logEvent({event_type:n>=5?"brute_force_attempt":"auth_failure",details:{email:t,reason:r,attempt_count:n,timestamp:Date.now()},severity:a})}async logPrivilegeEscalation(t,r){await this.logEvent({event_type:"privilege_escalation",user_id:t,details:{attemptedAction:r,timestamp:Date.now()},severity:"high"})}async logAdminAction(t,r,n,a){await this.logEvent({event_type:"admin_action",user_id:t,details:{action:r,targetUserId:n,timestamp:Date.now(),...a},severity:"medium"})}async logSuspiciousActivity(t,r,n){await this.logEvent({event_type:"suspicious_activity",user_id:t,details:{activity:r,timestamp:Date.now(),...n},severity:"high"})}async logRateLimitExceeded(t,r){await this.logEvent({event_type:"rate_limit_exceeded",details:{identifier:t,action:r,timestamp:Date.now()},severity:"medium"})}async logSessionAnomaly(t,r,n){await this.logEvent({event_type:"session_anomaly",user_id:t,details:{anomaly_type:r,timestamp:Date.now(),...n},severity:"high"})}async flush(){if(this.events.length===0)return;const t=[...this.events];this.events=[];try{const n=[...JSON.parse(localStorage.getItem("security_logs")||"[]"),...t].slice(-100);localStorage.setItem("security_logs",JSON.stringify(n));try{for(const i of t)await $.rpc("log_security_event",{p_event_type:i.event_type,p_user_id:i.user_id,p_details:i.details,p_severity:i.severity,p_ip_address:i.ip_address,p_user_agent:i.user_agent})}catch(i){console.error("Failed to log to security audit table:",i)}const a=t.filter(i=>i.severity==="critical"||i.severity==="high");if(a.length>0)try{await $.functions.invoke("security-monitor",{body:{events:a}})}catch(i){console.error("Failed to send critical security events to security monitor:",i)}}catch(r){console.error("Failed to flush security events:",r),this.events.unshift(...t)}}async getClientIP(){try{const t=await Promise.allSettled([fetch("https://api.ipify.org?format=json"),fetch("https://ipapi.co/json/"),fetch("https://httpbin.org/ip")]);for(const r of t)if(r.status==="fulfilled"&&r.value.ok){const n=await r.value.json();if(n.ip)return n.ip;if(n.query)return n.query}return await this.getIPFromWebRTC()||"unknown"}catch{return"unknown"}}async getIPFromWebRTC(){return new Promise(t=>{try{const r=new RTCPeerConnection({iceServers:[]}),n=()=>{};r.createDataChannel(""),r.createOffer().then(r.setLocalDescription.bind(r)).catch(n),r.onicecandidate=a=>{if(!a||!a.candidate||!a.candidate.candidate)return;const i=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/.exec(a.candidate.candidate);i&&(r.close(),t(i[1]))},setTimeout(()=>{r.close(),t(null)},1e3)}catch{t(null)}})}async getGeographicInfo(){try{const t=await fetch("https://ipapi.co/json/",{signal:AbortSignal.timeout(2e3)});if(t.ok){const r=await t.json();return{country:r.country_name,region:r.region,city:r.city}}}catch{}}getBrowserFingerprint(){var t;return{screen_resolution:`${screen.width}x${screen.height}`,color_depth:screen.colorDepth,pixel_ratio:window.devicePixelRatio,has_touch:"ontouchstart"in window,cookies_enabled:navigator.cookieEnabled,do_not_track:navigator.doNotTrack,plugins_count:((t=navigator.plugins)==null?void 0:t.length)||0,canvas_fingerprint:this.getCanvasFingerprint()}}getCanvasFingerprint(){try{const t=document.createElement("canvas"),r=t.getContext("2d");return r?(r.textBaseline="top",r.font="14px Arial",r.fillText("Security fingerprint",2,2),t.toDataURL().slice(-50)):"unavailable"}catch{return"unavailable"}}generateSessionId(){return"sess_"+Math.random().toString(36).substring(2)+"_"+Date.now().toString(36)}async trackFailureAttempt(t){const r=(this.failureAttempts.get(t)||0)+1;this.failureAttempts.set(t,r),this.lastFailureTime.set(t,Date.now())}cleanupFailureTracking(){const t=Date.now()-3e5;for(const[r,n]of this.lastFailureTime.entries())n<t&&(this.failureAttempts.delete(r),this.lastFailureTime.delete(r))}getRecentEvents(t=50){try{return JSON.parse(localStorage.getItem("security_logs")||"[]").slice(-t)}catch{return[]}}}const ti=new kae,tP=()=>{const e=Ie(),{currentLogoUrl:t}=hn(),[r,n]=h.useState({email:"",password:""}),[a,i]=h.useState(!1),[o,l]=h.useState(!1),[c,d]=h.useState(!1);h.useEffect(()=>{const x=w=>{w.key==="tagmentia_global_logo_config"&&window.location.reload()},g=()=>{window.location.reload()};return window.addEventListener("storage",x),window.addEventListener("logoConfigUpdated",g),()=>{window.removeEventListener("storage",x),window.removeEventListener("logoConfigUpdated",g)}},[]),h.useEffect(()=>{(async()=>{try{const{data:g,error:w}=await $.rpc("get_system_setting_bool",{_key:"google_oauth_enabled"});w&&console.error("Failed to load Google OAuth setting",w),d(g===!0)}catch(g){console.error("Error checking Google OAuth setting",g)}})()},[]);const u=(x,g)=>{n(w=>({...w,[x]:g}))},f=async x=>{var y,v,b,j,N;x.preventDefault(),l(!0);const g=Na(r.email),w=r.password;if(!F5(g)){re({title:"Invalid Email",description:"Please enter a valid email address",variant:"destructive"}),l(!1);return}if(!B5(`login_${g}`,5,15*60*1e3)){await ti.logRateLimitExceeded(g,"login_attempt"),re({title:"Too Many Attempts",description:"Please wait 15 minutes before trying again",variant:"destructive"}),l(!1);return}try{const{data:S,error:C}=await $.auth.signInWithPassword({email:g,password:w});if(C){(y=C.message)!=null&&y.includes("email")&&((v=C.message)!=null&&v.includes("confirm"))?re({title:"Email Verification Required",description:"Please check your email and click the verification link to complete your account setup.",variant:"destructive"}):(await ti.logAuthFailure(g,C.message),re({title:"Login Failed",description:"Invalid credentials. Please check your email and password.",variant:"destructive"})),l(!1);return}if(S.user){const A=(((b=S.user.user_metadata)==null?void 0:b.full_name)||((j=S.user.user_metadata)==null?void 0:j.name)||((N=S.user.email)==null?void 0:N.split("@")[0])||"there").split(" ")[0];re({title:`Welcome back ${A} !`,description:"You have successfully logged in."}),e("/dashboard")}}catch{re({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{l(!1)}},m=async()=>{l(!0);try{console.log("Attempting Google sign in...");const{error:x}=await $.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});x&&(console.error("Google sign in error:",x),re({title:"Google Sign In Failed",description:x.message||"Failed to sign in with Google. Please check if Google OAuth is configured in your Supabase project.",variant:"destructive"}))}catch(x){console.error("Google sign in catch error:",x),re({title:"Error",description:"Failed to sign in with Google. Please try again or check your internet connection.",variant:"destructive"})}finally{l(!1)}},p=async x=>{x.preventDefault();try{const{data:g,error:w}=await $.rpc("get_system_setting_bool",{_key:"enable_new_user_registration"});if(w&&console.error("Failed to load registration setting",w),g===!1){re({title:"Registration Disabled",description:"New user registration is currently disabled by an administrator.",variant:"destructive"});return}e("/auth/signup")}catch(g){console.error("Error checking registration setting",g),re({title:"Registration Unavailable",description:"Please try again later.",variant:"destructive"})}};return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsx("div",{className:"flex items-center justify-center mb-12 min-h-[80px]",children:t?s.jsx(Re,{to:"/",className:"cursor-pointer",children:s.jsx("img",{src:t,alt:"Logo",className:"h-20 w-auto max-w-[300px] hover:opacity-80 transition-opacity"})}):s.jsx("div",{className:"h-20 w-32 bg-muted/20 animate-pulse rounded"})}),s.jsx("h1",{className:"text-2xl font-semibold text-foreground mb-8 text-center",children:"Unlock Your Video Insights"}),s.jsxs("form",{onSubmit:f,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"email",className:"text-sm text-muted-foreground",children:"Enter your email"}),s.jsx(de,{id:"email",type:"email",placeholder:"example@example.com",value:r.email,onChange:x=>u("email",x.target.value),className:"bg-muted/50 border-border text-foreground placeholder:text-muted-foreground",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"password",className:"text-sm text-muted-foreground",children:"Enter your password"}),s.jsxs("div",{className:"relative",children:[s.jsx(de,{id:"password",type:a?"text":"password",placeholder:"********",value:r.password,onChange:x=>u("password",x.target.value),className:"bg-muted/50 border-border text-foreground placeholder:text-muted-foreground pr-10",required:!0}),s.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:a?s.jsx(xs,{className:"w-4 h-4"}):s.jsx(Mr,{className:"w-4 h-4"})})]})]}),s.jsx(O,{type:"submit",disabled:o||!r.email||!r.password,className:"w-full bg-primary hover:bg-primary/90 text-white py-3 rounded-xl font-medium",children:o?"Logging in...":"Log In"})]}),c&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center my-6",children:[s.jsx("div",{className:"flex-1 border-t border-border"}),s.jsx("span",{className:"px-4 text-sm text-muted-foreground",children:"or"}),s.jsx("div",{className:"flex-1 border-t border-border"})]}),s.jsx("div",{className:"space-y-3",children:s.jsx(O,{onClick:m,variant:"outline",disabled:o,className:"w-full py-3 rounded-xl border-border hover:bg-muted/50",children:o?"Connecting...":"Continue with Google"})})]}),s.jsxs("div",{className:"mt-8 text-center space-y-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",s.jsx("button",{onClick:p,className:"text-primary font-medium underline underline-offset-2",children:"Sign Up"})]}),s.jsx(Re,{to:"/auth/forgot-password",className:"text-sm text-primary font-medium block",children:"Forgot Password?"})]})]})})};var rP=1,Eae=.9,Pae=.8,Aae=.17,e0=.1,t0=.999,Tae=.9999,Oae=.99,Rae=/[\\\/_+.#"@\[\(\{&]/,Dae=/[\\\/_+.#"@\[\(\{&]/g,Iae=/[\s-]/,U$=/[\s-]/g;function jj(e,t,r,n,a,i,o){if(i===t.length)return a===e.length?rP:Oae;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(i),d=r.indexOf(c,a),u=0,f,m,p,x;d>=0;)f=jj(e,t,r,n,d+1,i+1,o),f>u&&(d===a?f*=rP:Rae.test(e.charAt(d-1))?(f*=Pae,p=e.slice(a,d-1).match(Dae),p&&a>0&&(f*=Math.pow(t0,p.length))):Iae.test(e.charAt(d-1))?(f*=Eae,x=e.slice(a,d-1).match(U$),x&&a>0&&(f*=Math.pow(t0,x.length))):(f*=Aae,a>0&&(f*=Math.pow(t0,d-a))),e.charAt(d)!==t.charAt(i)&&(f*=Tae)),(f<e0&&r.charAt(d-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(d-1)!==n.charAt(i))&&(m=jj(e,t,r,n,d+1,i+2,o),m*e0>f&&(f=m*e0)),f>u&&(u=f),d=r.indexOf(c,d+1);return o[l]=u,u}function nP(e){return e.toLowerCase().replace(U$," ")}function Mae(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,jj(e,t,nP(e),nP(t),0,0,{})}var Bu='[cmdk-group=""]',r0='[cmdk-group-items=""]',Lae='[cmdk-group-heading=""]',B$='[cmdk-item=""]',sP=`${B$}:not([aria-disabled="true"])`,Nj="cmdk-item-select",Ac="data-value",$ae=(e,t,r)=>Mae(e,t,r),z$=h.createContext(void 0),Yh=()=>h.useContext(z$),V$=h.createContext(void 0),LS=()=>h.useContext(V$),W$=h.createContext(void 0),q$=h.forwardRef((e,t)=>{let r=Tc(()=>{var D,L;return{search:"",value:(L=(D=e.value)!=null?D:e.defaultValue)!=null?L:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Tc(()=>new Set),a=Tc(()=>new Map),i=Tc(()=>new Map),o=Tc(()=>new Set),l=H$(e),{label:c,children:d,value:u,onValueChange:f,filter:m,shouldFilter:p,loop:x,disablePointerSelection:g=!1,vimBindings:w=!0,...y}=e,v=sr(),b=sr(),j=sr(),N=h.useRef(null),S=Yae();Kl(()=>{if(u!==void 0){let D=u.trim();r.current.value=D,C.emit()}},[u]),Kl(()=>{S(6,M)},[]);let C=h.useMemo(()=>({subscribe:D=>(o.current.add(D),()=>o.current.delete(D)),snapshot:()=>r.current,setState:(D,L,J)=>{var U,ee,G,ce;if(!Object.is(r.current[D],L)){if(r.current[D]=L,D==="search")E(),P(),S(1,_);else if(D==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let H=document.getElementById(j);H?H.focus():(U=document.getElementById(v))==null||U.focus()}if(S(7,()=>{var H;r.current.selectedItemId=(H=R())==null?void 0:H.id,C.emit()}),J||S(5,M),((ee=l.current)==null?void 0:ee.value)!==void 0){let H=L??"";(ce=(G=l.current).onValueChange)==null||ce.call(G,H);return}}C.emit()}},emit:()=>{o.current.forEach(D=>D())}}),[]),k=h.useMemo(()=>({value:(D,L,J)=>{var U;L!==((U=i.current.get(D))==null?void 0:U.value)&&(i.current.set(D,{value:L,keywords:J}),r.current.filtered.items.set(D,A(L,J)),S(2,()=>{P(),C.emit()}))},item:(D,L)=>(n.current.add(D),L&&(a.current.has(L)?a.current.get(L).add(D):a.current.set(L,new Set([D]))),S(3,()=>{E(),P(),r.current.value||_(),C.emit()}),()=>{i.current.delete(D),n.current.delete(D),r.current.filtered.items.delete(D);let J=R();S(4,()=>{E(),(J==null?void 0:J.getAttribute("id"))===D&&_(),C.emit()})}),group:D=>(a.current.has(D)||a.current.set(D,new Set),()=>{i.current.delete(D),a.current.delete(D)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:v,inputId:j,labelId:b,listInnerRef:N}),[]);function A(D,L){var J,U;let ee=(U=(J=l.current)==null?void 0:J.filter)!=null?U:$ae;return D?ee(D,r.current.search,L):0}function P(){if(!r.current.search||l.current.shouldFilter===!1)return;let D=r.current.filtered.items,L=[];r.current.filtered.groups.forEach(U=>{let ee=a.current.get(U),G=0;ee.forEach(ce=>{let H=D.get(ce);G=Math.max(H,G)}),L.push([U,G])});let J=N.current;T().sort((U,ee)=>{var G,ce;let H=U.getAttribute("id"),q=ee.getAttribute("id");return((G=D.get(q))!=null?G:0)-((ce=D.get(H))!=null?ce:0)}).forEach(U=>{let ee=U.closest(r0);ee?ee.appendChild(U.parentElement===ee?U:U.closest(`${r0} > *`)):J.appendChild(U.parentElement===J?U:U.closest(`${r0} > *`))}),L.sort((U,ee)=>ee[1]-U[1]).forEach(U=>{var ee;let G=(ee=N.current)==null?void 0:ee.querySelector(`${Bu}[${Ac}="${encodeURIComponent(U[0])}"]`);G==null||G.parentElement.appendChild(G)})}function _(){let D=T().find(J=>J.getAttribute("aria-disabled")!=="true"),L=D==null?void 0:D.getAttribute(Ac);C.setState("value",L||void 0)}function E(){var D,L,J,U;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ee=0;for(let G of n.current){let ce=(L=(D=i.current.get(G))==null?void 0:D.value)!=null?L:"",H=(U=(J=i.current.get(G))==null?void 0:J.keywords)!=null?U:[],q=A(ce,H);r.current.filtered.items.set(G,q),q>0&&ee++}for(let[G,ce]of a.current)for(let H of ce)if(r.current.filtered.items.get(H)>0){r.current.filtered.groups.add(G);break}r.current.filtered.count=ee}function M(){var D,L,J;let U=R();U&&(((D=U.parentElement)==null?void 0:D.firstChild)===U&&((J=(L=U.closest(Bu))==null?void 0:L.querySelector(Lae))==null||J.scrollIntoView({block:"nearest"})),U.scrollIntoView({block:"nearest"}))}function R(){var D;return(D=N.current)==null?void 0:D.querySelector(`${B$}[aria-selected="true"]`)}function T(){var D;return Array.from(((D=N.current)==null?void 0:D.querySelectorAll(sP))||[])}function B(D){let L=T()[D];L&&C.setState("value",L.getAttribute(Ac))}function K(D){var L;let J=R(),U=T(),ee=U.findIndex(ce=>ce===J),G=U[ee+D];(L=l.current)!=null&&L.loop&&(G=ee+D<0?U[U.length-1]:ee+D===U.length?U[0]:U[ee+D]),G&&C.setState("value",G.getAttribute(Ac))}function z(D){let L=R(),J=L==null?void 0:L.closest(Bu),U;for(;J&&!U;)J=D>0?Gae(J,Bu):Kae(J,Bu),U=J==null?void 0:J.querySelector(sP);U?C.setState("value",U.getAttribute(Ac)):K(D)}let V=()=>B(T().length-1),F=D=>{D.preventDefault(),D.metaKey?V():D.altKey?z(1):K(1)},W=D=>{D.preventDefault(),D.metaKey?B(0):D.altKey?z(-1):K(-1)};return h.createElement(we.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:D=>{var L;(L=y.onKeyDown)==null||L.call(y,D);let J=D.nativeEvent.isComposing||D.keyCode===229;if(!(D.defaultPrevented||J))switch(D.key){case"n":case"j":{w&&D.ctrlKey&&F(D);break}case"ArrowDown":{F(D);break}case"p":case"k":{w&&D.ctrlKey&&W(D);break}case"ArrowUp":{W(D);break}case"Home":{D.preventDefault(),B(0);break}case"End":{D.preventDefault(),V();break}case"Enter":{D.preventDefault();let U=R();if(U){let ee=new Event(Nj);U.dispatchEvent(ee)}}}}},h.createElement("label",{"cmdk-label":"",htmlFor:k.inputId,id:k.labelId,style:Jae},c),Vv(e,D=>h.createElement(V$.Provider,{value:C},h.createElement(z$.Provider,{value:k},D))))}),Fae=h.forwardRef((e,t)=>{var r,n;let a=sr(),i=h.useRef(null),o=h.useContext(W$),l=Yh(),c=H$(e),d=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;Kl(()=>{if(!d)return l.item(a,o==null?void 0:o.id)},[d]);let u=G$(a,i,[e.value,e.children,i],e.keywords),f=LS(),m=Po(S=>S.value&&S.value===u.current),p=Po(S=>d||l.filter()===!1?!0:S.search?S.filtered.items.get(a)>0:!0);h.useEffect(()=>{let S=i.current;if(!(!S||e.disabled))return S.addEventListener(Nj,x),()=>S.removeEventListener(Nj,x)},[p,e.onSelect,e.disabled]);function x(){var S,C;g(),(C=(S=c.current).onSelect)==null||C.call(S,u.current)}function g(){f.setState("value",u.current,!0)}if(!p)return null;let{disabled:w,value:y,onSelect:v,forceMount:b,keywords:j,...N}=e;return h.createElement(we.div,{ref:li(i,t),...N,id:a,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!m,"data-disabled":!!w,"data-selected":!!m,onPointerMove:w||l.getDisablePointerSelection()?void 0:g,onClick:w?void 0:x},e.children)}),Uae=h.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...i}=e,o=sr(),l=h.useRef(null),c=h.useRef(null),d=sr(),u=Yh(),f=Po(p=>a||u.filter()===!1?!0:p.search?p.filtered.groups.has(o):!0);Kl(()=>u.group(o),[]),G$(o,l,[e.value,e.heading,c]);let m=h.useMemo(()=>({id:o,forceMount:a}),[a]);return h.createElement(we.div,{ref:li(l,t),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&h.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),Vv(e,p=>h.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},h.createElement(W$.Provider,{value:m},p))))}),Bae=h.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=h.useRef(null),i=Po(o=>!o.search);return!r&&!i?null:h.createElement(we.div,{ref:li(a,t),...n,"cmdk-separator":"",role:"separator"})}),zae=h.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,i=LS(),o=Po(d=>d.search),l=Po(d=>d.selectedItemId),c=Yh();return h.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),h.createElement(we.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:d=>{a||i.setState("search",d.target.value),r==null||r(d.target.value)}})}),Vae=h.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,i=h.useRef(null),o=h.useRef(null),l=Po(d=>d.selectedItemId),c=Yh();return h.useEffect(()=>{if(o.current&&i.current){let d=o.current,u=i.current,f,m=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=d.offsetHeight;u.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return m.observe(d),()=>{cancelAnimationFrame(f),m.unobserve(d)}}},[]),h.createElement(we.div,{ref:li(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},Vv(e,d=>h.createElement("div",{ref:li(o,c.listInnerRef),"cmdk-list-sizer":""},d)))}),Wae=h.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:i,container:o,...l}=e;return h.createElement(kv,{open:r,onOpenChange:n},h.createElement(Ev,{container:o},h.createElement(cu,{"cmdk-overlay":"",className:a}),h.createElement(du,{"aria-label":e.label,"cmdk-dialog":"",className:i},h.createElement(q$,{ref:t,...l}))))}),qae=h.forwardRef((e,t)=>Po(r=>r.filtered.count===0)?h.createElement(we.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Hae=h.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...i}=e;return h.createElement(we.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Vv(e,o=>h.createElement("div",{"aria-hidden":!0},o)))}),Pn=Object.assign(q$,{List:Vae,Item:Fae,Input:zae,Group:Uae,Separator:Bae,Dialog:Wae,Empty:qae,Loading:Hae});function Gae(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Kae(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function H$(e){let t=h.useRef(e);return Kl(()=>{t.current=e}),t}var Kl=typeof window>"u"?h.useEffect:h.useLayoutEffect;function Tc(e){let t=h.useRef();return t.current===void 0&&(t.current=e()),t}function Po(e){let t=LS(),r=()=>e(t.snapshot());return h.useSyncExternalStore(t.subscribe,r,r)}function G$(e,t,r,n=[]){let a=h.useRef(),i=Yh();return Kl(()=>{var o;let l=(()=>{var d;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=n.map(d=>d.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(Ac,l),a.current=l}),a}var Yae=()=>{let[e,t]=h.useState(),r=Tc(()=>new Map);return Kl(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function Qae(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Vv({asChild:e,children:t},r){return e&&h.isValidElement(t)?h.cloneElement(Qae(t),{ref:t.ref},r(t.props.children)):r(t)}var Jae={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const $S=h.forwardRef(({className:e,...t},r)=>s.jsx(Pn,{ref:r,className:ne("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));$S.displayName=Pn.displayName;const FS=h.forwardRef(({className:e,...t},r)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(vt,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(Pn.Input,{ref:r,className:ne("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));FS.displayName=Pn.Input.displayName;const US=h.forwardRef(({className:e,...t},r)=>s.jsx(Pn.List,{ref:r,className:ne("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));US.displayName=Pn.List.displayName;const BS=h.forwardRef((e,t)=>s.jsx(Pn.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));BS.displayName=Pn.Empty.displayName;const zS=h.forwardRef(({className:e,...t},r)=>s.jsx(Pn.Group,{ref:r,className:ne("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));zS.displayName=Pn.Group.displayName;const Zae=h.forwardRef(({className:e,...t},r)=>s.jsx(Pn.Separator,{ref:r,className:ne("-mx-1 h-px bg-border",e),...t}));Zae.displayName=Pn.Separator.displayName;const VS=h.forwardRef(({className:e,...t},r)=>s.jsx(Pn.Item,{ref:r,className:ne("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));VS.displayName=Pn.Item.displayName;var Wv="Popover",[K$,qNe]=ur(Wv,[$o]),Qh=$o(),[Xae,Vo]=K$(Wv),Y$=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Qh(t),c=h.useRef(null),[d,u]=h.useState(!1),[f,m]=cn({prop:n,defaultProp:a??!1,onChange:i,caller:Wv});return s.jsx(ev,{...l,children:s.jsx(Xae,{scope:t,contentId:sr(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:d,onCustomAnchorAdd:h.useCallback(()=>u(!0),[]),onCustomAnchorRemove:h.useCallback(()=>u(!1),[]),modal:o,children:r})})};Y$.displayName=Wv;var Q$="PopoverAnchor",eie=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Vo(Q$,r),i=Qh(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return h.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Th,{...i,...n,ref:t})});eie.displayName=Q$;var J$="PopoverTrigger",Z$=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Vo(J$,r),i=Qh(r),o=De(t,a.triggerRef),l=s.jsx(we.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":nF(a.open),...n,ref:o,onClick:ge(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Th,{asChild:!0,...i,children:l})});Z$.displayName=J$;var WS="PopoverPortal",[tie,rie]=K$(WS,{forceMount:void 0}),X$=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Vo(WS,t);return s.jsx(tie,{scope:t,forceMount:r,children:s.jsx(kr,{present:r||i.open,children:s.jsx(eu,{asChild:!0,container:a,children:n})})})};X$.displayName=WS;var Od="PopoverContent",eF=h.forwardRef((e,t)=>{const r=rie(Od,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Vo(Od,e.__scopePopover);return s.jsx(kr,{present:n||i.open,children:i.modal?s.jsx(sie,{...a,ref:t}):s.jsx(aie,{...a,ref:t})})});eF.displayName=Od;var nie=jo("PopoverContent.RemoveScroll"),sie=h.forwardRef((e,t)=>{const r=Vo(Od,e.__scopePopover),n=h.useRef(null),a=De(t,n),i=h.useRef(!1);return h.useEffect(()=>{const o=n.current;if(o)return mv(o)},[]),s.jsx(Lh,{as:nie,allowPinchZoom:!0,children:s.jsx(tF,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ge(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ge(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),aie=h.forwardRef((e,t)=>{const r=Vo(Od,e.__scopePopover),n=h.useRef(!1),a=h.useRef(!1);return s.jsx(tF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),tF=h.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,m=Vo(Od,r),p=Qh(r);return hv(),s.jsx(Ih,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(rc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:s.jsx(tv,{"data-state":nF(m.open),role:"dialog",id:m.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),rF="PopoverClose",iie=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Vo(rF,r);return s.jsx(we.button,{type:"button",...n,ref:t,onClick:ge(e.onClick,()=>a.onOpenChange(!1))})});iie.displayName=rF;var oie="PopoverArrow",lie=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Qh(r);return s.jsx(rv,{...a,...n,ref:t})});lie.displayName=oie;function nF(e){return e?"open":"closed"}var cie=Y$,die=Z$,uie=X$,sF=eF;const aF=cie,iF=die,qS=h.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(uie,{children:s.jsx(sF,{ref:a,align:t,sideOffset:r,className:ne("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));qS.displayName=sF.displayName;const n0=[{code:"US",name:"United States",flag:"",dialCode:"+1"},{code:"CA",name:"Canada",flag:"",dialCode:"+1"},{code:"GB",name:"United Kingdom",flag:"",dialCode:"+44"},{code:"AU",name:"Australia",flag:"",dialCode:"+61"},{code:"DE",name:"Germany",flag:"",dialCode:"+49"},{code:"FR",name:"France",flag:"",dialCode:"+33"},{code:"IT",name:"Italy",flag:"",dialCode:"+39"},{code:"ES",name:"Spain",flag:"",dialCode:"+34"},{code:"NL",name:"Netherlands",flag:"",dialCode:"+31"},{code:"BE",name:"Belgium",flag:"",dialCode:"+32"},{code:"CH",name:"Switzerland",flag:"",dialCode:"+41"},{code:"AT",name:"Austria",flag:"",dialCode:"+43"},{code:"DK",name:"Denmark",flag:"",dialCode:"+45"},{code:"SE",name:"Sweden",flag:"",dialCode:"+46"},{code:"NO",name:"Norway",flag:"",dialCode:"+47"},{code:"FI",name:"Finland",flag:"",dialCode:"+358"},{code:"PL",name:"Poland",flag:"",dialCode:"+48"},{code:"CZ",name:"Czech Republic",flag:"",dialCode:"+420"},{code:"HU",name:"Hungary",flag:"",dialCode:"+36"},{code:"RO",name:"Romania",flag:"",dialCode:"+40"},{code:"BG",name:"Bulgaria",flag:"",dialCode:"+359"},{code:"HR",name:"Croatia",flag:"",dialCode:"+385"},{code:"SI",name:"Slovenia",flag:"",dialCode:"+386"},{code:"SK",name:"Slovakia",flag:"",dialCode:"+421"},{code:"EE",name:"Estonia",flag:"",dialCode:"+372"},{code:"LV",name:"Latvia",flag:"",dialCode:"+371"},{code:"LT",name:"Lithuania",flag:"",dialCode:"+370"},{code:"IE",name:"Ireland",flag:"",dialCode:"+353"},{code:"PT",name:"Portugal",flag:"",dialCode:"+351"},{code:"GR",name:"Greece",flag:"",dialCode:"+30"},{code:"CY",name:"Cyprus",flag:"",dialCode:"+357"},{code:"MT",name:"Malta",flag:"",dialCode:"+356"},{code:"LU",name:"Luxembourg",flag:"",dialCode:"+352"},{code:"IS",name:"Iceland",flag:"",dialCode:"+354"},{code:"LI",name:"Liechtenstein",flag:"",dialCode:"+423"},{code:"MC",name:"Monaco",flag:"",dialCode:"+377"},{code:"SM",name:"San Marino",flag:"",dialCode:"+378"},{code:"VA",name:"Vatican City",flag:"",dialCode:"+39"},{code:"AD",name:"Andorra",flag:"",dialCode:"+376"},{code:"RU",name:"Russia",flag:"",dialCode:"+7"},{code:"BY",name:"Belarus",flag:"",dialCode:"+375"},{code:"UA",name:"Ukraine",flag:"",dialCode:"+380"},{code:"MD",name:"Moldova",flag:"",dialCode:"+373"},{code:"RS",name:"Serbia",flag:"",dialCode:"+381"},{code:"ME",name:"Montenegro",flag:"",dialCode:"+382"},{code:"BA",name:"Bosnia and Herzegovina",flag:"",dialCode:"+387"},{code:"MK",name:"North Macedonia",flag:"",dialCode:"+389"},{code:"AL",name:"Albania",flag:"",dialCode:"+355"},{code:"XK",name:"Kosovo",flag:"",dialCode:"+383"},{code:"TR",name:"Turkey",flag:"",dialCode:"+90"},{code:"CN",name:"China",flag:"",dialCode:"+86"},{code:"JP",name:"Japan",flag:"",dialCode:"+81"},{code:"KR",name:"South Korea",flag:"",dialCode:"+82"},{code:"IN",name:"India",flag:"",dialCode:"+91"},{code:"PK",name:"Pakistan",flag:"",dialCode:"+92"},{code:"BD",name:"Bangladesh",flag:"",dialCode:"+880"},{code:"LK",name:"Sri Lanka",flag:"",dialCode:"+94"},{code:"MV",name:"Maldives",flag:"",dialCode:"+960"},{code:"NP",name:"Nepal",flag:"",dialCode:"+977"},{code:"BT",name:"Bhutan",flag:"",dialCode:"+975"},{code:"AF",name:"Afghanistan",flag:"",dialCode:"+93"},{code:"TH",name:"Thailand",flag:"",dialCode:"+66"},{code:"VN",name:"Vietnam",flag:"",dialCode:"+84"},{code:"MM",name:"Myanmar",flag:"",dialCode:"+95"},{code:"KH",name:"Cambodia",flag:"",dialCode:"+855"},{code:"LA",name:"Laos",flag:"",dialCode:"+856"},{code:"MY",name:"Malaysia",flag:"",dialCode:"+60"},{code:"SG",name:"Singapore",flag:"",dialCode:"+65"},{code:"ID",name:"Indonesia",flag:"",dialCode:"+62"},{code:"PH",name:"Philippines",flag:"",dialCode:"+63"},{code:"BN",name:"Brunei",flag:"",dialCode:"+673"},{code:"TL",name:"Timor-Leste",flag:"",dialCode:"+670"},{code:"NZ",name:"New Zealand",flag:"",dialCode:"+64"},{code:"FJ",name:"Fiji",flag:"",dialCode:"+679"},{code:"PG",name:"Papua New Guinea",flag:"",dialCode:"+675"},{code:"SB",name:"Solomon Islands",flag:"",dialCode:"+677"},{code:"VU",name:"Vanuatu",flag:"",dialCode:"+678"},{code:"NC",name:"New Caledonia",flag:"",dialCode:"+687"},{code:"PF",name:"French Polynesia",flag:"",dialCode:"+689"},{code:"WS",name:"Samoa",flag:"",dialCode:"+685"},{code:"TO",name:"Tonga",flag:"",dialCode:"+676"},{code:"KI",name:"Kiribati",flag:"",dialCode:"+686"},{code:"PW",name:"Palau",flag:"",dialCode:"+680"},{code:"FM",name:"Micronesia",flag:"",dialCode:"+691"},{code:"MH",name:"Marshall Islands",flag:"",dialCode:"+692"},{code:"NR",name:"Nauru",flag:"",dialCode:"+674"},{code:"TV",name:"Tuvalu",flag:"",dialCode:"+688"},{code:"CK",name:"Cook Islands",flag:"",dialCode:"+682"},{code:"NU",name:"Niue",flag:"",dialCode:"+683"},{code:"TK",name:"Tokelau",flag:"",dialCode:"+690"},{code:"ZA",name:"South Africa",flag:"",dialCode:"+27"},{code:"EG",name:"Egypt",flag:"",dialCode:"+20"},{code:"LY",name:"Libya",flag:"",dialCode:"+218"},{code:"TN",name:"Tunisia",flag:"",dialCode:"+216"},{code:"DZ",name:"Algeria",flag:"",dialCode:"+213"},{code:"MA",name:"Morocco",flag:"",dialCode:"+212"},{code:"EH",name:"Western Sahara",flag:"",dialCode:"+212"},{code:"SD",name:"Sudan",flag:"",dialCode:"+249"},{code:"SS",name:"South Sudan",flag:"",dialCode:"+211"},{code:"ET",name:"Ethiopia",flag:"",dialCode:"+251"},{code:"ER",name:"Eritrea",flag:"",dialCode:"+291"},{code:"DJ",name:"Djibouti",flag:"",dialCode:"+253"},{code:"SO",name:"Somalia",flag:"",dialCode:"+252"},{code:"KE",name:"Kenya",flag:"",dialCode:"+254"},{code:"UG",name:"Uganda",flag:"",dialCode:"+256"},{code:"TZ",name:"Tanzania",flag:"",dialCode:"+255"},{code:"RW",name:"Rwanda",flag:"",dialCode:"+250"},{code:"BI",name:"Burundi",flag:"",dialCode:"+257"},{code:"MG",name:"Madagascar",flag:"",dialCode:"+261"},{code:"MU",name:"Mauritius",flag:"",dialCode:"+230"},{code:"SC",name:"Seychelles",flag:"",dialCode:"+248"},{code:"KM",name:"Comoros",flag:"",dialCode:"+269"},{code:"YT",name:"Mayotte",flag:"",dialCode:"+262"},{code:"RE",name:"Runion",flag:"",dialCode:"+262"},{code:"ZM",name:"Zambia",flag:"",dialCode:"+260"},{code:"ZW",name:"Zimbabwe",flag:"",dialCode:"+263"},{code:"BW",name:"Botswana",flag:"",dialCode:"+267"},{code:"NA",name:"Namibia",flag:"",dialCode:"+264"},{code:"SZ",name:"Eswatini",flag:"",dialCode:"+268"},{code:"LS",name:"Lesotho",flag:"",dialCode:"+266"},{code:"MW",name:"Malawi",flag:"",dialCode:"+265"},{code:"MZ",name:"Mozambique",flag:"",dialCode:"+258"},{code:"AO",name:"Angola",flag:"",dialCode:"+244"},{code:"CM",name:"Cameroon",flag:"",dialCode:"+237"},{code:"CF",name:"Central African Republic",flag:"",dialCode:"+236"},{code:"TD",name:"Chad",flag:"",dialCode:"+235"},{code:"CG",name:"Congo (Republic)",flag:"",dialCode:"+242"},{code:"CD",name:"Congo (Democratic Republic)",flag:"",dialCode:"+243"},{code:"GA",name:"Gabon",flag:"",dialCode:"+241"},{code:"GQ",name:"Equatorial Guinea",flag:"",dialCode:"+240"},{code:"ST",name:"So Tom and Prncipe",flag:"",dialCode:"+239"},{code:"GH",name:"Ghana",flag:"",dialCode:"+233"},{code:"TG",name:"Togo",flag:"",dialCode:"+228"},{code:"BJ",name:"Benin",flag:"",dialCode:"+229"},{code:"NE",name:"Niger",flag:"",dialCode:"+227"},{code:"BF",name:"Burkina Faso",flag:"",dialCode:"+226"},{code:"ML",name:"Mali",flag:"",dialCode:"+223"},{code:"SN",name:"Senegal",flag:"",dialCode:"+221"},{code:"GM",name:"Gambia",flag:"",dialCode:"+220"},{code:"GW",name:"Guinea-Bissau",flag:"",dialCode:"+245"},{code:"GN",name:"Guinea",flag:"",dialCode:"+224"},{code:"SL",name:"Sierra Leone",flag:"",dialCode:"+232"},{code:"LR",name:"Liberia",flag:"",dialCode:"+231"},{code:"CI",name:"Cte d'Ivoire",flag:"",dialCode:"+225"},{code:"CV",name:"Cape Verde",flag:"",dialCode:"+238"},{code:"MR",name:"Mauritania",flag:"",dialCode:"+222"},{code:"BR",name:"Brazil",flag:"",dialCode:"+55"},{code:"AR",name:"Argentina",flag:"",dialCode:"+54"},{code:"CL",name:"Chile",flag:"",dialCode:"+56"},{code:"CO",name:"Colombia",flag:"",dialCode:"+57"},{code:"VE",name:"Venezuela",flag:"",dialCode:"+58"},{code:"GY",name:"Guyana",flag:"",dialCode:"+592"},{code:"SR",name:"Suriname",flag:"",dialCode:"+597"},{code:"GF",name:"French Guiana",flag:"",dialCode:"+594"},{code:"UY",name:"Uruguay",flag:"",dialCode:"+598"},{code:"PY",name:"Paraguay",flag:"",dialCode:"+595"},{code:"BO",name:"Bolivia",flag:"",dialCode:"+591"},{code:"PE",name:"Peru",flag:"",dialCode:"+51"},{code:"EC",name:"Ecuador",flag:"",dialCode:"+593"},{code:"MX",name:"Mexico",flag:"",dialCode:"+52"},{code:"GT",name:"Guatemala",flag:"",dialCode:"+502"},{code:"BZ",name:"Belize",flag:"",dialCode:"+501"},{code:"SV",name:"El Salvador",flag:"",dialCode:"+503"},{code:"HN",name:"Honduras",flag:"",dialCode:"+504"},{code:"NI",name:"Nicaragua",flag:"",dialCode:"+505"},{code:"CR",name:"Costa Rica",flag:"",dialCode:"+506"},{code:"PA",name:"Panama",flag:"",dialCode:"+507"},{code:"CU",name:"Cuba",flag:"",dialCode:"+53"},{code:"JM",name:"Jamaica",flag:"",dialCode:"+1876"},{code:"HT",name:"Haiti",flag:"",dialCode:"+509"},{code:"DO",name:"Dominican Republic",flag:"",dialCode:"+1809"},{code:"PR",name:"Puerto Rico",flag:"",dialCode:"+1787"},{code:"TT",name:"Trinidad and Tobago",flag:"",dialCode:"+1868"},{code:"BB",name:"Barbados",flag:"",dialCode:"+1246"},{code:"GD",name:"Grenada",flag:"",dialCode:"+1473"},{code:"VC",name:"Saint Vincent and the Grenadines",flag:"",dialCode:"+1784"},{code:"LC",name:"Saint Lucia",flag:"",dialCode:"+1758"},{code:"DM",name:"Dominica",flag:"",dialCode:"+1767"},{code:"AG",name:"Antigua and Barbuda",flag:"",dialCode:"+1268"},{code:"KN",name:"Saint Kitts and Nevis",flag:"",dialCode:"+1869"},{code:"BS",name:"Bahamas",flag:"",dialCode:"+1242"},{code:"BM",name:"Bermuda",flag:"",dialCode:"+1441"},{code:"TC",name:"Turks and Caicos Islands",flag:"",dialCode:"+1649"},{code:"KY",name:"Cayman Islands",flag:"",dialCode:"+1345"},{code:"VI",name:"U.S. Virgin Islands",flag:"",dialCode:"+1340"},{code:"VG",name:"British Virgin Islands",flag:"",dialCode:"+1284"},{code:"AI",name:"Anguilla",flag:"",dialCode:"+1264"},{code:"MS",name:"Montserrat",flag:"",dialCode:"+1664"},{code:"GP",name:"Guadeloupe",flag:"",dialCode:"+590"},{code:"MQ",name:"Martinique",flag:"",dialCode:"+596"},{code:"BL",name:"Saint Barthlemy",flag:"",dialCode:"+590"},{code:"MF",name:"Saint Martin",flag:"",dialCode:"+590"},{code:"SX",name:"Sint Maarten",flag:"",dialCode:"+1721"},{code:"CW",name:"Curaao",flag:"",dialCode:"+599"},{code:"AW",name:"Aruba",flag:"",dialCode:"+297"},{code:"BQ",name:"Caribbean Netherlands",flag:"",dialCode:"+599"},{code:"SA",name:"Saudi Arabia",flag:"",dialCode:"+966"},{code:"AE",name:"United Arab Emirates",flag:"",dialCode:"+971"},{code:"QA",name:"Qatar",flag:"",dialCode:"+974"},{code:"BH",name:"Bahrain",flag:"",dialCode:"+973"},{code:"KW",name:"Kuwait",flag:"",dialCode:"+965"},{code:"OM",name:"Oman",flag:"",dialCode:"+968"},{code:"YE",name:"Yemen",flag:"",dialCode:"+967"},{code:"IQ",name:"Iraq",flag:"",dialCode:"+964"},{code:"SY",name:"Syria",flag:"",dialCode:"+963"},{code:"LB",name:"Lebanon",flag:"",dialCode:"+961"},{code:"JO",name:"Jordan",flag:"",dialCode:"+962"},{code:"IL",name:"Israel",flag:"",dialCode:"+972"},{code:"PS",name:"Palestine",flag:"",dialCode:"+970"},{code:"IR",name:"Iran",flag:"",dialCode:"+98"},{code:"AM",name:"Armenia",flag:"",dialCode:"+374"},{code:"AZ",name:"Azerbaijan",flag:"",dialCode:"+994"},{code:"GE",name:"Georgia",flag:"",dialCode:"+995"},{code:"KZ",name:"Kazakhstan",flag:"",dialCode:"+7"},{code:"KG",name:"Kyrgyzstan",flag:"",dialCode:"+996"},{code:"TJ",name:"Tajikistan",flag:"",dialCode:"+992"},{code:"TM",name:"Turkmenistan",flag:"",dialCode:"+993"},{code:"UZ",name:"Uzbekistan",flag:"",dialCode:"+998"},{code:"MN",name:"Mongolia",flag:"",dialCode:"+976"},{code:"HK",name:"Hong Kong",flag:"",dialCode:"+852"},{code:"MO",name:"Macao",flag:"",dialCode:"+853"},{code:"TW",name:"Taiwan",flag:"",dialCode:"+886"},{code:"KP",name:"North Korea",flag:"",dialCode:"+850"}].sort((e,t)=>e.name.localeCompare(t.name)),oF=fe.forwardRef(({value:e,onChange:t,placeholder:r="Enter phone number",className:n,required:a,...i},o)=>{const[l,c]=h.useState(n0[0]),[d,u]=h.useState(!1),[f,m]=h.useState("");fe.useEffect(()=>{if(e){const g=n0.find(w=>e.startsWith(w.dialCode));g?(c(g),m(e.substring(g.dialCode.length))):m(e)}},[e]);const p=g=>{c(g);const w=f?`${g.dialCode}${f}`:g.dialCode;t(w),u(!1)},x=g=>{const w=g.target.value.replace(/\D/g,"");m(w);const y=w?`${l.dialCode}${w}`:l.dialCode;t(y)};return s.jsxs("div",{className:ne("flex w-full",n),children:[s.jsxs(aF,{open:d,onOpenChange:u,children:[s.jsx(iF,{asChild:!0,children:s.jsxs(O,{variant:"outline",role:"combobox","aria-expanded":d,className:"flex-shrink-0 border-r-0 rounded-r-none bg-muted/50 border-border hover:bg-muted/70 px-3",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-base",children:l.flag}),s.jsx("span",{className:"text-sm font-mono",children:l.dialCode})]}),s.jsx(Qs,{className:"ml-1 h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(qS,{className:"w-80 p-0 z-50 bg-background border border-border shadow-md",align:"start",children:s.jsxs($S,{className:"bg-background",children:[s.jsx(FS,{placeholder:"Search country or code...",className:"h-9 bg-background border-none focus:ring-0"}),s.jsxs(US,{className:"bg-background max-h-64",children:[s.jsx(BS,{className:"py-6 text-center text-sm text-muted-foreground",children:"No country found."}),s.jsx(zS,{className:"bg-background",children:n0.map(g=>s.jsxs(VS,{value:`${g.name} ${g.dialCode} ${g.code}`,onSelect:()=>p(g),className:"flex items-center justify-between px-3 py-2 text-sm cursor-pointer hover:bg-muted aria-selected:bg-muted",children:[s.jsxs("span",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-base",children:g.flag}),s.jsx("span",{className:"text-foreground",children:g.name}),s.jsx("span",{className:"text-sm text-muted-foreground font-mono",children:g.dialCode})]}),s.jsx(st,{className:ne("h-4 w-4 text-primary",l.code===g.code?"opacity-100":"opacity-0")})]},g.code))})]})]})})]}),s.jsx(de,{ref:o,type:"tel",value:f,onChange:x,placeholder:r,required:a,className:"rounded-l-none bg-muted/50 border-border focus:ring-2 focus:ring-primary focus:ring-offset-2",...i})]})});oF.displayName="PhoneInput";const aP=[{code:"AD",name:"Andorra",flag:""},{code:"AE",name:"United Arab Emirates",flag:""},{code:"AF",name:"Afghanistan",flag:""},{code:"AG",name:"Antigua and Barbuda",flag:""},{code:"AI",name:"Anguilla",flag:""},{code:"AL",name:"Albania",flag:""},{code:"AM",name:"Armenia",flag:""},{code:"AO",name:"Angola",flag:""},{code:"AQ",name:"Antarctica",flag:""},{code:"AR",name:"Argentina",flag:""},{code:"AS",name:"American Samoa",flag:""},{code:"AT",name:"Austria",flag:""},{code:"AU",name:"Australia",flag:""},{code:"AW",name:"Aruba",flag:""},{code:"AX",name:"land Islands",flag:""},{code:"AZ",name:"Azerbaijan",flag:""},{code:"BA",name:"Bosnia and Herzegovina",flag:""},{code:"BB",name:"Barbados",flag:""},{code:"BD",name:"Bangladesh",flag:""},{code:"BE",name:"Belgium",flag:""},{code:"BF",name:"Burkina Faso",flag:""},{code:"BG",name:"Bulgaria",flag:""},{code:"BH",name:"Bahrain",flag:""},{code:"BI",name:"Burundi",flag:""},{code:"BJ",name:"Benin",flag:""},{code:"BL",name:"Saint Barthlemy",flag:""},{code:"BM",name:"Bermuda",flag:""},{code:"BN",name:"Brunei",flag:""},{code:"BO",name:"Bolivia",flag:""},{code:"BQ",name:"Caribbean Netherlands",flag:""},{code:"BR",name:"Brazil",flag:""},{code:"BS",name:"Bahamas",flag:""},{code:"BT",name:"Bhutan",flag:""},{code:"BV",name:"Bouvet Island",flag:""},{code:"BW",name:"Botswana",flag:""},{code:"BY",name:"Belarus",flag:""},{code:"BZ",name:"Belize",flag:""},{code:"CA",name:"Canada",flag:""},{code:"CC",name:"Cocos Islands",flag:""},{code:"CD",name:"Congo (Democratic Republic)",flag:""},{code:"CF",name:"Central African Republic",flag:""},{code:"CG",name:"Congo (Republic)",flag:""},{code:"CH",name:"Switzerland",flag:""},{code:"CI",name:"Cte d'Ivoire",flag:""},{code:"CK",name:"Cook Islands",flag:""},{code:"CL",name:"Chile",flag:""},{code:"CM",name:"Cameroon",flag:""},{code:"CN",name:"China",flag:""},{code:"CO",name:"Colombia",flag:""},{code:"CR",name:"Costa Rica",flag:""},{code:"CU",name:"Cuba",flag:""},{code:"CV",name:"Cape Verde",flag:""},{code:"CW",name:"Curaao",flag:""},{code:"CX",name:"Christmas Island",flag:""},{code:"CY",name:"Cyprus",flag:""},{code:"CZ",name:"Czech Republic",flag:""},{code:"DE",name:"Germany",flag:""},{code:"DJ",name:"Djibouti",flag:""},{code:"DK",name:"Denmark",flag:""},{code:"DM",name:"Dominica",flag:""},{code:"DO",name:"Dominican Republic",flag:""},{code:"DZ",name:"Algeria",flag:""},{code:"EC",name:"Ecuador",flag:""},{code:"EE",name:"Estonia",flag:""},{code:"EG",name:"Egypt",flag:""},{code:"EH",name:"Western Sahara",flag:""},{code:"ER",name:"Eritrea",flag:""},{code:"ES",name:"Spain",flag:""},{code:"ET",name:"Ethiopia",flag:""},{code:"FI",name:"Finland",flag:""},{code:"FJ",name:"Fiji",flag:""},{code:"FK",name:"Falkland Islands",flag:""},{code:"FM",name:"Micronesia",flag:""},{code:"FO",name:"Faroe Islands",flag:""},{code:"FR",name:"France",flag:""},{code:"GA",name:"Gabon",flag:""},{code:"GB",name:"United Kingdom",flag:""},{code:"GD",name:"Grenada",flag:""},{code:"GE",name:"Georgia",flag:""},{code:"GF",name:"French Guiana",flag:""},{code:"GG",name:"Guernsey",flag:""},{code:"GH",name:"Ghana",flag:""},{code:"GI",name:"Gibraltar",flag:""},{code:"GL",name:"Greenland",flag:""},{code:"GM",name:"Gambia",flag:""},{code:"GN",name:"Guinea",flag:""},{code:"GP",name:"Guadeloupe",flag:""},{code:"GQ",name:"Equatorial Guinea",flag:""},{code:"GR",name:"Greece",flag:""},{code:"GS",name:"South Georgia",flag:""},{code:"GT",name:"Guatemala",flag:""},{code:"GU",name:"Guam",flag:""},{code:"GW",name:"Guinea-Bissau",flag:""},{code:"GY",name:"Guyana",flag:""},{code:"HK",name:"Hong Kong",flag:""},{code:"HM",name:"Heard Island",flag:""},{code:"HN",name:"Honduras",flag:""},{code:"HR",name:"Croatia",flag:""},{code:"HT",name:"Haiti",flag:""},{code:"HU",name:"Hungary",flag:""},{code:"ID",name:"Indonesia",flag:""},{code:"IE",name:"Ireland",flag:""},{code:"IL",name:"Israel",flag:""},{code:"IM",name:"Isle of Man",flag:""},{code:"IN",name:"India",flag:""},{code:"IO",name:"British Indian Ocean Territory",flag:""},{code:"IQ",name:"Iraq",flag:""},{code:"IR",name:"Iran",flag:""},{code:"IS",name:"Iceland",flag:""},{code:"IT",name:"Italy",flag:""},{code:"JE",name:"Jersey",flag:""},{code:"JM",name:"Jamaica",flag:""},{code:"JO",name:"Jordan",flag:""},{code:"JP",name:"Japan",flag:""},{code:"KE",name:"Kenya",flag:""},{code:"KG",name:"Kyrgyzstan",flag:""},{code:"KH",name:"Cambodia",flag:""},{code:"KI",name:"Kiribati",flag:""},{code:"KM",name:"Comoros",flag:""},{code:"KN",name:"Saint Kitts and Nevis",flag:""},{code:"KP",name:"North Korea",flag:""},{code:"KR",name:"South Korea",flag:""},{code:"KW",name:"Kuwait",flag:""},{code:"KY",name:"Cayman Islands",flag:""},{code:"KZ",name:"Kazakhstan",flag:""},{code:"LA",name:"Laos",flag:""},{code:"LB",name:"Lebanon",flag:""},{code:"LC",name:"Saint Lucia",flag:""},{code:"LI",name:"Liechtenstein",flag:""},{code:"LK",name:"Sri Lanka",flag:""},{code:"LR",name:"Liberia",flag:""},{code:"LS",name:"Lesotho",flag:""},{code:"LT",name:"Lithuania",flag:""},{code:"LU",name:"Luxembourg",flag:""},{code:"LV",name:"Latvia",flag:""},{code:"LY",name:"Libya",flag:""},{code:"MA",name:"Morocco",flag:""},{code:"MC",name:"Monaco",flag:""},{code:"MD",name:"Moldova",flag:""},{code:"ME",name:"Montenegro",flag:""},{code:"MF",name:"Saint Martin",flag:""},{code:"MG",name:"Madagascar",flag:""},{code:"MH",name:"Marshall Islands",flag:""},{code:"MK",name:"North Macedonia",flag:""},{code:"ML",name:"Mali",flag:""},{code:"MM",name:"Myanmar",flag:""},{code:"MN",name:"Mongolia",flag:""},{code:"MO",name:"Macao",flag:""},{code:"MP",name:"Northern Mariana Islands",flag:""},{code:"MQ",name:"Martinique",flag:""},{code:"MR",name:"Mauritania",flag:""},{code:"MS",name:"Montserrat",flag:""},{code:"MT",name:"Malta",flag:""},{code:"MU",name:"Mauritius",flag:""},{code:"MV",name:"Maldives",flag:""},{code:"MW",name:"Malawi",flag:""},{code:"MX",name:"Mexico",flag:""},{code:"MY",name:"Malaysia",flag:""},{code:"MZ",name:"Mozambique",flag:""},{code:"NA",name:"Namibia",flag:""},{code:"NC",name:"New Caledonia",flag:""},{code:"NE",name:"Niger",flag:""},{code:"NF",name:"Norfolk Island",flag:""},{code:"NG",name:"Nigeria",flag:""},{code:"NI",name:"Nicaragua",flag:""},{code:"NL",name:"Netherlands",flag:""},{code:"NO",name:"Norway",flag:""},{code:"NP",name:"Nepal",flag:""},{code:"NR",name:"Nauru",flag:""},{code:"NU",name:"Niue",flag:""},{code:"NZ",name:"New Zealand",flag:""},{code:"OM",name:"Oman",flag:""},{code:"PA",name:"Panama",flag:""},{code:"PE",name:"Peru",flag:""},{code:"PF",name:"French Polynesia",flag:""},{code:"PG",name:"Papua New Guinea",flag:""},{code:"PH",name:"Philippines",flag:""},{code:"PK",name:"Pakistan",flag:""},{code:"PL",name:"Poland",flag:""},{code:"PM",name:"Saint Pierre and Miquelon",flag:""},{code:"PN",name:"Pitcairn",flag:""},{code:"PR",name:"Puerto Rico",flag:""},{code:"PS",name:"Palestine",flag:""},{code:"PT",name:"Portugal",flag:""},{code:"PW",name:"Palau",flag:""},{code:"PY",name:"Paraguay",flag:""},{code:"QA",name:"Qatar",flag:""},{code:"RE",name:"Runion",flag:""},{code:"RO",name:"Romania",flag:""},{code:"RS",name:"Serbia",flag:""},{code:"RU",name:"Russia",flag:""},{code:"RW",name:"Rwanda",flag:""},{code:"SA",name:"Saudi Arabia",flag:""},{code:"SB",name:"Solomon Islands",flag:""},{code:"SC",name:"Seychelles",flag:""},{code:"SD",name:"Sudan",flag:""},{code:"SE",name:"Sweden",flag:""},{code:"SG",name:"Singapore",flag:""},{code:"SH",name:"Saint Helena",flag:""},{code:"SI",name:"Slovenia",flag:""},{code:"SJ",name:"Svalbard and Jan Mayen",flag:""},{code:"SK",name:"Slovakia",flag:""},{code:"SL",name:"Sierra Leone",flag:""},{code:"SM",name:"San Marino",flag:""},{code:"SN",name:"Senegal",flag:""},{code:"SO",name:"Somalia",flag:""},{code:"SR",name:"Suriname",flag:""},{code:"SS",name:"South Sudan",flag:""},{code:"ST",name:"So Tom and Prncipe",flag:""},{code:"SV",name:"El Salvador",flag:""},{code:"SX",name:"Sint Maarten",flag:""},{code:"SY",name:"Syria",flag:""},{code:"SZ",name:"Eswatini",flag:""},{code:"TC",name:"Turks and Caicos Islands",flag:""},{code:"TD",name:"Chad",flag:""},{code:"TF",name:"French Southern Territories",flag:""},{code:"TG",name:"Togo",flag:""},{code:"TH",name:"Thailand",flag:""},{code:"TJ",name:"Tajikistan",flag:""},{code:"TK",name:"Tokelau",flag:""},{code:"TL",name:"Timor-Leste",flag:""},{code:"TM",name:"Turkmenistan",flag:""},{code:"TN",name:"Tunisia",flag:""},{code:"TO",name:"Tonga",flag:""},{code:"TR",name:"Turkey",flag:""},{code:"TT",name:"Trinidad and Tobago",flag:""},{code:"TV",name:"Tuvalu",flag:""},{code:"TW",name:"Taiwan",flag:""},{code:"TZ",name:"Tanzania",flag:""},{code:"UA",name:"Ukraine",flag:""},{code:"UG",name:"Uganda",flag:""},{code:"UM",name:"United States Minor Outlying Islands",flag:""},{code:"US",name:"United States",flag:""},{code:"UY",name:"Uruguay",flag:""},{code:"UZ",name:"Uzbekistan",flag:""},{code:"VA",name:"Vatican City",flag:""},{code:"VC",name:"Saint Vincent and the Grenadines",flag:""},{code:"VE",name:"Venezuela",flag:""},{code:"VG",name:"British Virgin Islands",flag:""},{code:"VI",name:"U.S. Virgin Islands",flag:""},{code:"VN",name:"Vietnam",flag:""},{code:"VU",name:"Vanuatu",flag:""},{code:"WF",name:"Wallis and Futuna",flag:""},{code:"WS",name:"Samoa",flag:""},{code:"YE",name:"Yemen",flag:""},{code:"YT",name:"Mayotte",flag:""},{code:"ZA",name:"South Africa",flag:""},{code:"ZM",name:"Zambia",flag:""},{code:"ZW",name:"Zimbabwe",flag:""}].sort((e,t)=>e.name.localeCompare(t.name));function fie({value:e,onValueChange:t,placeholder:r="Select country",className:n}){const[a,i]=h.useState(!1),o=aP.find(l=>l.code===e);return s.jsxs(aF,{open:a,onOpenChange:i,children:[s.jsx(iF,{asChild:!0,children:s.jsxs(O,{variant:"outline",role:"combobox","aria-expanded":a,className:ne("w-full justify-between bg-muted/50 border-border text-left font-normal hover:bg-muted/70 focus:ring-2 focus:ring-primary focus:ring-offset-2",!e&&"text-muted-foreground",n),children:[o?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-base",children:o.flag}),s.jsx("span",{className:"text-foreground",children:o.name})]}):s.jsx("span",{className:"text-muted-foreground",children:r}),s.jsx(Qs,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(qS,{className:"w-full p-0 z-50 bg-background border border-border shadow-md",align:"start",children:s.jsxs($S,{className:"bg-background",children:[s.jsx(FS,{placeholder:"Search country...",className:"h-9 bg-background border-none focus:ring-0"}),s.jsxs(US,{className:"bg-background",children:[s.jsx(BS,{className:"py-6 text-center text-sm text-muted-foreground",children:"No country found."}),s.jsx(zS,{className:"max-h-64 overflow-auto bg-background",children:aP.map(l=>s.jsxs(VS,{value:`${l.name} ${l.code}`,onSelect:()=>{t(l.code),i(!1)},className:"flex items-center justify-between px-3 py-2 text-sm cursor-pointer hover:bg-muted aria-selected:bg-muted",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-base",children:l.flag}),s.jsx("span",{className:"text-foreground",children:l.name})]}),s.jsx(st,{className:ne("h-4 w-4 text-primary",e===l.code?"opacity-100":"opacity-0")})]},l.code))})]})]})})]})}function hie({password:e,className:t}){U5(e);const r=[{label:"At least 8 characters",test:e.length>=8},{label:"Contains uppercase letter",test:/[A-Z]/.test(e)},{label:"Contains lowercase letter",test:/[a-z]/.test(e)},{label:"Contains number",test:/\d/.test(e)},{label:"Contains special character",test:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(e)}],n=r.filter(l=>l.test).length,a=n===0?0:Math.round(n/r.length*100),i=()=>a<40?"bg-red-500":a<60?"bg-orange-500":a<80?"bg-yellow-500":"bg-green-500",o=()=>a<40?"Weak":a<60?"Fair":a<80?"Good":"Strong";return e?s.jsxs("div",{className:ne("space-y-2",t),children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Password Strength"}),s.jsx("span",{className:ne("text-sm font-medium",a<40?"text-red-500":a<60?"text-orange-500":a<80?"text-yellow-500":"text-green-500"),children:o()})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:ne("h-2 rounded-full transition-all duration-300",i()),style:{width:`${a}%`}})}),s.jsx("div",{className:"space-y-1",children:r.map((l,c)=>s.jsxs("div",{className:"flex items-center text-xs",children:[s.jsx("div",{className:ne("w-2 h-2 rounded-full mr-2",l.test?"bg-green-500":"bg-muted")}),s.jsx("span",{className:ne(l.test?"text-green-600":"text-muted-foreground"),children:l.label})]},c))})]}):null}const mie=()=>{const e=Ie(),{currentLogoUrl:t}=hn(),[r,n]=h.useState({firstName:"",lastName:"",birthDate:{day:"",month:"",year:""},country:"",mobile:"",email:"",password:"",confirmPassword:""}),[a,i]=h.useState(!1),[o,l]=h.useState(!1),[c,d]=h.useState(!1),[u,f]=h.useState(null),[m,p]=h.useState(!1),[x,g]=h.useState(!1),[w,y]=h.useState(!1);h.useEffect(()=>{(async()=>{try{const{data:A,error:P}=await $.rpc("get_system_setting_bool",{_key:"enable_new_user_registration"});P&&console.error("Failed to load registration setting",P),p(A===!1);const{data:_,error:E}=await $.rpc("get_system_setting_bool",{_key:"google_oauth_enabled"});E&&console.error("Failed to load Google OAuth setting",E),y(_===!0)}catch(A){console.error("Error checking settings",A)}finally{g(!0)}})()},[]);const v=(k,A)=>{if(!k||!A)return 31;const P=parseInt(k),_=parseInt(A);return new Date(_,P,0).getDate()},b=(k,A)=>{if(k.includes(".")){const[P,_]=k.split(".");n(E=>{const M={...E,[P]:{...E[P],[_]:A}};if(P==="birthDate"&&(_==="month"||_==="year")){const R=M.birthDate,T=v(R.month,R.year);parseInt(R.day)>T&&(R.day=T.toString().padStart(2,"0"))}return M})}else n(P=>({...P,[k]:A}))},j=k=>{n(A=>({...A,mobile:k||""}))},N=k=>k&&k.length>=10,S=async k=>{if(k.preventDefault(),d(!0),m){re({title:"Registration Disabled",description:"New user registration is currently disabled by an administrator.",variant:"destructive"}),d(!1);return}const A=Na(r.firstName),P=Na(r.lastName),_=Na(r.email),E=Na(r.country),M=Na(r.mobile),R=Gl(A,1,50,"First name");if(!R.isValid){re({title:"Invalid Input",description:R.message,variant:"destructive"}),d(!1);return}const T=Gl(P,1,50,"Last name");if(!T.isValid){re({title:"Invalid Input",description:T.message,variant:"destructive"}),d(!1);return}if(!r.country.trim()){re({title:"Missing Information",description:"Country is required.",variant:"destructive"}),d(!1);return}if(!r.mobile.trim()||!N(r.mobile)){re({title:"Invalid Mobile Number",description:"Please enter a valid mobile number.",variant:"destructive"}),d(!1);return}if(!r.birthDate.day||!r.birthDate.month||!r.birthDate.year){re({title:"Missing Information",description:"Complete birthdate is required.",variant:"destructive"}),d(!1);return}if(!F5(_)){re({title:"Invalid Email",description:"Please enter a valid email address",variant:"destructive"}),d(!1);return}if(r.password!==r.confirmPassword){re({title:"Password Mismatch",description:"Passwords do not match. Please try again.",variant:"destructive"}),d(!1);return}const B=U5(r.password);if(!B.isValid){re({title:"Weak Password",description:B.message,variant:"destructive"}),d(!1);return}if(!B5(`signup_${_}`,3,60*60*1e3)){await ti.logRateLimitExceeded(_,"signup_attempt"),re({title:"Too Many Attempts",description:"Please wait an hour before trying again",variant:"destructive"}),d(!1);return}try{const{data:K,error:z}=await $.auth.signUp({email:_,password:r.password,options:{emailRedirectTo:`${window.location.origin}/auth/onboarding`,data:{first_name:A,last_name:P,country:E,mobile:M,birth_date:`${r.birthDate.year}-${r.birthDate.month.padStart(2,"0")}-${r.birthDate.day.padStart(2,"0")}`,avatar_url:u}}});if(z){console.log("Sign up error:",z),console.log("Error code:",z.code),console.log("Error message:",z.message),console.log("Error status:",z.status),await ti.logAuthFailure(_,"signup_attempt_failed"),re({title:"Sign Up Failed",description:z.message||"An error occurred during sign up. Please try again.",variant:"destructive"}),d(!1);return}K.user?(console.log("User identities:",K.user.identities),K.user.identities&&K.user.identities.length>0?(re({title:"Account Created!",description:"Please check your email to verify your account."}),e(`/auth/verify-email?email=${encodeURIComponent(r.email)}`)):(re({title:"Account Already Exists",description:"An account with this email already exists. Please log in with your existing credentials or use 'Forgot Password' if you need to reset your password. Redirecting to login page...",variant:"destructive"}),setTimeout(()=>{e("/auth/login")},2e3))):re({title:"Sign Up Failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}catch{re({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{d(!1)}},C=async()=>{if(m){re({title:"Registration Disabled",description:"New user registration is currently disabled by an administrator.",variant:"destructive"});return}try{const{error:k}=await $.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});k&&re({title:"Google Sign Up Failed",description:k.message,variant:"destructive"})}catch{re({title:"Error",description:"Failed to sign up with Google. Please try again.",variant:"destructive"})}};return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6",children:s.jsxs("div",{className:"w-full max-w-2xl",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>e("/auth/login"),className:"p-2 -ml-2",children:s.jsx(Wx,{className:"w-5 h-5"})}),s.jsx("h1",{className:"flex-1 text-center text-lg font-medium",children:"Create Account"}),s.jsx("div",{className:"w-9"})," "]}),s.jsxs("div",{className:"max-h-[calc(100vh-8rem)] overflow-y-auto px-2",children:[s.jsx("div",{className:"flex items-center justify-center mb-8",children:t?s.jsx(Re,{to:"/",className:"cursor-pointer",children:s.jsx("img",{src:t,alt:"Logo",className:"h-16 w-auto max-w-[250px] hover:opacity-80 transition-opacity"})}):s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mr-3 border border-border/20",children:s.jsx("span",{className:"text-xl font-bold text-primary",children:"T"})}),s.jsx("div",{className:"bg-primary px-4 py-2 rounded-xl",children:s.jsx("span",{className:"text-xl font-bold text-white",children:"agmentia"})})]})}),s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-8 text-center",children:"Create Account"}),m&&s.jsxs($r,{variant:"destructive",className:"mb-6",children:[s.jsx(wS,{children:"Registration Disabled"}),s.jsx(Fr,{children:"New user registration is currently disabled by an administrator. Please try again later."})]}),s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx(AS,{currentAvatarUrl:u,onAvatarChange:f,size:"lg",showUploadButton:!0})}),s.jsxs("form",{onSubmit:S,className:"space-y-5",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:"firstName",className:"text-sm text-foreground font-medium",children:["First Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(de,{id:"firstName",placeholder:"Enter your first name",value:r.firstName,onChange:k=>b("firstName",k.target.value),className:"bg-muted/50 border-border",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:"lastName",className:"text-sm text-foreground font-medium",children:["Last Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(de,{id:"lastName",placeholder:"Enter your last name",value:r.lastName,onChange:k=>b("lastName",k.target.value),className:"bg-muted/50 border-border",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{className:"text-sm text-foreground font-medium",children:["Birthdate ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs(qe,{onValueChange:k=>b("birthDate.day",k),value:r.birthDate.day,children:[s.jsx(Ve,{className:"bg-muted/50 border-border",children:s.jsx(He,{placeholder:"Day"})}),s.jsx(We,{className:"bg-background border-border",children:Array.from({length:v(r.birthDate.month,r.birthDate.year)},(k,A)=>A+1).map(k=>s.jsx(se,{value:k.toString().padStart(2,"0"),children:k},k))})]}),s.jsxs(qe,{onValueChange:k=>b("birthDate.month",k),value:r.birthDate.month,children:[s.jsx(Ve,{className:"bg-muted/50 border-border",children:s.jsx(He,{placeholder:"Month"})}),s.jsxs(We,{className:"bg-background border-border",children:[s.jsx(se,{value:"01",children:"January"}),s.jsx(se,{value:"02",children:"February"}),s.jsx(se,{value:"03",children:"March"}),s.jsx(se,{value:"04",children:"April"}),s.jsx(se,{value:"05",children:"May"}),s.jsx(se,{value:"06",children:"June"}),s.jsx(se,{value:"07",children:"July"}),s.jsx(se,{value:"08",children:"August"}),s.jsx(se,{value:"09",children:"September"}),s.jsx(se,{value:"10",children:"October"}),s.jsx(se,{value:"11",children:"November"}),s.jsx(se,{value:"12",children:"December"})]})]}),s.jsxs(qe,{onValueChange:k=>b("birthDate.year",k),value:r.birthDate.year,children:[s.jsx(Ve,{className:"bg-muted/50 border-border",children:s.jsx(He,{placeholder:"Year"})}),s.jsx(We,{className:"bg-background border-border",children:Array.from({length:100},(k,A)=>new Date().getFullYear()-A).map(k=>s.jsx(se,{value:k.toString(),children:k},k))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{className:"text-sm text-foreground font-medium",children:["Country ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(fie,{value:r.country,onValueChange:k=>b("country",k),placeholder:"Select your country",className:"bg-muted/50 border-border"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:"mobile",className:"text-sm text-foreground font-medium",children:["Mobile Number ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(oF,{value:r.mobile,onChange:j,placeholder:"Enter your phone number",className:"bg-muted/50 border-border",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:"email",className:"text-sm text-foreground font-medium",children:["Email ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(de,{id:"email",type:"email",placeholder:"Enter your email",value:r.email,onChange:k=>b("email",k.target.value),className:"bg-muted/50 border-border",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:"password",className:"text-sm text-foreground font-medium",children:["Password ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(de,{id:"password",type:a?"text":"password",placeholder:"Create a password",value:r.password,onChange:k=>b("password",k.target.value),className:"bg-muted/50 border-border pr-10",required:!0}),s.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:a?s.jsx(xs,{className:"w-4 h-4"}):s.jsx(Mr,{className:"w-4 h-4"})})]}),r.password&&s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1 bg-muted/30 p-3 rounded-md",children:[s.jsx("p",{className:"font-medium text-foreground",children:"Password must include:"}),s.jsxs("ul",{className:"space-y-1",children:[s.jsx("li",{children:" At least 8 characters long"}),s.jsx("li",{children:" At least one uppercase letter (A-Z)"}),s.jsx("li",{children:" At least one lowercase letter (a-z)"}),s.jsx("li",{children:" At least one number (0-9)"}),s.jsx("li",{children:" At least one special character (!@#$%^&*)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(de,{type:o?"text":"password",placeholder:"Confirm password",value:r.confirmPassword,onChange:k=>b("confirmPassword",k.target.value),className:"bg-muted/50 border-border pr-10",required:!0}),s.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:o?s.jsx(xs,{className:"w-4 h-4"}):s.jsx(Mr,{className:"w-4 h-4"})})]}),s.jsx(hie,{password:r.password,className:"mt-3"})]}),s.jsx(O,{type:"submit",disabled:c||m,className:"w-full bg-primary hover:bg-primary/90 text-white py-3 rounded-xl font-medium mt-6",children:c?"Creating Account...":"Create Account"})]}),s.jsxs("div",{className:"flex items-center my-6",children:[s.jsx("div",{className:"flex-1 border-t border-border"}),s.jsx("span",{className:"px-4 text-sm text-muted-foreground",children:"or"}),s.jsx("div",{className:"flex-1 border-t border-border"})]}),w&&s.jsx("div",{className:"space-y-3 mb-6",children:s.jsxs(O,{onClick:C,variant:"outline",disabled:m,className:"w-full py-3 rounded-xl border-border hover:bg-muted/50",children:[s.jsx("span",{className:"mr-2",children:"G"})," Sign up with Google"]})}),s.jsxs("div",{className:"text-center space-y-3 pb-8",children:[s.jsx("div",{className:"text-sm text-primary",children:s.jsx(Re,{to:"/auth/login",children:"Already have an account? Log in"})}),s.jsx("div",{className:"text-sm text-primary",children:s.jsx(Re,{to:"/auth/forgot-password",children:"Forgot password?"})})]})]})]})})},pie=()=>{const e=Ie(),{currentLogoUrl:t}=hn(),[r]=Rh(),[n,a]=h.useState(""),[i,o]=h.useState(!1),[l,c]=h.useState(!1),d=r.get("email")||"",u=async m=>{m.preventDefault(),o(!0);try{const{data:p,error:x}=await $.auth.verifyOtp({email:d,token:n,type:"signup"});if(x){re({title:"Verification Failed",description:x.message,variant:"destructive"});return}if(p.user){const{error:g}=await $.from("profiles").update({email_confirmed:!0}).eq("id",p.user.id);g&&console.error("Failed to update profile confirmation status",g),re({title:"Email Verified!",description:"Your account has been successfully verified."}),e("/auth/onboarding")}}catch{re({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{o(!1)}},f=async()=>{c(!0);try{const{error:m}=await $.auth.resend({type:"signup",email:d});if(m){re({title:"Could not resend code",description:m.message,variant:"destructive"});return}re({title:"Code Sent",description:"A new verification code has been sent to your email."})}catch{re({title:"Error",description:"Failed to resend the verification code. Please try again.",variant:"destructive"})}finally{c(!1)}};return s.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[s.jsxs("div",{className:"flex items-center px-4 pb-4",children:[s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>e("/auth/signup"),className:"p-2 -ml-2",children:s.jsx(bd,{className:"w-5 h-5"})}),s.jsx("h1",{className:"flex-1 text-center text-lg font-medium",children:"Verify Your Account"}),s.jsx("div",{className:"w-9"})]}),s.jsxs("div",{className:"flex-1 px-6 py-8 text-center",children:[s.jsx("div",{className:"flex items-center justify-center mb-8",children:t?s.jsx("img",{src:t,alt:"Logo",className:"h-14 w-auto max-w-[200px]"}):s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center mr-2 border border-border/20",children:s.jsx("span",{className:"text-lg font-bold text-primary",children:"T"})}),s.jsx("div",{className:"bg-primary px-3 py-1 rounded-xl",children:s.jsx("span",{className:"text-lg font-bold text-white",children:"agmentia"})})]})}),s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Ul,{className:"w-8 h-8 text-primary"})}),s.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-3",children:"Check your email!"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"We have sent a 6-digit verification"}),s.jsxs("p",{className:"text-muted-foreground mb-6",children:["code to ",s.jsx("span",{className:"text-primary font-medium",children:d||"your email"}),"."]}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"Please check your inbox and spam folder."}),s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-left",children:"Please enter the code below to continue."}),s.jsx(de,{placeholder:"Enter verification code",value:n,onChange:m=>a(m.target.value.replace(/\D/g,"")),className:"bg-muted/50 border-border text-center text-lg tracking-widest",maxLength:6,inputMode:"numeric"})]}),s.jsx(O,{type:"submit",disabled:i||n.length!==6,className:"w-full bg-primary hover:bg-primary/90 text-white py-3 rounded-xl font-medium",children:i?"Verifying...":"Verify Code"})]}),s.jsxs("div",{className:"mt-8 space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Didn't receive the code or it expired?"}),s.jsx(O,{onClick:f,disabled:l,variant:"outline",className:"w-full py-3 rounded-xl border-border hover:bg-muted/50",children:l?"Sending...":"Resend Verification Code"}),s.jsxs(O,{variant:"ghost",className:"text-primary hover:bg-primary/10",children:[s.jsx(Ul,{className:"w-4 h-4 mr-2"}),"Get help"]})]})]})]})},Zm=[{id:1,title:"Welcome!",description:"Your registration was successful. Get ready to explore your personalized dashboard.",image:"",buttonText:"Next"},{id:2,title:"Organize Your Favorite Videos  All in One Place",description:"Save videos from YouTube, TikTok, and Instagram Reels into personalized categories with notes and reminders.",buttonText:"Next"},{id:3,title:"Turn Video Watching Into Actionable Learning",description:"Track educational videos by adding notes, reminders, and grouping by category.",buttonText:"Next"},{id:4,title:"The Smartest Way to Bookmark and Categorize Videos",description:"Automatically save videos from Instagram Reels and organize them with tags, notes, and folders using our dashboard.",buttonText:"Get Started"}],gie=()=>{const e=Ie(),[t,r]=h.useState(0),{currentLogoUrl:n}=hn(),a=()=>{t<Zm.length-1?r(t+1):e("/dashboard")},i=()=>{e("/dashboard")},o=Zm[t];return s.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[s.jsxs("div",{className:"px-6 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[t+1," of ",Zm.length]}),t>0&&s.jsx(O,{onClick:i,variant:"ghost",className:"text-sm text-muted-foreground hover:text-foreground",children:"Skip"})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-1",children:s.jsx("div",{className:"bg-primary h-1 rounded-full transition-all duration-300",style:{width:`${(t+1)/Zm.length*100}%`}})})]}),s.jsxs("div",{className:"flex-1 px-6 py-8 flex flex-col items-center text-center",children:[t===0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"flex items-center justify-center",children:n?s.jsx("img",{src:n,alt:"Logo",className:"h-16 max-w-[200px] object-contain",onError:l=>{var c;l.currentTarget.style.display="none",(c=l.currentTarget.nextElementSibling)==null||c.classList.remove("hidden")}}):s.jsx("div",{className:"h-16 w-32 bg-muted/20 animate-pulse rounded"})})}),s.jsx("div",{className:"text-6xl mb-6",children:o.image})]}),t>0&&s.jsxs("div",{className:"w-64 h-64 rounded-3xl flex items-center justify-center mb-8",children:[t===1&&s.jsx("img",{src:"/lovable-uploads/4ad05a0c-e35c-45bc-a96f-43d77c0c6124.png",alt:"Organize videos illustration",className:"w-full h-full object-contain"}),t===2&&s.jsx("img",{src:"/lovable-uploads/cd8bb079-2d41-4a9d-a149-cb26f5e07601.png",alt:"AI learning illustration",className:"w-full h-full object-contain"}),t===3&&s.jsx("img",{src:"/lovable-uploads/8df9e558-c5f3-47bc-9aef-37f6af75ce65.png",alt:"Dashboard analytics illustration",className:"w-full h-full object-contain"})]}),s.jsxs("div",{className:"max-w-sm mx-auto mb-12",children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4 leading-tight",children:o.title}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:o.description})]}),s.jsx("div",{className:"w-full max-w-sm",children:s.jsxs(O,{onClick:a,className:"w-full bg-primary hover:bg-primary/90 text-white py-4 rounded-xl font-medium text-lg",children:[s.jsx("span",{children:o.buttonText}),s.jsx(qx,{className:"w-5 h-5 ml-2"})]})})]})]})},iP=()=>{const e=Ie(),{currentLogoUrl:t}=hn(),[r,n]=h.useState(""),[a,i]=h.useState(!1),[o,l]=h.useState(!1),c=async d=>{if(d.preventDefault(),!r.trim()){re({title:"Error",description:"Please enter your email address",variant:"destructive"});return}i(!0);try{const{error:u}=await $.auth.resetPasswordForEmail(r.trim(),{redirectTo:`${window.location.origin}/auth/reset-password`});if(u){console.error("Password reset error:",u),re({title:"Error",description:u.message||"Failed to send reset email. Please try again.",variant:"destructive"});return}l(!0),re({title:"Reset Email Sent",description:"Please check your email for password reset instructions."})}catch(u){console.error("Unexpected error:",u),re({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{i(!1)}};return o?s.jsx("div",{className:"min-h-screen bg-background flex flex-col",children:s.jsxs("div",{className:"flex-1 px-6 py-8",children:[s.jsxs("div",{className:"flex items-center mb-8",children:[s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>e("/auth/login"),className:"mr-2",children:s.jsx(bd,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-xl font-semibold text-foreground",children:"Password Reset"})]}),s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"w-20 h-20 mx-auto bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Ul,{className:"w-10 h-10 text-green-600"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Check Your Email"}),s.jsx("p",{className:"text-muted-foreground",children:"We've sent password reset instructions to:"}),s.jsx("p",{className:"font-medium text-foreground",children:r})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Click the link in the email to reset your password. The link will expire in 24 hours."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(O,{onClick:()=>l(!1),variant:"outline",className:"w-full",children:"Try Different Email"}),s.jsx(Re,{to:"/auth/login",children:s.jsx(O,{variant:"ghost",className:"w-full",children:"Back to Login"})})]})]})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex flex-col",children:s.jsxs("div",{className:"flex-1 px-6 py-8",children:[s.jsx("div",{className:"flex items-center justify-center mb-8",children:t?s.jsx("img",{src:t,alt:"Logo",className:"h-16 w-auto max-w-[250px]"}):s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mr-3 border border-border/20",children:s.jsx("span",{className:"text-xl font-bold text-primary",children:"T"})}),s.jsx("div",{className:"bg-primary px-4 py-2 rounded-xl",children:s.jsx("span",{className:"text-xl font-bold text-white",children:"agmentia"})})]})}),s.jsxs("div",{className:"flex items-center mb-8",children:[s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>e("/auth/login"),className:"mr-2",children:s.jsx(bd,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-xl font-semibold text-foreground",children:"Reset Password"})]}),s.jsx("div",{className:"mb-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Enter your email address and we'll send you instructions to reset your password."})}),s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"email",className:"text-sm text-muted-foreground",children:"Email Address"}),s.jsx(de,{id:"email",type:"email",placeholder:"Enter your email",value:r,onChange:d=>n(d.target.value),className:"bg-muted/50 border-border text-foreground placeholder:text-muted-foreground",required:!0})]}),s.jsx(O,{type:"submit",disabled:a||!r.trim(),className:"w-full bg-primary hover:bg-primary/90 text-white py-3 rounded-xl font-medium",children:a?"Sending...":"Send Reset Instructions"})]}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx(Re,{to:"/auth/login",className:"text-sm text-primary font-medium",children:"Remember your password? Sign In"})})]})})},oP=()=>{const e=Ie(),[t]=Rh(),{currentLogoUrl:r}=hn(),[n,a]=h.useState({password:"",confirmPassword:""}),[i,o]=h.useState(!1),[l,c]=h.useState(!1),[d,u]=h.useState(!1),[f,m]=h.useState(!1);h.useEffect(()=>{const w=t.get("access_token"),y=t.get("refresh_token");w&&y?(m(!0),$.auth.setSession({access_token:w,refresh_token:y})):$.auth.getSession().then(({data:{session:v}})=>{v?m(!0):(re({title:"Invalid Reset Link",description:"This password reset link is invalid or has expired.",variant:"destructive"}),e("/auth/forgot-password"))})},[t,e]);const p=(w,y)=>{a(v=>({...v,[w]:y}))},x=()=>n.password.length<6?(re({title:"Weak Password",description:"Password must be at least 6 characters long.",variant:"destructive"}),!1):n.password!==n.confirmPassword?(re({title:"Passwords Don't Match",description:"Please make sure both passwords are identical.",variant:"destructive"}),!1):!0,g=async w=>{if(w.preventDefault(),!!x()){u(!0);try{const{error:y}=await $.auth.updateUser({password:n.password});if(y){console.error("Password update error:",y),re({title:"Password Reset Failed",description:y.message||"Failed to update password. Please try again.",variant:"destructive"});return}re({title:"Password Updated",description:"Your password has been successfully updated."}),e("/dashboard")}catch(y){console.error("Unexpected error:",y),re({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{u(!1)}}};return f?s.jsx("div",{className:"min-h-screen bg-background flex flex-col",children:s.jsxs("div",{className:"flex-1 px-6 py-8",children:[s.jsxs("div",{className:"flex items-center justify-center mb-8",children:[r?s.jsx("img",{src:r,alt:"Logo",className:"h-16 w-auto object-contain",onError:w=>{var y;w.currentTarget.style.display="none",(y=w.currentTarget.nextElementSibling)==null||y.classList.remove("hidden")}}):null,s.jsxs("div",{className:`flex items-center ${r?"hidden":""}`,children:[s.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mr-3 border border-border/20",children:s.jsx("span",{className:"text-xl font-bold text-primary",children:"T"})}),s.jsx("div",{className:"bg-primary px-4 py-2 rounded-xl",children:s.jsx("span",{className:"text-xl font-bold text-white",children:"agmentia"})})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-2xl font-semibold text-foreground mb-2",children:"Create New Password"}),s.jsx("p",{className:"text-muted-foreground",children:"Please enter your new password below."})]}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"password",className:"text-sm text-muted-foreground",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(de,{id:"password",type:i?"text":"password",placeholder:"Enter new password",value:n.password,onChange:w=>p("password",w.target.value),className:"bg-muted/50 border-border text-foreground placeholder:text-muted-foreground pr-10",required:!0,minLength:6}),s.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:i?s.jsx(xs,{className:"w-4 h-4"}):s.jsx(Mr,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"confirmPassword",className:"text-sm text-muted-foreground",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(de,{id:"confirmPassword",type:l?"text":"password",placeholder:"Confirm new password",value:n.confirmPassword,onChange:w=>p("confirmPassword",w.target.value),className:"bg-muted/50 border-border text-foreground placeholder:text-muted-foreground pr-10",required:!0,minLength:6}),s.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:l?s.jsx(xs,{className:"w-4 h-4"}):s.jsx(Mr,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("p",{className:"font-medium",children:"Password Requirements:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wd,{className:`w-4 h-4 ${n.password.length>=6?"text-green-500":"text-gray-400"}`}),s.jsx("span",{children:"At least 6 characters"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wd,{className:`w-4 h-4 ${n.password===n.confirmPassword&&n.confirmPassword?"text-green-500":"text-gray-400"}`}),s.jsx("span",{children:"Passwords match"})]})]}),s.jsx(O,{type:"submit",disabled:d||!n.password||!n.confirmPassword,className:"w-full bg-primary hover:bg-primary/90 text-white py-3 rounded-xl font-medium",children:d?"Updating Password...":"Update Password"})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Verifying Reset Link..."}),s.jsx("p",{className:"text-muted-foreground",children:"Please wait while we verify your password reset link."})]})})};function lP(){const{currentLogoUrl:e}=hn();return h.useEffect(()=>{document.title="Account Suspended";const t="Your account is suspended. Contact support to restore access.",r=document.querySelector('meta[name="description"]');r&&r.setAttribute("content",t)},[]),s.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[s.jsx("header",{className:"border-b",children:s.jsx("div",{className:"container mx-auto px-6 py-4",children:s.jsx("div",{className:"flex items-center",children:e?s.jsx("img",{src:`${e}?t=${Date.now()}`,alt:"Company Logo",className:"h-8 w-auto max-w-[200px] object-contain"}):s.jsx("div",{className:"h-8 w-32 bg-muted/20 animate-pulse rounded"})})})}),s.jsx("main",{children:s.jsx("section",{className:"container mx-auto px-6 py-16",children:s.jsxs("article",{className:"max-w-xl mx-auto text-center space-y-6",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Account Suspended"}),s.jsx("p",{className:"text-muted-foreground",children:"This account has been frozen by an administrator. You can no longer access the application. If you believe this is a mistake, please contact support."}),s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("a",{href:"mailto:support@tagmentia.com",className:"underline underline-offset-4",children:"Contact support"}),s.jsx("span",{className:"opacity-40",children:""}),s.jsx(O,{asChild:!0,children:s.jsx("a",{href:"/auth/login",children:"Sign in with another account"})})]})]})})})]})}const xie=()=>{const e=Ie(),t=()=>{e("/")};return s.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsx(O,{variant:"ghost",size:"icon",onClick:t,className:"p-2",children:s.jsx(er,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-lg font-medium text-muted-foreground",children:"Account removed"}),s.jsx("div",{className:"w-9"})," "]}),s.jsxs("div",{className:"flex-1 px-6 py-8 flex flex-col",children:[s.jsxs("div",{className:"flex-1 space-y-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Thank you for using our app!"}),s.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[s.jsx("p",{children:"We're sorry to see you go, but we respect your decision to delete your account. Your account deletion request has been successfully processed, and your account is now permanently deactivated."}),s.jsx("p",{children:"If you ever decide to return, we'll be here with new updates and features to make your experience even better."})]})]}),s.jsx("div",{className:"pt-8",children:s.jsx(O,{onClick:t,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground rounded-xl py-4 text-lg font-medium",children:"Done"})})]})]})},vie=()=>{const e=Ie(),{toast:t}=Ge(),[r,n]=h.useState(null),[a,i]=h.useState(""),[o,l]=h.useState(!1),c=[{id:"support",title:"Support Request",icon:TW,description:"Get help with technical issues"},{id:"feedback",title:"Feedback",icon:IW,description:"Share your suggestions and ideas"},{id:"complaint",title:"Complaint",icon:Qr,description:"Report issues or concerns"}],d=async()=>{var u;if(!r){t({title:"Please select a message type",description:"Choose whether this is a support request, feedback, or complaint.",variant:"destructive"});return}if(!a.trim()){t({title:"Please enter your message",description:"Your message cannot be empty.",variant:"destructive"});return}l(!0);try{const{data:{user:f}}=await $.auth.getUser();if(!f){t({title:"Authentication required",description:"Please log in to send a message.",variant:"destructive"});return}const{data:m,error:p}=await $.functions.invoke("send-help-feedback",{body:{type:r,message:a.trim(),userEmail:f.email,userName:((u=f.user_metadata)==null?void 0:u.first_name)||f.email}});if(p)throw p;t({title:"Message sent successfully!",description:"We have received your message and will respond as soon as possible."}),n(null),i("")}catch(f){console.error("Error sending message:",f),t({title:"Failed to send message",description:"Please try again later or contact us directly.",variant:"destructive"})}finally{l(!1)}};return s.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[s.jsxs("div",{className:"flex items-center px-4 py-4 border-b",children:[s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>e(-1),className:"mr-3",children:s.jsx(Wx,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-lg font-semibold",children:"Help & Feedback"})]}),s.jsxs("div",{className:"flex-1 p-6 space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 gap-4",children:c.map(u=>{const f=u.icon,m=r===u.id;return s.jsx(Y,{className:`cursor-pointer transition-all ${m?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>n(u.id),children:s.jsxs(X,{className:"flex items-center p-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center mr-4 ${m?"bg-primary text-primary-foreground":"bg-muted"}`,children:s.jsx(f,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium",children:u.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:u.description})]})]})},u.id)})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Your Message"}),s.jsx(_r,{placeholder:"Type your message here...",value:a,onChange:u=>i(u.target.value),className:"min-h-[120px] resize-none",maxLength:1e3}),s.jsxs("div",{className:"text-right text-xs text-muted-foreground",children:[a.length,"/1000"]})]}),s.jsx(O,{className:"w-full py-3 text-base font-medium",onClick:d,disabled:o||!r||!a.trim(),children:o?"Sending...":"Send Message"})]}),s.jsxs("div",{className:"flex justify-center items-center gap-6 p-6 border-t bg-muted/30",children:[s.jsx(O,{variant:"link",className:"text-sm text-muted-foreground p-0 h-auto",onClick:()=>{window.open("/terms","_blank")},children:"Terms & Conditions"}),s.jsx(O,{variant:"link",className:"text-sm text-muted-foreground p-0 h-auto",onClick:()=>{window.open("/privacy","_blank")},children:"Privacy Policy"})]})]})},yie=()=>{const e=Ie(),t=["Unlimited categories","Unlimited videos per category","AI-powered video summaries","Priority support","Advanced analytics","Custom tags and organization"];return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(rt,{}),s.jsxs("main",{className:"container mx-auto px-6 py-8 max-w-4xl",children:[s.jsxs(O,{variant:"ghost",onClick:()=>e(-1),className:"mb-6",children:[s.jsx(bd,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-primary mb-4",children:s.jsx(ED,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-4",children:"Upgrade Required"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Unlock the full potential of your video library with our premium plans"})]}),s.jsxs(Y,{className:"shadow-card",children:[s.jsxs(oe,{className:"text-center",children:[s.jsx(le,{className:"text-2xl",children:"Premium Features"}),s.jsx(St,{children:"Get access to all features and take your video management to the next level"})]}),s.jsxs(X,{className:"space-y-6",children:[s.jsx("div",{className:"grid gap-4",children:t.map((r,n)=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gradient-primary flex items-center justify-center",children:s.jsx(st,{className:"w-4 h-4 text-white"})}),s.jsx("p",{className:"text-foreground",children:r})]},n))}),s.jsxs("div",{className:"pt-6 space-y-3",children:[s.jsx(O,{className:"w-full bg-gradient-primary hover:shadow-elevated",size:"lg",onClick:()=>{console.log("Navigate to subscription page")},children:"View Premium Plans"}),s.jsx(O,{variant:"outline",className:"w-full",onClick:()=>e(-1),children:"Maybe Later"})]})]})]})]})]})},qv=({children:e,title:t,description:r})=>{const n=kn(),a=new Date().getFullYear(),i=[{to:"/",label:"Home",icon:Eh},{to:"/privacy-policy",label:"Privacy",icon:Wn},{to:"/terms",label:"Terms",icon:WW},{to:"/support",label:"Support",icon:dg},{to:"/account-deletion",label:"Delete Account",icon:yt}],o=l=>n.pathname===l;return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("title",{children:[t," | Tagmentia"]}),s.jsx("meta",{name:"description",content:r}),s.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsxs("nav",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[s.jsx(Re,{to:"/",className:"flex items-center gap-2 font-bold text-xl",style:{color:"#545DEA"},children:s.jsx("span",{children:"Tagmentia"})}),s.jsx("div",{className:"hidden md:flex items-center gap-6",children:i.map(({to:l,label:c,icon:d})=>s.jsxs(Re,{to:l,className:`flex items-center gap-2 text-sm font-medium transition-colors hover:text-primary ${o(l)?"text-primary":"text-muted-foreground"}`,children:[s.jsx(d,{className:"h-4 w-4"}),c]},l))}),s.jsx("div",{className:"md:hidden flex items-center gap-2",children:i.map(({to:l,icon:c})=>s.jsx(Re,{to:l,className:`p-2 rounded-md transition-colors ${o(l)?"bg-primary/10 text-primary":"text-muted-foreground hover:text-primary"}`,"aria-label":l,children:s.jsx(c,{className:"h-5 w-5"})},l))})]})}),s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[s.jsx(Re,{to:"/",className:"hover:text-foreground transition-colors",children:"Home"}),s.jsx("span",{children:"/"}),s.jsx("span",{className:"text-foreground",children:t})]})}),s.jsx("main",{className:"container mx-auto px-4 py-8 max-w-4xl",children:e}),s.jsx("footer",{className:"border-t border-border/40 bg-muted/30 mt-16",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",a," Disinnova Ltd. All rights reserved."]}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-sm",children:[s.jsx(Re,{to:"/privacy-policy",className:"text-muted-foreground hover:text-primary transition-colors",children:"Privacy Policy"}),s.jsx(Re,{to:"/terms",className:"text-muted-foreground hover:text-primary transition-colors",children:"Terms of Service"}),s.jsx(Re,{to:"/support",className:"text-muted-foreground hover:text-primary transition-colors",children:"Contact Support"}),s.jsx(Re,{to:"/account-deletion",className:"text-muted-foreground hover:text-primary transition-colors",children:"Account Deletion"})]})]})})})]})},bie=()=>{const e=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return s.jsx(qv,{title:"Privacy Policy",description:"Learn how Tagmentia collects, uses, and protects your personal information.",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",style:{color:"#545DEA"},children:"Privacy Policy"}),s.jsx("p",{className:"text-muted-foreground",children:"This Privacy Policy describes how Tagmentia collects, uses, and protects your information."})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{style:{color:"#545DEA"},children:"Information We Collect"})}),s.jsxs(X,{className:"prose prose-sm max-w-none dark:prose-invert",children:[s.jsx("p",{children:"We collect various types of information to provide and improve our service:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Account Data:"})," Email address, name, and authentication credentials"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Usage Data:"})," Links saved, categories created, notes, and screenshots"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Device Information:"})," Browser type, device type, IP address, and operating system"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Analytics Data:"})," App usage patterns, feature interactions, and performance metrics"]})]})]})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{style:{color:"#545DEA"},children:"How We Use Information"})}),s.jsxs(X,{className:"prose prose-sm max-w-none dark:prose-invert",children:[s.jsx("p",{children:"Your information is used for the following purposes:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Authentication:"})," To verify your identity and provide secure access"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Personalization:"})," To customize your experience and save your preferences"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Support:"})," To respond to your inquiries and provide customer assistance"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Service Improvement:"})," To analyze usage patterns and enhance features"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Marketing:"})," Only with your explicit consent, to send promotional communications"]})]})]})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{style:{color:"#545DEA"},children:"Sharing of Information"})}),s.jsxs(X,{className:"prose prose-sm max-w-none dark:prose-invert",children:[s.jsx("p",{children:"We share information only in limited circumstances:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Payment Processors:"})," Stripe for subscription billing"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Analytics Providers:"})," Aggregate usage data for service improvement"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Storage Providers:"})," Secure cloud storage for your saved content"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legal Requirements:"})," When required by law or to protect our rights"]})]}),s.jsx("p",{className:"mt-4",children:s.jsx("strong",{children:"We do not sell your personal data to third parties."})})]})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{style:{color:"#545DEA"},children:"Data Retention & Deletion"})}),s.jsxs(X,{className:"prose prose-sm max-w-none dark:prose-invert",children:[s.jsx("p",{children:"We retain your data as follows:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Active Accounts:"})," Data is stored while your account is active"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Deleted Accounts:"})," Data is permanently removed within 30 days of deletion"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legal Requirements:"})," Some data may be retained longer if required by law"]})]}),s.jsxs("p",{className:"mt-4",children:["You have the right to request deletion of your account at any time. Visit our"," ",s.jsx("a",{href:"/account-deletion",className:"font-medium",style:{color:"#545DEA"},children:"Account Deletion page"}),"."]})]})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{style:{color:"#545DEA"},children:"Security Measures"})}),s.jsxs(X,{className:"prose prose-sm max-w-none dark:prose-invert",children:[s.jsx("p",{children:"We implement industry-standard security measures:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Encrypted connections (HTTPS/SSL) for all data transmission"}),s.jsx("li",{children:"Secure authentication and password hashing"}),s.jsx("li",{children:"Regular security audits and vulnerability assessments"}),s.jsx("li",{children:"Restricted access to personal data on a need-to-know basis"})]})]})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{style:{color:"#545DEA"},children:"User Rights & Choices"})}),s.jsxs(X,{className:"prose prose-sm max-w-none dark:prose-invert",children:[s.jsx("p",{children:"You have the following rights regarding your data:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Access:"})," View your personal information in your account settings"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Edit:"})," Update your profile and preferences at any time"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Delete:"})," Request complete account deletion"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Export:"})," Request a copy of your data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Opt-out:"})," Unsubscribe from marketing communications"]})]})]})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{style:{color:"#545DEA"},children:"Children's Privacy"})}),s.jsx(X,{className:"prose prose-sm max-w-none dark:prose-invert",children:s.jsx("p",{children:"Tagmentia can be used by individuals of all ages. For users under 13 years of age, we recommend parental guidance and supervision. Parents or guardians should review this Privacy Policy and help younger users understand how their information is collected and used."})})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{style:{color:"#545DEA"},children:"Contact Us"})}),s.jsxs(X,{className:"prose prose-sm max-w-none dark:prose-invert",children:[s.jsx("p",{children:"If you have questions about this Privacy Policy or our data practices, please contact us:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:["Email: ",s.jsx("a",{href:"mailto:support@tagmentia.com",style:{color:"#545DEA"},children:"support@tagmentia.com"})]}),s.jsxs("li",{children:["Support Page: ",s.jsx("a",{href:"/support",style:{color:"#545DEA"},children:"Contact Support"})]})]})]})]}),s.jsx("div",{className:"text-center text-sm text-muted-foreground mt-8 pb-8",children:s.jsxs("p",{children:["Last updated: ",e]})})]})})},wie=()=>{const e=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return s.jsx(qv,{title:"Terms of Service",description:"Read the terms and conditions for using Tagmentia's services.",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",style:{color:"#545DEA"},children:"Terms of Service"}),s.jsx("p",{className:"text-muted-foreground",children:"Please read these terms carefully before using Tagmentia."})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{style:{color:"#545DEA"},children:"Acceptance of Terms"})}),s.jsx(X,{className:"prose prose-sm max-w-none dark:prose-invert",children:s.jsx("p",{children:"By accessing or using Tagmentia, you agree to be bound by these Terms of Service and our Privacy Policy. If you do not agree to these terms, please do not use our service."})})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{style:{color:"#545DEA"},children:"Description of Service"})}),s.jsxs(X,{className:"prose prose-sm max-w-none dark:prose-invert",children:[s.jsx("p",{children:"Tagmentia is a digital organization platform that enables users to:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Save and categorize web links and video content"}),s.jsx("li",{children:"Create and manage notes with rich text formatting"}),s.jsx("li",{children:"Capture and organize screenshots"}),s.jsx("li",{children:"Share content with other users"}),s.jsx("li",{children:"Access AI-powered summaries (on premium plans)"})]})]})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{style:{color:"#545DEA"},children:"Eligibility"})}),s.jsx(X,{className:"prose prose-sm max-w-none dark:prose-invert",children:s.jsx("p",{children:"Tagmentia is available for users of all ages. For users under 13 years old, we strongly recommend parental guidance and supervision. Users under 18 should have parental or guardian consent to use the service."})})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{style:{color:"#545DEA"},children:"User Accounts & Responsibilities"})}),s.jsxs(X,{className:"prose prose-sm max-w-none dark:prose-invert",children:[s.jsx("p",{children:"When creating an account, you agree to:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Provide accurate and complete registration information"}),s.jsx("li",{children:"Maintain the security of your password and account"}),s.jsx("li",{children:"Notify us immediately of any unauthorized access"}),s.jsx("li",{children:"Be responsible for all activities under your account"}),s.jsx("li",{children:"Not share your account credentials with others"})]})]})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{style:{color:"#545DEA"},children:"Subscriptions & Billing"})}),s.jsxs(X,{className:"prose prose-sm max-w-none dark:prose-invert",children:[s.jsx("p",{children:s.jsx("strong",{children:"Plan Tiers:"})}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Free Plan:"})," Basic features with usage limits"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Premium Plan:"})," Enhanced features and increased limits"]})]}),s.jsx("p",{className:"mt-4",children:s.jsx("strong",{children:"Billing:"})}),s.jsxs("ul",{children:[s.jsx("li",{children:"Subscriptions are billed through Stripe or in-app purchases (iOS/Android)"}),s.jsx("li",{children:"Subscriptions automatically renew unless canceled"}),s.jsx("li",{children:"Cancellation takes effect at the end of the current billing period"}),s.jsx("li",{children:"Refunds are handled according to our refund policy or store policies"}),s.jsx("li",{children:"We reserve the right to change pricing with 30 days notice"})]})]})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{style:{color:"#545DEA"},children:"Intellectual Property"})}),s.jsx(X,{className:"prose prose-sm max-w-none dark:prose-invert",children:s.jsxs("p",{children:["The Tagmentia name, logo, design, and all related intellectual property are owned by",s.jsx("strong",{children:" Disinnova Ltd"}),". You retain ownership of content you create and upload, but grant us a license to store, display, and process it to provide our services."]})})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{style:{color:"#545DEA"},children:"Prohibited Use"})}),s.jsxs(X,{className:"prose prose-sm max-w-none dark:prose-invert",children:[s.jsx("p",{children:"You agree NOT to use Tagmentia to:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Harass, abuse, or harm other users"}),s.jsx("li",{children:"Upload illegal, infringing, or inappropriate content"}),s.jsx("li",{children:"Attempt to gain unauthorized access to our systems"}),s.jsx("li",{children:"Use automated scraping or data collection tools"}),s.jsx("li",{children:"Violate any applicable laws or regulations"}),s.jsx("li",{children:"Impersonate others or misrepresent your identity"}),s.jsx("li",{children:"Distribute malware, viruses, or harmful code"})]})]})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{style:{color:"#545DEA"},children:"Limitation of Liability & Disclaimer"})}),s.jsx(X,{className:"prose prose-sm max-w-none dark:prose-invert",children:s.jsx("p",{children:'Tagmentia is provided "as is" without warranties of any kind. We do not guarantee uninterrupted or error-free service. To the maximum extent permitted by law, Disinnova Ltd shall not be liable for any indirect, incidental, or consequential damages arising from your use of the service.'})})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{style:{color:"#545DEA"},children:"Termination of Account"})}),s.jsxs(X,{className:"prose prose-sm max-w-none dark:prose-invert",children:[s.jsx("p",{children:"We reserve the right to:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Suspend or terminate accounts that violate these terms"}),s.jsx("li",{children:"Remove content that violates our policies"}),s.jsx("li",{children:"Refuse service to anyone for any reason"})]}),s.jsxs("p",{className:"mt-4",children:["You may terminate your account at any time by visiting the"," ",s.jsx("a",{href:"/account-deletion",className:"font-medium",style:{color:"#545DEA"},children:"Account Deletion page"}),"."]})]})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{style:{color:"#545DEA"},children:"Governing Law"})}),s.jsx(X,{className:"prose prose-sm max-w-none dark:prose-invert",children:s.jsxs("p",{children:["These Terms of Service are governed by the laws of the ",s.jsx("strong",{children:"United Kingdom"}),". Any disputes shall be resolved in UK courts."]})})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{style:{color:"#545DEA"},children:"Contact Information"})}),s.jsxs(X,{className:"prose prose-sm max-w-none dark:prose-invert",children:[s.jsx("p",{children:"For questions about these Terms of Service, contact us:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:["Email: ",s.jsx("a",{href:"mailto:support@tagmentia.com",style:{color:"#545DEA"},children:"support@tagmentia.com"})]}),s.jsxs("li",{children:["Support Page: ",s.jsx("a",{href:"/support",style:{color:"#545DEA"},children:"Contact Support"})]})]})]})]}),s.jsx("div",{className:"text-center text-sm text-muted-foreground mt-8 pb-8",children:s.jsxs("p",{children:["Last updated: ",e]})})]})})};var lt;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(lt||(lt={}));var cP;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(cP||(cP={}));const Ee=lt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),qi=e=>{switch(typeof e){case"undefined":return Ee.undefined;case"string":return Ee.string;case"number":return Number.isNaN(e)?Ee.nan:Ee.number;case"boolean":return Ee.boolean;case"function":return Ee.function;case"bigint":return Ee.bigint;case"symbol":return Ee.symbol;case"object":return Array.isArray(e)?Ee.array:e===null?Ee.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ee.promise:typeof Map<"u"&&e instanceof Map?Ee.map:typeof Set<"u"&&e instanceof Set?Ee.set:typeof Date<"u"&&e instanceof Date?Ee.date:Ee.object;default:return Ee.unknown}},ye=lt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ca extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),n}static assert(t){if(!(t instanceof ca))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,lt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ca.create=e=>new ca(e);const Sj=(e,t)=>{let r;switch(e.code){case ye.invalid_type:e.received===Ee.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ye.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,lt.jsonStringifyReplacer)}`;break;case ye.unrecognized_keys:r=`Unrecognized key(s) in object: ${lt.joinValues(e.keys,", ")}`;break;case ye.invalid_union:r="Invalid input";break;case ye.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${lt.joinValues(e.options)}`;break;case ye.invalid_enum_value:r=`Invalid enum value. Expected ${lt.joinValues(e.options)}, received '${e.received}'`;break;case ye.invalid_arguments:r="Invalid function arguments";break;case ye.invalid_return_type:r="Invalid function return type";break;case ye.invalid_date:r="Invalid date";break;case ye.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:lt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ye.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ye.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ye.custom:r="Invalid input";break;case ye.invalid_intersection_types:r="Intersection results could not be merged";break;case ye.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ye.not_finite:r="Number must be finite";break;default:r=t.defaultError,lt.assertNever(e)}return{message:r}};let jie=Sj;function Nie(){return jie}const Sie=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Se(e,t){const r=Nie(),n=Sie({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Sj?void 0:Sj].filter(a=>!!a)});e.common.issues.push(n)}class qn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return $e;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return qn.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return $e;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const $e=Object.freeze({status:"aborted"}),sf=e=>({status:"dirty",value:e}),As=e=>({status:"valid",value:e}),dP=e=>e.status==="aborted",uP=e=>e.status==="dirty",Rd=e=>e.status==="valid",Dg=e=>typeof Promise<"u"&&e instanceof Promise;var Ae;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ae||(Ae={}));class Ao{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const fP=(e,t)=>{if(Rd(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ca(e.common.issues);return this._error=r,this._error}}};function Ke(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class it{get description(){return this._def.description}_getType(t){return qi(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:qi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new qn,ctx:{common:t.parent.common,data:t.data,parsedType:qi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Dg(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:qi(t)},a=this._parseSync({data:t,path:n.path,parent:n});return fP(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:qi(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return Rd(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>Rd(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:qi(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Dg(a)?a:Promise.resolve(a));return fP(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:ye.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Id({schema:this,typeName:Fe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return xo.create(this,this._def)}nullable(){return Md.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Pa.create(this)}promise(){return $g.create(this,this._def)}or(t){return Mg.create([this,t],this._def)}and(t){return Lg.create(this,t,this._def)}transform(t){return new Id({...Ke(this._def),schema:this,typeName:Fe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new kj({...Ke(this._def),innerType:this,defaultValue:r,typeName:Fe.ZodDefault})}brand(){return new Gie({typeName:Fe.ZodBranded,type:this,...Ke(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Ej({...Ke(this._def),innerType:this,catchValue:r,typeName:Fe.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return HS.create(this,t)}readonly(){return Pj.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Cie=/^c[^\s-]{8,}$/i,_ie=/^[0-9a-z]+$/,kie=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Eie=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Pie=/^[a-z0-9_-]{21}$/i,Aie=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Tie=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Oie=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Rie="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let s0;const Die=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Iie=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Mie=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Lie=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$ie=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Fie=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,lF="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Uie=new RegExp(`^${lF}$`);function cF(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Bie(e){return new RegExp(`^${cF(e)}$`)}function zie(e){let t=`${lF}T${cF(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Vie(e,t){return!!((t==="v4"||!t)&&Die.test(e)||(t==="v6"||!t)&&Mie.test(e))}function Wie(e,t){if(!Aie.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function qie(e,t){return!!((t==="v4"||!t)&&Iie.test(e)||(t==="v6"||!t)&&Lie.test(e))}class ao extends it{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ee.string){const i=this._getOrReturnCtx(t);return Se(i,{code:ye.invalid_type,expected:Ee.string,received:i.parsedType}),$e}const n=new qn;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Se(a,{code:ye.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Se(a,{code:ye.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Se(a,{code:ye.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Se(a,{code:ye.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Oie.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"email",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")s0||(s0=new RegExp(Rie,"u")),s0.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"emoji",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Eie.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"uuid",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Pie.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"nanoid",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Cie.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"cuid",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")_ie.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"cuid2",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")kie.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"ulid",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Se(a,{validation:"url",code:ye.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"regex",code:ye.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Se(a,{code:ye.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Se(a,{code:ye.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Se(a,{code:ye.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?zie(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{code:ye.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Uie.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{code:ye.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Bie(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{code:ye.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Tie.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"duration",code:ye.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Vie(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"ip",code:ye.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Wie(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"jwt",code:ye.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?qie(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"cidr",code:ye.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?$ie.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"base64",code:ye.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Fie.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"base64url",code:ye.invalid_string,message:i.message}),n.dirty()):lt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:ye.invalid_string,...Ae.errToObj(n)})}_addCheck(t){return new ao({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ae.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ae.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ae.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ae.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ae.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ae.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ae.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ae.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ae.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ae.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ae.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ae.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ae.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ae.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ae.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ae.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ae.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ae.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ae.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ae.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ae.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ae.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ae.errToObj(r)})}nonempty(t){return this.min(1,Ae.errToObj(t))}trim(){return new ao({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ao({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ao({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ao.create=e=>new ao({checks:[],typeName:Fe.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Ke(e)});function Hie(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class ih extends it{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ee.number){const i=this._getOrReturnCtx(t);return Se(i,{code:ye.invalid_type,expected:Ee.number,received:i.parsedType}),$e}let n;const a=new qn;for(const i of this._def.checks)i.kind==="int"?lt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Se(n,{code:ye.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:ye.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:ye.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?Hie(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Se(n,{code:ye.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Se(n,{code:ye.not_finite,message:i.message}),a.dirty()):lt.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ae.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ae.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ae.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ae.toString(r))}setLimit(t,r,n,a){return new ih({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ae.toString(a)}]})}_addCheck(t){return new ih({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ae.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ae.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ae.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ae.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ae.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ae.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ae.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ae.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ae.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&lt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}ih.create=e=>new ih({checks:[],typeName:Fe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ke(e)});class oh extends it{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ee.bigint)return this._getInvalidInput(t);let n;const a=new qn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:ye.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:ye.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:ye.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):lt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Se(r,{code:ye.invalid_type,expected:Ee.bigint,received:r.parsedType}),$e}gte(t,r){return this.setLimit("min",t,!0,Ae.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ae.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ae.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ae.toString(r))}setLimit(t,r,n,a){return new oh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ae.toString(a)}]})}_addCheck(t){return new oh({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ae.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ae.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ae.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ae.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ae.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}oh.create=e=>new oh({checks:[],typeName:Fe.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Ke(e)});class Cj extends it{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ee.boolean){const n=this._getOrReturnCtx(t);return Se(n,{code:ye.invalid_type,expected:Ee.boolean,received:n.parsedType}),$e}return As(t.data)}}Cj.create=e=>new Cj({typeName:Fe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ke(e)});class Ig extends it{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ee.date){const i=this._getOrReturnCtx(t);return Se(i,{code:ye.invalid_type,expected:Ee.date,received:i.parsedType}),$e}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Se(i,{code:ye.invalid_date}),$e}const n=new qn;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Se(a,{code:ye.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Se(a,{code:ye.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):lt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ig({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ae.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ae.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Ig.create=e=>new Ig({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Fe.ZodDate,...Ke(e)});class hP extends it{_parse(t){if(this._getType(t)!==Ee.symbol){const n=this._getOrReturnCtx(t);return Se(n,{code:ye.invalid_type,expected:Ee.symbol,received:n.parsedType}),$e}return As(t.data)}}hP.create=e=>new hP({typeName:Fe.ZodSymbol,...Ke(e)});class mP extends it{_parse(t){if(this._getType(t)!==Ee.undefined){const n=this._getOrReturnCtx(t);return Se(n,{code:ye.invalid_type,expected:Ee.undefined,received:n.parsedType}),$e}return As(t.data)}}mP.create=e=>new mP({typeName:Fe.ZodUndefined,...Ke(e)});class pP extends it{_parse(t){if(this._getType(t)!==Ee.null){const n=this._getOrReturnCtx(t);return Se(n,{code:ye.invalid_type,expected:Ee.null,received:n.parsedType}),$e}return As(t.data)}}pP.create=e=>new pP({typeName:Fe.ZodNull,...Ke(e)});class gP extends it{constructor(){super(...arguments),this._any=!0}_parse(t){return As(t.data)}}gP.create=e=>new gP({typeName:Fe.ZodAny,...Ke(e)});class xP extends it{constructor(){super(...arguments),this._unknown=!0}_parse(t){return As(t.data)}}xP.create=e=>new xP({typeName:Fe.ZodUnknown,...Ke(e)});class To extends it{_parse(t){const r=this._getOrReturnCtx(t);return Se(r,{code:ye.invalid_type,expected:Ee.never,received:r.parsedType}),$e}}To.create=e=>new To({typeName:Fe.ZodNever,...Ke(e)});class vP extends it{_parse(t){if(this._getType(t)!==Ee.undefined){const n=this._getOrReturnCtx(t);return Se(n,{code:ye.invalid_type,expected:Ee.void,received:n.parsedType}),$e}return As(t.data)}}vP.create=e=>new vP({typeName:Fe.ZodVoid,...Ke(e)});class Pa extends it{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Ee.array)return Se(r,{code:ye.invalid_type,expected:Ee.array,received:r.parsedType}),$e;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Se(r,{code:o?ye.too_big:ye.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Se(r,{code:ye.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Se(r,{code:ye.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Ao(r,o,r.path,l)))).then(o=>qn.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Ao(r,o,r.path,l)));return qn.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Pa({...this._def,minLength:{value:t,message:Ae.toString(r)}})}max(t,r){return new Pa({...this._def,maxLength:{value:t,message:Ae.toString(r)}})}length(t,r){return new Pa({...this._def,exactLength:{value:t,message:Ae.toString(r)}})}nonempty(t){return this.min(1,t)}}Pa.create=(e,t)=>new Pa({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Fe.ZodArray,...Ke(t)});function Oc(e){if(e instanceof Jt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=xo.create(Oc(n))}return new Jt({...e._def,shape:()=>t})}else return e instanceof Pa?new Pa({...e._def,type:Oc(e.element)}):e instanceof xo?xo.create(Oc(e.unwrap())):e instanceof Md?Md.create(Oc(e.unwrap())):e instanceof Yl?Yl.create(e.items.map(t=>Oc(t))):e}class Jt extends it{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=lt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Ee.object){const d=this._getOrReturnCtx(t);return Se(d,{code:ye.invalid_type,expected:Ee.object,received:d.parsedType}),$e}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof To&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ao(a,f,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof To){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(Se(a,{code:ye.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ao(a,f,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const f=await u.key,m=await u.value;d.push({key:f,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>qn.mergeObjectSync(n,d)):qn.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Ae.errToObj,new Jt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Ae.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Jt({...this._def,unknownKeys:"strip"})}passthrough(){return new Jt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Jt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Jt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Fe.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Jt({...this._def,catchall:t})}pick(t){const r={};for(const n of lt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Jt({...this._def,shape:()=>r})}omit(t){const r={};for(const n of lt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Jt({...this._def,shape:()=>r})}deepPartial(){return Oc(this)}partial(t){const r={};for(const n of lt.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Jt({...this._def,shape:()=>r})}required(t){const r={};for(const n of lt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof xo;)i=i._def.innerType;r[n]=i}return new Jt({...this._def,shape:()=>r})}keyof(){return dF(lt.objectKeys(this.shape))}}Jt.create=(e,t)=>new Jt({shape:()=>e,unknownKeys:"strip",catchall:To.create(),typeName:Fe.ZodObject,...Ke(t)});Jt.strictCreate=(e,t)=>new Jt({shape:()=>e,unknownKeys:"strict",catchall:To.create(),typeName:Fe.ZodObject,...Ke(t)});Jt.lazycreate=(e,t)=>new Jt({shape:e,unknownKeys:"strip",catchall:To.create(),typeName:Fe.ZodObject,...Ke(t)});class Mg extends it{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new ca(l.ctx.common.issues));return Se(r,{code:ye.invalid_union,unionErrors:o}),$e}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new ca(c));return Se(r,{code:ye.invalid_union,unionErrors:l}),$e}}get options(){return this._def.options}}Mg.create=(e,t)=>new Mg({options:e,typeName:Fe.ZodUnion,...Ke(t)});function _j(e,t){const r=qi(e),n=qi(t);if(e===t)return{valid:!0,data:e};if(r===Ee.object&&n===Ee.object){const a=lt.objectKeys(t),i=lt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=_j(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Ee.array&&n===Ee.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=_j(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Ee.date&&n===Ee.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Lg extends it{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(dP(i)||dP(o))return $e;const l=_j(i.value,o.value);return l.valid?((uP(i)||uP(o))&&r.dirty(),{status:r.value,value:l.data}):(Se(n,{code:ye.invalid_intersection_types}),$e)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Lg.create=(e,t,r)=>new Lg({left:e,right:t,typeName:Fe.ZodIntersection,...Ke(r)});class Yl extends it{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ee.array)return Se(n,{code:ye.invalid_type,expected:Ee.array,received:n.parsedType}),$e;if(n.data.length<this._def.items.length)return Se(n,{code:ye.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),$e;!this._def.rest&&n.data.length>this._def.items.length&&(Se(n,{code:ye.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ao(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>qn.mergeArray(r,o)):qn.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Yl({...this._def,rest:t})}}Yl.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Yl({items:e,typeName:Fe.ZodTuple,rest:null,...Ke(t)})};class yP extends it{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ee.map)return Se(n,{code:ye.invalid_type,expected:Ee.map,received:n.parsedType}),$e;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:a._parse(new Ao(n,l,n.path,[d,"key"])),value:i._parse(new Ao(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return $e;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return $e;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}yP.create=(e,t,r)=>new yP({valueType:t,keyType:e,typeName:Fe.ZodMap,...Ke(r)});class lh extends it{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ee.set)return Se(n,{code:ye.invalid_type,expected:Ee.set,received:n.parsedType}),$e;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Se(n,{code:ye.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Se(n,{code:ye.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return $e;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...n.data.values()].map((c,d)=>i._parse(new Ao(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new lh({...this._def,minSize:{value:t,message:Ae.toString(r)}})}max(t,r){return new lh({...this._def,maxSize:{value:t,message:Ae.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}lh.create=(e,t)=>new lh({valueType:e,minSize:null,maxSize:null,typeName:Fe.ZodSet,...Ke(t)});class bP extends it{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}bP.create=(e,t)=>new bP({getter:e,typeName:Fe.ZodLazy,...Ke(t)});class wP extends it{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Se(r,{received:r.data,code:ye.invalid_literal,expected:this._def.value}),$e}return{status:"valid",value:t.data}}get value(){return this._def.value}}wP.create=(e,t)=>new wP({value:e,typeName:Fe.ZodLiteral,...Ke(t)});function dF(e,t){return new Dd({values:e,typeName:Fe.ZodEnum,...Ke(t)})}class Dd extends it{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Se(r,{expected:lt.joinValues(n),received:r.parsedType,code:ye.invalid_type}),$e}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Se(r,{received:r.data,code:ye.invalid_enum_value,options:n}),$e}return As(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Dd.create(t,{...this._def,...r})}exclude(t,r=this._def){return Dd.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Dd.create=dF;class jP extends it{_parse(t){const r=lt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ee.string&&n.parsedType!==Ee.number){const a=lt.objectValues(r);return Se(n,{expected:lt.joinValues(a),received:n.parsedType,code:ye.invalid_type}),$e}if(this._cache||(this._cache=new Set(lt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=lt.objectValues(r);return Se(n,{received:n.data,code:ye.invalid_enum_value,options:a}),$e}return As(t.data)}get enum(){return this._def.values}}jP.create=(e,t)=>new jP({values:e,typeName:Fe.ZodNativeEnum,...Ke(t)});class $g extends it{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ee.promise&&r.common.async===!1)return Se(r,{code:ye.invalid_type,expected:Ee.promise,received:r.parsedType}),$e;const n=r.parsedType===Ee.promise?r.data:Promise.resolve(r.data);return As(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}$g.create=(e,t)=>new $g({type:e,typeName:Fe.ZodPromise,...Ke(t)});class Id extends it{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Fe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Se(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return $e;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?$e:c.status==="dirty"||r.value==="dirty"?sf(c.value):c});{if(r.value==="aborted")return $e;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?$e:l.status==="dirty"||r.value==="dirty"?sf(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?$e:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?$e:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Rd(o))return $e;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Rd(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):$e);lt.assertNever(a)}}Id.create=(e,t,r)=>new Id({schema:e,typeName:Fe.ZodEffects,effect:t,...Ke(r)});Id.createWithPreprocess=(e,t,r)=>new Id({schema:t,effect:{type:"preprocess",transform:e},typeName:Fe.ZodEffects,...Ke(r)});class xo extends it{_parse(t){return this._getType(t)===Ee.undefined?As(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}xo.create=(e,t)=>new xo({innerType:e,typeName:Fe.ZodOptional,...Ke(t)});class Md extends it{_parse(t){return this._getType(t)===Ee.null?As(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Md.create=(e,t)=>new Md({innerType:e,typeName:Fe.ZodNullable,...Ke(t)});class kj extends it{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ee.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}kj.create=(e,t)=>new kj({innerType:e,typeName:Fe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ke(t)});class Ej extends it{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Dg(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ca(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ca(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Ej.create=(e,t)=>new Ej({innerType:e,typeName:Fe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ke(t)});class NP extends it{_parse(t){if(this._getType(t)!==Ee.nan){const n=this._getOrReturnCtx(t);return Se(n,{code:ye.invalid_type,expected:Ee.nan,received:n.parsedType}),$e}return{status:"valid",value:t.data}}}NP.create=e=>new NP({typeName:Fe.ZodNaN,...Ke(e)});class Gie extends it{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class HS extends it{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?$e:i.status==="dirty"?(r.dirty(),sf(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?$e:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new HS({in:t,out:r,typeName:Fe.ZodPipeline})}}class Pj extends it{_parse(t){const r=this._def.innerType._parse(t),n=a=>(Rd(a)&&(a.value=Object.freeze(a.value)),a);return Dg(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}Pj.create=(e,t)=>new Pj({innerType:e,typeName:Fe.ZodReadonly,...Ke(t)});Jt.lazycreate;var Fe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Fe||(Fe={}));const Mp=ao.create,Kie=Cj.create;To.create;Pa.create;const uF=Jt.create;Jt.strictCreate;Mg.create;Lg.create;Yl.create;const Yie=Dd.create;$g.create;xo.create;Md.create;const Qie=uF({name:Mp().trim().min(1,"Name is required").max(100),email:Mp().trim().email("Invalid email address").max(255),category:Yie(["Support","Feedback","Complaint"]),message:Mp().trim().min(10,"Message must be at least 10 characters").max(2e3)}),Jie=()=>{const{toast:e}=Ge(),[t,r]=h.useState(!1),[n,a]=h.useState({name:"",email:"",category:"Support",message:""}),i=async o=>{o.preventDefault();try{const l=Qie.parse(n);r(!0);const{error:c}=await $.functions.invoke("send-help-feedback",{body:{name:l.name,email:l.email,category:l.category,message:l.message}});if(c)throw c;e({title:"Message sent!",description:"Thank you! We'll get back to you soon."}),a({name:"",email:"",category:"Support",message:""})}catch(l){l instanceof ca?e({title:"Validation error",description:l.errors[0].message,variant:"destructive"}):e({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}finally{r(!1)}};return s.jsx(qv,{title:"Contact Support",description:"Get help with your Tagmentia account or provide feedback about our service.",children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",style:{color:"#545DEA"},children:"Contact Support"}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Need help with your account or have a question about your plan? Contact us below and we'll get back to you as soon as possible."})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(Y,{children:[s.jsxs(oe,{children:[s.jsxs(le,{className:"flex items-center gap-2",children:[s.jsx(dg,{className:"h-5 w-5",style:{color:"#545DEA"}}),"Send Us a Message"]}),s.jsx(St,{children:"Fill out the form below to get in touch"})]}),s.jsx(X,{children:s.jsxs("form",{onSubmit:i,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"name",children:"Name *"}),s.jsx(de,{id:"name",placeholder:"Your full name",value:n.name,onChange:o=>a({...n,name:o.target.value}),required:!0,maxLength:100})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"email",children:"Email *"}),s.jsx(de,{id:"email",type:"email",placeholder:"your.email@example.com",value:n.email,onChange:o=>a({...n,email:o.target.value}),required:!0,maxLength:255})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"category",children:"Category *"}),s.jsxs(qe,{value:n.category,onValueChange:o=>a({...n,category:o}),children:[s.jsx(Ve,{id:"category",children:s.jsx(He,{})}),s.jsxs(We,{children:[s.jsx(se,{value:"Support",children:"Support"}),s.jsx(se,{value:"Feedback",children:"Feedback"}),s.jsx(se,{value:"Complaint",children:"Complaint"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"message",children:"Message *"}),s.jsx(_r,{id:"message",placeholder:"Please describe your issue or feedback in detail...",value:n.message,onChange:o=>a({...n,message:o.target.value}),required:!0,rows:6,maxLength:2e3}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.message.length,"/2000 characters"]})]}),s.jsxs(O,{type:"submit",className:"w-full",style:{backgroundColor:"#545DEA"},disabled:t,children:[t&&s.jsx(Rt,{className:"mr-2 h-4 w-4 animate-spin"}),"Send Message"]})]})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Y,{children:[s.jsxs(oe,{children:[s.jsxs(le,{className:"flex items-center gap-2",children:[s.jsx(Ul,{className:"h-5 w-5",style:{color:"#545DEA"}}),"Direct Email"]}),s.jsx(St,{children:"Prefer to email us directly?"})]}),s.jsxs(X,{children:[s.jsx("a",{href:"mailto:support@tagmentia.com",className:"text-lg font-medium hover:underline",style:{color:"#545DEA"},children:"support@tagmentia.com"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"We typically respond within 24-48 hours during business days."})]})]}),s.jsxs(Y,{children:[s.jsxs(oe,{children:[s.jsx(le,{children:"Frequently Asked Questions"}),s.jsx(St,{children:"Quick answers to common questions"})]}),s.jsx(X,{children:s.jsxs(F$,{type:"single",collapsible:!0,className:"w-full",children:[s.jsxs(dl,{value:"item-1",children:[s.jsx(ul,{children:"How do I upgrade my plan?"}),s.jsx(fl,{children:"You can upgrade your plan from the Settings page in the app. Navigate to Settings  Subscription  Choose Plan. Premium plan unlocks additional features and storage."})]}),s.jsxs(dl,{value:"item-2",children:[s.jsx(ul,{children:"How do I delete my account?"}),s.jsxs(fl,{children:["Visit our ",s.jsx("a",{href:"/account-deletion",className:"underline",style:{color:"#545DEA"},children:"Account Deletion page"})," for instructions. You can delete your account instantly from Settings in the app, or request assistance through our support form."]})]}),s.jsxs(dl,{value:"item-3",children:[s.jsx(ul,{children:"What are the storage limits?"}),s.jsx(fl,{children:"Free Plan: 5 screenshots, 3 categories max, 10 videos per category. Premium Plan: Unlimited snapshots, unlimited categories, unlimited videos per category, 500 MB storage quota."})]}),s.jsxs(dl,{value:"item-4",children:[s.jsx(ul,{children:"Can I cancel my subscription anytime?"}),s.jsx(fl,{children:"Yes! You can cancel your subscription at any time from Settings  Subscription. Your subscription remains active until the end of your current billing period."})]}),s.jsxs(dl,{value:"item-5",children:[s.jsx(ul,{children:"How do I share content with others?"}),s.jsx(fl,{children:"Tagmentia supports sharing links and videos. Simply tap the share icon on any saved item to generate a shareable link or send directly to other users."})]})]})})]})]})]})]})})};var Hv="Checkbox",[Zie,HNe]=ur(Hv),[Xie,GS]=Zie(Hv);function eoe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:f}=e,[m,p]=cn({prop:r,defaultProp:a??!1,onChange:c,caller:Hv}),[x,g]=h.useState(null),[w,y]=h.useState(null),v=h.useRef(!1),b=x?!!o||!!x.closest("form"):!0,j={checked:m,disabled:i,setChecked:p,control:x,setControl:g,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:v,required:d,defaultChecked:vo(a)?!1:a,isFormControl:b,bubbleInput:w,setBubbleInput:y};return s.jsx(Xie,{scope:t,...j,children:toe(f)?f(j):n})}var fF="CheckboxTrigger",hF=h.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:x}=GS(fF,e),g=De(a,u),w=h.useRef(c);return h.useEffect(()=>{const y=i==null?void 0:i.form;if(y){const v=()=>f(w.current);return y.addEventListener("reset",v),()=>y.removeEventListener("reset",v)}},[i,f]),s.jsx(we.button,{type:"button",role:"checkbox","aria-checked":vo(c)?"mixed":c,"aria-required":d,"data-state":vF(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:ge(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:ge(r,y=>{f(v=>vo(v)?!0:!v),x&&p&&(m.current=y.isPropagationStopped(),m.current||y.stopPropagation())})})});hF.displayName=fF;var KS=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...f}=e;return s.jsx(eoe,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:n,form:u,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(hF,{...f,ref:t,__scopeCheckbox:r}),m&&s.jsx(xF,{__scopeCheckbox:r})]})})});KS.displayName=Hv;var mF="CheckboxIndicator",pF=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=GS(mF,r);return s.jsx(kr,{present:n||vo(i.checked)||i.checked===!0,children:s.jsx(we.span,{"data-state":vF(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});pF.displayName=mF;var gF="CheckboxBubbleInput",xF=h.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:f,bubbleInput:m,setBubbleInput:p}=GS(gF,e),x=De(r,p),g=vS(i),w=L1(n);h.useEffect(()=>{const v=m;if(!v)return;const b=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(b,"checked").set,S=!a.current;if(g!==i&&N){const C=new Event("click",{bubbles:S});v.indeterminate=vo(i),N.call(v,vo(i)?!1:i),v.dispatchEvent(C)}},[m,g,i,a]);const y=h.useRef(vo(i)?!1:i);return s.jsx(we.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:d,value:u,form:f,...t,tabIndex:-1,ref:x,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});xF.displayName=gF;function toe(e){return typeof e=="function"}function vo(e){return e==="indeterminate"}function vF(e){return vo(e)?"indeterminate":e?"checked":"unchecked"}const yF=h.forwardRef(({className:e,...t},r)=>s.jsx(KS,{ref:r,className:ne("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(pF,{className:ne("flex items-center justify-center text-current"),children:s.jsx(st,{className:"h-4 w-4"})})}));yF.displayName=KS.displayName;const roe=uF({email:Mp().trim().email("Invalid email address").max(255),confirmed:Kie().refine(e=>e===!0,{message:"You must confirm that you understand your data will be deleted"})}),noe=()=>{const{toast:e}=Ge(),[t,r]=h.useState(!1),[n,a]=h.useState(""),[i,o]=h.useState(!1),l=async c=>{c.preventDefault();try{const d=roe.parse({email:n,confirmed:i});r(!0);const{error:u}=await $.functions.invoke("send-help-feedback",{body:{name:"Account Deletion Request",email:d.email,category:"Support",message:`User has requested account deletion for email: ${d.email}. User confirmed understanding of permanent data deletion.`}});if(u)throw u;e({title:"Request submitted",description:"We've received your account deletion request. Our team will process it and contact you at the provided email."}),a(""),o(!1)}catch(d){d instanceof ca?e({title:"Validation error",description:d.errors[0].message,variant:"destructive"}):e({title:"Error",description:"Failed to submit request. Please try again.",variant:"destructive"})}finally{r(!1)}};return s.jsx(qv,{title:"Account Deletion",description:"Learn how to permanently delete your Tagmentia account and all associated data.",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",style:{color:"#545DEA"},children:"Account Deletion"}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"You can delete your Tagmentia account at any time. Deletion permanently removes your profile, saved links, snapshots, and notes."})]}),s.jsxs($r,{className:"border-destructive/50 bg-destructive/10",children:[s.jsx(us,{className:"h-4 w-4 text-destructive"}),s.jsxs(Fr,{className:"text-destructive",children:[s.jsx("strong",{children:"Warning:"})," Account deletion is permanent and cannot be undone. All your data including saved links, categories, notes, screenshots, and preferences will be permanently deleted."]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(Y,{children:[s.jsxs(oe,{children:[s.jsxs(le,{className:"flex items-center gap-2",children:[s.jsx(Kx,{className:"h-5 w-5",style:{color:"#545DEA"}}),"In-App Deletion (Instant)"]}),s.jsx(St,{children:"Delete your account directly from the app"})]}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"prose prose-sm dark:prose-invert",children:[s.jsx("p",{children:"To delete your account instantly:"}),s.jsxs("ol",{children:[s.jsx("li",{children:"Open the Tagmentia app"}),s.jsxs("li",{children:["Navigate to ",s.jsx("strong",{children:"Settings"})]}),s.jsxs("li",{children:["Scroll to ",s.jsx("strong",{children:"Account"})," section"]}),s.jsxs("li",{children:["Tap ",s.jsx("strong",{children:"Delete Account"})]}),s.jsx("li",{children:"Confirm the deletion"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Your account and all associated data will be permanently removed within minutes."})]}),s.jsx(O,{variant:"outline",className:"w-full",onClick:()=>window.location.href="/profile",children:"Go to Account Settings"})]})]}),s.jsxs(Y,{children:[s.jsxs(oe,{children:[s.jsxs(le,{className:"flex items-center gap-2",children:[s.jsx(yt,{className:"h-5 w-5",style:{color:"#545DEA"}}),"Request Assistance"]}),s.jsx(St,{children:"Need help deleting your account? Submit a request below"})]}),s.jsx(X,{children:s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"email",children:"Email Address *"}),s.jsx(de,{id:"email",type:"email",placeholder:"your.email@example.com",value:n,onChange:c=>a(c.target.value),required:!0,maxLength:255}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the email associated with your Tagmentia account"})]}),s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(yF,{id:"confirm",checked:i,onCheckedChange:c=>o(c),required:!0}),s.jsx(Q,{htmlFor:"confirm",className:"text-sm font-normal leading-tight cursor-pointer",children:"I understand my data will be permanently deleted and this action cannot be undone."})]}),s.jsxs(O,{type:"submit",className:"w-full",variant:"destructive",disabled:t||!i,children:[t&&s.jsx(Rt,{className:"mr-2 h-4 w-4 animate-spin"}),"Submit Deletion Request"]})]})})]})]}),s.jsxs(Y,{children:[s.jsxs(oe,{children:[s.jsx(le,{style:{color:"#545DEA"},children:"What Gets Deleted?"}),s.jsx(St,{children:"When you delete your account, the following data is permanently removed:"})]}),s.jsx(X,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-1.5 w-1.5 rounded-full",style:{backgroundColor:"#545DEA"}}),"Profile information (name, email, avatar)"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-1.5 w-1.5 rounded-full",style:{backgroundColor:"#545DEA"}}),"All saved links and videos"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-1.5 w-1.5 rounded-full",style:{backgroundColor:"#545DEA"}}),"Categories and organization"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-1.5 w-1.5 rounded-full",style:{backgroundColor:"#545DEA"}}),"Notes and annotations"]})]}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-1.5 w-1.5 rounded-full",style:{backgroundColor:"#545DEA"}}),"Screenshots and uploaded files"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-1.5 w-1.5 rounded-full",style:{backgroundColor:"#545DEA"}}),"Subscription information"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-1.5 w-1.5 rounded-full",style:{backgroundColor:"#545DEA"}}),"App preferences and settings"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-1.5 w-1.5 rounded-full",style:{backgroundColor:"#545DEA"}}),"Usage history and analytics"]})]})]})})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{style:{color:"#545DEA"},children:"Additional Information"})}),s.jsxs(X,{className:"prose prose-sm dark:prose-invert max-w-none",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Processing Time:"})," In-app deletion is instant. Deletion requests submitted through this form are typically processed within 2-3 business days."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Active Subscriptions:"})," If you have an active paid subscription, please cancel it before deleting your account to avoid future charges. Visit your subscription settings or contact your app store."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Data Retention:"})," Some anonymized usage data may be retained for up to 30 days for legal and security purposes, as outlined in our"," ",s.jsx("a",{href:"/privacy-policy",className:"font-medium",style:{color:"#545DEA"},children:"Privacy Policy"}),"."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Questions?"})," If you have questions about account deletion or data privacy, visit our ",s.jsx("a",{href:"/support",className:"font-medium",style:{color:"#545DEA"},children:"Support page"})," or email ",s.jsx("a",{href:"mailto:support@tagmentia.com",style:{color:"#545DEA"},children:"support@tagmentia.com"}),"."]})]})]})]})})},SP=({children:e})=>{const[t,r]=h.useState(null),[n,a]=h.useState(null),[i,o]=h.useState(!0),{currentLogoUrl:l}=hn(),c=Ie(),d=kn(),u=window.location.hostname.startsWith("admin."),m=(u?["/auth/login","/auth/forgot-password","/auth/reset-password","/account-suspended"]:["/","/home","/splash","/auth/login","/auth/signup","/auth/verify-email","/auth/onboarding","/auth/forgot-password","/account-suspended"]).some(y=>d.pathname.startsWith(y)),p=async y=>{try{const{data:v,error:b}=await $.rpc("has_role",{_user_id:y,_role:"admin"});return b?(console.error("Error checking user role:",b),!1):v===!0}catch(v){return console.error("Error checking user role:",v),!1}},x=async y=>{try{const{error:v}=await $.from("profiles").update({last_login_at:new Date().toISOString()}).eq("id",y);v&&console.error("Error updating last login:",v)}catch(v){console.error("Error updating last login:",v)}},g=async(y,v=!1)=>{try{const b=await p(y.id),N=window.location.hostname.startsWith("admin.");if(!b&&N){window.location.href="https://tagmentia-app.lovable.app/";return}v&&m&&c(N?"/":"/dashboard")}catch(b){console.error("Error in role-based redirect:",b),v&&m&&c(u?"/":"/dashboard")}},w=async y=>{try{const{data:v,error:b}=await $.from("profiles").select("status").eq("id",y).maybeSingle();if(b){console.error("Error fetching profile status:",b);return}(v==null?void 0:v.status)==="frozen"&&(d.pathname.startsWith("/account-suspended")||(await $.auth.signOut(),c("/account-suspended",{replace:!0})))}catch(v){console.error("verifyAccountStatus error:",v)}};return h.useEffect(()=>{const{data:{subscription:y}}=$.auth.onAuthStateChange((v,b)=>{a(b),r((b==null?void 0:b.user)??null),v==="SIGNED_IN"&&(b!=null&&b.user)&&(g(b.user,!0),setTimeout(()=>{w(b.user.id),x(b.user.id)},0)),v==="SIGNED_OUT"&&!m&&c(u?"/auth/login":"/splash")});return $.auth.getSession().then(({data:{session:v}})=>{a(v),r((v==null?void 0:v.user)??null),v!=null&&v.user?(g(v.user,!1),w(v.user.id)):!(v!=null&&v.user)&&!m&&c(u?"/auth/login":"/splash")}).catch(v=>{console.error("Session check error:",v),m||c(u?"/auth/login":"/splash")}).finally(()=>o(!1)),()=>y.unsubscribe()},[c,d.pathname,m]),i?s.jsx("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[l?s.jsx("div",{className:"mb-4 flex justify-center",children:s.jsx("img",{src:l,alt:"Logo",className:"h-20 w-auto max-w-[200px] object-contain"})}):s.jsx("div",{className:"w-20 h-20 bg-white rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-elevated",children:s.jsx("span",{className:"text-3xl font-bold text-primary",children:"T"})}),s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto"})]})}):s.jsx(s.Fragment,{children:e})};function Xm({children:e}){const t=kn(),[r,n]=h.useState(!0),[a,i]=h.useState(null),[o,l]=h.useState(null);h.useEffect(()=>{const{data:{subscription:d}}=$.auth.onAuthStateChange((u,f)=>{l(!!f),f!=null&&f.user?setTimeout(()=>{c(f.user.id)},0):(i(!1),n(!1))});return $.auth.getSession().then(({data:u})=>{const f=u.session;l(!!f),f!=null&&f.user?c(f.user.id):(i(!1),n(!1))}),()=>d.unsubscribe()},[]);const c=async d=>{try{const{data:u,error:f}=await $.rpc("has_role",{_user_id:d,_role:"admin"});if(f)throw f;i(!!u)}catch{const{data:f}=await $.from("user_roles").select("role").eq("user_id",d).eq("role","admin").limit(1);i(!!(f&&f.length>0))}finally{n(!1)}};return r?s.jsx("div",{className:"min-h-screen grid place-items-center bg-background text-foreground",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"h-4 w-4 animate-spin rounded-full border border-primary/30 border-t-primary"}),s.jsx("span",{className:"text-sm opacity-80",children:"Checking admin access"})]})}):o?a?s.jsx(s.Fragment,{children:e}):s.jsx("div",{className:"min-h-screen grid place-items-center bg-background text-foreground p-6",children:s.jsxs("div",{className:"max-w-md text-center space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Access denied"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"You are signed in but do not have permission to view the admin panel."}),s.jsx("div",{className:"text-sm",children:s.jsx("a",{className:"underline underline-offset-4",href:"https://tagmentia.com/",children:"Go to main site"})})]})}):s.jsx(nY,{to:"/auth/login",replace:!0,state:{from:t}})}const a0=768;function soe(){const[e,t]=h.useState(void 0);return h.useEffect(()=>{const r=window.matchMedia(`(max-width: ${a0-1}px)`),n=()=>{t(window.innerWidth<a0)};return r.addEventListener("change",n),t(window.innerWidth<a0),()=>r.removeEventListener("change",n)},[]),!!e}function CP({className:e,...t}){return s.jsx("div",{className:ne("animate-pulse rounded-md bg-muted",e),...t})}const aoe="sidebar:state",ioe=60*60*24*7,ooe="16rem",loe="18rem",coe="3rem",doe="b",bF=h.createContext(null);function Jh(){const e=h.useContext(bF);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const wF=h.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:a,children:i,...o},l)=>{const c=soe(),[d,u]=h.useState(!1),[f,m]=h.useState(e),p=t??f,x=h.useCallback(v=>{const b=typeof v=="function"?v(p):v;r?r(b):m(b),document.cookie=`${aoe}=${b}; path=/; max-age=${ioe}`},[r,p]),g=h.useCallback(()=>c?u(v=>!v):x(v=>!v),[c,x,u]);h.useEffect(()=>{const v=b=>{b.key===doe&&(b.metaKey||b.ctrlKey)&&(b.preventDefault(),g())};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[g]);const w=p?"expanded":"collapsed",y=h.useMemo(()=>({state:w,open:p,setOpen:x,isMobile:c,openMobile:d,setOpenMobile:u,toggleSidebar:g}),[w,p,x,c,d,u,g]);return s.jsx(bF.Provider,{value:y,children:s.jsx(Vw,{delayDuration:0,children:s.jsx("div",{style:{"--sidebar-width":ooe,"--sidebar-width-icon":coe,...a},className:ne("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:l,...o,children:i})})})});wF.displayName="SidebarProvider";const jF=h.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:a,...i},o)=>{const{isMobile:l,state:c,openMobile:d,setOpenMobile:u}=Jh();return r==="none"?s.jsx("div",{className:ne("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:o,...i,children:a}):l?s.jsx(l3,{open:d,onOpenChange:u,...i,children:s.jsx(bS,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":loe},side:e,children:s.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):s.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?r:"","data-variant":t,"data-side":e,children:[s.jsx("div",{className:ne("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",{className:ne("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:s.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});jF.displayName="Sidebar";const NF=h.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:a}=Jh();return s.jsxs(O,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ne("h-7 w-7",e),onClick:i=>{t==null||t(i),a()},...r,children:[s.jsx(BW,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});NF.displayName="SidebarTrigger";const uoe=h.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=Jh();return s.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:ne("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});uoe.displayName="SidebarRail";const foe=h.forwardRef(({className:e,...t},r)=>s.jsx("main",{ref:r,className:ne("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));foe.displayName="SidebarInset";const hoe=h.forwardRef(({className:e,...t},r)=>s.jsx(de,{ref:r,"data-sidebar":"input",className:ne("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));hoe.displayName="SidebarInput";const moe=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"header",className:ne("flex flex-col gap-2 p-2",e),...t}));moe.displayName="SidebarHeader";const poe=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"footer",className:ne("flex flex-col gap-2 p-2",e),...t}));poe.displayName="SidebarFooter";const goe=h.forwardRef(({className:e,...t},r)=>s.jsx(xn,{ref:r,"data-sidebar":"separator",className:ne("mx-2 w-auto bg-sidebar-border",e),...t}));goe.displayName="SidebarSeparator";const SF=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"content",className:ne("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));SF.displayName="SidebarContent";const CF=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group",className:ne("relative flex w-full min-w-0 flex-col p-2",e),...t}));CF.displayName="SidebarGroup";const _F=h.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?Zd:"div";return s.jsx(a,{ref:n,"data-sidebar":"group-label",className:ne("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});_F.displayName="SidebarGroupLabel";const xoe=h.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?Zd:"button";return s.jsx(a,{ref:n,"data-sidebar":"group-action",className:ne("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});xoe.displayName="SidebarGroupAction";const kF=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group-content",className:ne("w-full text-sm",e),...t}));kF.displayName="SidebarGroupContent";const EF=h.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu",className:ne("flex w-full min-w-0 flex-col gap-1",e),...t}));EF.displayName="SidebarMenu";const PF=h.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,"data-sidebar":"menu-item",className:ne("group/menu-item relative",e),...t}));PF.displayName="SidebarMenuItem";const voe=nc("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Lp=h.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:a,className:i,...o},l)=>{const c=e?Zd:"button",{isMobile:d,state:u}=Jh(),f=s.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:ne(voe({variant:r,size:n}),i),...o});return a?(typeof a=="string"&&(a={children:a}),s.jsxs(VG,{children:[s.jsx(WG,{asChild:!0,children:f}),s.jsx(mI,{side:"right",align:"center",hidden:u!=="collapsed"||d,...a})]})):f});Lp.displayName="SidebarMenuButton";const yoe=h.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},a)=>{const i=t?Zd:"button";return s.jsx(i,{ref:a,"data-sidebar":"menu-action",className:ne("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});yoe.displayName="SidebarMenuAction";const boe=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:ne("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));boe.displayName="SidebarMenuBadge";const woe=h.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const a=h.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return s.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:ne("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&s.jsx(CP,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx(CP,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});woe.displayName="SidebarMenuSkeleton";const joe=h.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:ne("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));joe.displayName="SidebarMenuSub";const Noe=h.forwardRef(({...e},t)=>s.jsx("li",{ref:t,...e}));Noe.displayName="SidebarMenuSubItem";const Soe=h.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...a},i)=>{const o=e?Zd:"a";return s.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:ne("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...a})});Soe.displayName="SidebarMenuSubButton";const Coe=[{title:"Dashboard Home",url:"/admin",icon:RW},{title:"User Management",url:"/admin/users",icon:E1},{title:"Waitlist",url:"/admin/waitlist",icon:$W},{title:"Broadcasting",url:"/admin/messaging",icon:UW},{title:"Billing",url:"/admin/billing",icon:cg},{title:"Subscription Management",url:"/admin/subscriptions",icon:Qr},{title:"Configuration",url:"/admin/configuration",icon:ND},{title:"System & Settings",url:"/admin/settings",icon:Kx}];function _oe(){const{state:e}=Jh(),t=kn(),r=Ie();t.pathname;const n=e==="collapsed",[a,i]=h.useState(""),{currentLogoUrl:o}=hn();console.log(" AdminSidebar: Rendering with currentLogoUrl:",o),console.log(" AdminSidebar: currentLogoUrl type:",typeof o),console.log(" AdminSidebar: currentLogoUrl truthy?",!!o);const l=d=>{const u=d.target.value;i(u),u.trim()&&r(`/admin/users?search=${encodeURIComponent(u.trim())}`)},c=async()=>{try{const{error:d}=await $.auth.signOut();d?re({title:"Error",description:"Failed to sign out. Please try again.",variant:"destructive"}):r("/auth/login")}catch{re({title:"Error",description:"An unexpected error occurred.",variant:"destructive"})}};return s.jsx(jF,{collapsible:"icon",className:"bg-slate-900 border-slate-800",children:s.jsxs(SF,{className:"bg-slate-900",children:[s.jsx("div",{className:"p-4 border-b border-slate-800",children:s.jsx("div",{className:"flex items-center justify-center min-h-[64px]",children:o?s.jsx("img",{src:o,alt:"Logo",className:n?"h-12 w-auto":"h-16 w-auto max-w-[240px]",onLoad:()=>console.log(" AdminSidebar: Logo loaded successfully"),onError:d=>{console.log(" AdminSidebar: Logo failed to load:",o),console.log(" AdminSidebar: Error:",d)}}):s.jsx("div",{className:n?"h-12 w-12 bg-slate-700/50 animate-pulse rounded":"h-16 w-32 bg-slate-700/50 animate-pulse rounded"})})}),!n&&s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(vt,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),s.jsx(de,{placeholder:"Search users, subscriptions...",value:a,onChange:l,className:"pl-10 bg-slate-800 border-slate-700 text-white placeholder:text-slate-400 focus:border-blue-500"})]})}),s.jsxs(CF,{children:[s.jsx(_F,{className:"text-slate-400 uppercase text-xs font-semibold tracking-wider px-4",children:"Admin Menu"}),s.jsx(kF,{children:s.jsx(EF,{children:Coe.map(d=>s.jsx(PF,{className:"px-2",children:s.jsx(Lp,{asChild:!0,children:s.jsxs(pY,{to:d.url,end:d.url==="/admin",className:({isActive:u})=>u?"bg-blue-600 text-white font-medium hover:bg-blue-700 transition-colors":"text-slate-300 hover:text-white hover:bg-slate-800 transition-colors",children:[s.jsx(d.icon,{className:"mr-2 h-4 w-4"}),!n&&s.jsx("span",{children:d.title})]})})},d.title))})})]}),s.jsxs("div",{className:"mt-auto p-2 space-y-1",children:[s.jsxs(Lp,{onClick:()=>r("/dashboard-web"),className:"w-full text-slate-300 hover:text-white hover:bg-slate-800 transition-colors",children:[s.jsx(Eh,{className:"mr-2 h-4 w-4"}),!n&&s.jsx("span",{children:"User Dashboard"})]}),s.jsxs(Lp,{onClick:c,className:"w-full text-slate-300 hover:text-white hover:bg-red-600/20 transition-colors",children:[s.jsx(Gx,{className:"mr-2 h-4 w-4"}),!n&&s.jsx("span",{children:"Logout"})]})]})]})})}function _P(){return s.jsx(wF,{children:s.jsxs("div",{className:"min-h-screen flex w-full bg-slate-50",children:[s.jsx(_oe,{}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx("header",{className:"h-12 flex items-center border-b bg-white border-slate-200",children:s.jsx(NF,{className:"ml-2 text-slate-700 hover:text-slate-900"})}),s.jsx("main",{className:"flex-1 bg-slate-50",children:s.jsx(TI,{})})]})]})})}var Gv={},AF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(AF);var YS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(YS);var QS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(QS);var Kv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],a=r.length;if(a===0)return n;let i=0,o="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<a;){const d=r[i];l?d==="\\"&&i+1<a?(i++,o+=r[i]):d===l?l="":o+=d:c?d==='"'||d==="'"?l=d:d==="]"?(c=!1,n.push(o),o=""):o+=d:d==="["?(c=!0,o&&(n.push(o),o="")):d==="."?o&&(n.push(o),o=""):o+=d,i++}return o&&n.push(o),n}e.toPath=t})(Kv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AF,r=YS,n=QS,a=Kv;function i(l,c,d){if(l==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?r.isDeepKey(c)?i(l,a.toPath(c),d):d:u}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const u=l[c];return u===void 0?d:u}default:{if(Array.isArray(c))return o(l,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?d:u}}}function o(l,c,d){if(c.length===0)return d;let u=l;for(let f=0;f<c.length;f++){if(u==null||t.isUnsafeProperty(c[f]))return d;u=u[c[f]]}return u===void 0?d:u}e.get=i})(Gv);var koe=Gv.get;const Oo=ua(koe);var TF={exports:{}},Ct={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JS=Symbol.for("react.transitional.element"),ZS=Symbol.for("react.portal"),Yv=Symbol.for("react.fragment"),Qv=Symbol.for("react.strict_mode"),Jv=Symbol.for("react.profiler"),Zv=Symbol.for("react.consumer"),Xv=Symbol.for("react.context"),ey=Symbol.for("react.forward_ref"),ty=Symbol.for("react.suspense"),ry=Symbol.for("react.suspense_list"),ny=Symbol.for("react.memo"),sy=Symbol.for("react.lazy"),Eoe=Symbol.for("react.view_transition"),Poe=Symbol.for("react.client.reference");function Ts(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case JS:switch(e=e.type,e){case Yv:case Jv:case Qv:case ty:case ry:case Eoe:return e;default:switch(e=e&&e.$$typeof,e){case Xv:case ey:case sy:case ny:return e;case Zv:return e;default:return t}}case ZS:return t}}}Ct.ContextConsumer=Zv;Ct.ContextProvider=Xv;Ct.Element=JS;Ct.ForwardRef=ey;Ct.Fragment=Yv;Ct.Lazy=sy;Ct.Memo=ny;Ct.Portal=ZS;Ct.Profiler=Jv;Ct.StrictMode=Qv;Ct.Suspense=ty;Ct.SuspenseList=ry;Ct.isContextConsumer=function(e){return Ts(e)===Zv};Ct.isContextProvider=function(e){return Ts(e)===Xv};Ct.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===JS};Ct.isForwardRef=function(e){return Ts(e)===ey};Ct.isFragment=function(e){return Ts(e)===Yv};Ct.isLazy=function(e){return Ts(e)===sy};Ct.isMemo=function(e){return Ts(e)===ny};Ct.isPortal=function(e){return Ts(e)===ZS};Ct.isProfiler=function(e){return Ts(e)===Jv};Ct.isStrictMode=function(e){return Ts(e)===Qv};Ct.isSuspense=function(e){return Ts(e)===ty};Ct.isSuspenseList=function(e){return Ts(e)===ry};Ct.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Yv||e===Jv||e===Qv||e===ty||e===ry||typeof e=="object"&&e!==null&&(e.$$typeof===sy||e.$$typeof===ny||e.$$typeof===Xv||e.$$typeof===Zv||e.$$typeof===ey||e.$$typeof===Poe||e.getModuleId!==void 0)};Ct.typeOf=Ts;TF.exports=Ct;var Aoe=TF.exports,Yr=e=>e===0?0:e>0?1:-1,Cs=e=>typeof e=="number"&&e!=+e,gl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Pe=e=>(typeof e=="number"||e instanceof Number)&&!Cs(e),Ra=e=>Pe(e)||typeof e=="string",Toe=0,ch=e=>{var t=++Toe;return"".concat(e||"").concat(t)},hs=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(t)&&typeof t!="string")return n;var i;if(gl(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Cs(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},OF=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},kP=(e,t)=>Pe(e)&&Pe(t)?r=>e+r*(t-e):()=>t;function zu(e,t,r){return Pe(e)&&Pe(t)?e+r*(t-e):t}function RF(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Oo(n,t))===r)}var cr=e=>e===null||typeof e>"u",Zh=e=>cr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Ooe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function XS(e){if(typeof e!="string")return!1;var t=Ooe;return t.includes(e)}var Roe=["viewBox","children"],EP=["points","pathLength"],i0={svg:Roe,polygon:EP,polyline:EP},eC=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(h.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{XS(a)&&(n[a]=i=>r[a](r,i))}),n},Doe=(e,t,r)=>n=>(e(t,r,n),null),DF=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];XS(a)&&typeof i=="function"&&(n||(n={}),n[a]=Doe(i,t,r))}),n},Ioe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function IF(e){if(typeof e!="string")return!1;var t=Ioe;return t.includes(e)}function Wo(e){var t=Object.entries(e).filter(r=>{var[n]=r;return IF(n)});return Object.fromEntries(t)}var PP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",AP=null,o0=null,MF=e=>{if(e===AP&&Array.isArray(o0))return o0;var t=[];return h.Children.forEach(e,r=>{cr(r)||(Aoe.isFragment(r)?t=t.concat(MF(r.props.children)):t.push(r))}),o0=t,AP=e,t};function ay(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>PP(a)):n=[PP(t)],MF(e).forEach(a=>{var i=Oo(a,"type.displayName")||Oo(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var LF=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Moe=(e,t,r,n)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(a=n&&(i0==null?void 0:i0[n]))!==null&&a!==void 0?a:[],o=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&i.includes(t)||IF(t)),c=!!r&&XS(t);return o||l||c},qt=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(h.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{var o;Moe((o=n)===null||o===void 0?void 0:o[i],i,t,r)&&(a[i]=n[i])}),a},Loe=["children","width","height","viewBox","className","style","title","desc"];function Aj(){return Aj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Aj.apply(null,arguments)}function $oe(e,t){if(e==null)return{};var r,n,a=Foe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Foe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $F=h.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:l,title:c,desc:d}=e,u=$oe(e,Loe),f=i||{width:n,height:a,x:0,y:0},m=ct("recharts-surface",o);return h.createElement("svg",Aj({},qt(u,!0,"svg"),{className:m,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),h.createElement("title",null,c),h.createElement("desc",null,d),r)}),Uoe=["children","className"];function Tj(){return Tj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tj.apply(null,arguments)}function Boe(e,t){if(e==null)return{};var r,n,a=zoe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _s=h.forwardRef((e,t)=>{var{children:r,className:n}=e,a=Boe(e,Uoe),i=ct("recharts-layer",n);return h.createElement("g",Tj({className:i},qt(a,!0),{ref:t}),r)}),Voe=h.createContext(null);function Et(e){return function(){return e}}const FF=Math.cos,Fg=Math.sin,ma=Math.sqrt,Ug=Math.PI,iy=2*Ug,Oj=Math.PI,Rj=2*Oj,il=1e-6,Woe=Rj-il;function UF(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function qoe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return UF;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Hoe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?UF:qoe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,d=a-r,u=o-t,f=l-r,m=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>il)if(!(Math.abs(f*c-d*u)>il)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,x=a-l,g=c*c+d*d,w=p*p+x*x,y=Math.sqrt(g),v=Math.sqrt(m),b=i*Math.tan((Oj-Math.acos((g+m-w)/(2*y*v)))/2),j=b/v,N=b/y;Math.abs(j-1)>il&&this._append`L${t+j*u},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*p>u*x)},${this._x1=t+N*c},${this._y1=r+N*d}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),d=t+l,u=r+c,f=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>il||Math.abs(this._y1-u)>il)&&this._append`L${d},${u}`,n&&(m<0&&(m=m%Rj+Rj),m>Woe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=d},${this._y1=u}`:m>il&&this._append`A${n},${n},0,${+(m>=Oj)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function tC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Hoe(t)}function rC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function BF(e){this._context=e}BF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function oy(e){return new BF(e)}function zF(e){return e[0]}function VF(e){return e[1]}function WF(e,t){var r=Et(!0),n=null,a=oy,i=null,o=tC(l);e=typeof e=="function"?e:e===void 0?zF:Et(e),t=typeof t=="function"?t:t===void 0?VF:Et(t);function l(c){var d,u=(c=rC(c)).length,f,m=!1,p;for(n==null&&(i=a(p=o())),d=0;d<=u;++d)!(d<u&&r(f=c[d],d,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(f,d,c),+t(f,d,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Et(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Et(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Et(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function ep(e,t,r){var n=null,a=Et(!0),i=null,o=oy,l=null,c=tC(d);e=typeof e=="function"?e:e===void 0?zF:Et(+e),t=typeof t=="function"?t:Et(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?VF:Et(+r);function d(f){var m,p,x,g=(f=rC(f)).length,w,y=!1,v,b=new Array(g),j=new Array(g);for(i==null&&(l=o(v=c())),m=0;m<=g;++m){if(!(m<g&&a(w=f[m],m,f))===y)if(y=!y)p=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=m-1;x>=p;--x)l.point(b[x],j[x]);l.lineEnd(),l.areaEnd()}y&&(b[m]=+e(w,m,f),j[m]=+t(w,m,f),l.point(n?+n(w,m,f):b[m],r?+r(w,m,f):j[m]))}if(v)return l=null,v+""||null}function u(){return WF().defined(a).curve(o).context(i)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Et(+f),n=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Et(+f),d):e},d.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Et(+f),d):n},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Et(+f),r=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Et(+f),d):t},d.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Et(+f),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Et(!!f),d):a},d.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),d):o},d.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),d):i},d}class qF{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Goe(e){return new qF(e,!0)}function Koe(e){return new qF(e,!1)}const nC={draw(e,t){const r=ma(t/Ug);e.moveTo(r,0),e.arc(0,0,r,0,iy)}},Yoe={draw(e,t){const r=ma(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},HF=ma(1/3),Qoe=HF*2,Joe={draw(e,t){const r=ma(t/Qoe),n=r*HF;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Zoe={draw(e,t){const r=ma(t),n=-r/2;e.rect(n,n,r,r)}},Xoe=.8908130915292852,GF=Fg(Ug/10)/Fg(7*Ug/10),ele=Fg(iy/10)*GF,tle=-FF(iy/10)*GF,rle={draw(e,t){const r=ma(t*Xoe),n=ele*r,a=tle*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=iy*i/5,l=FF(o),c=Fg(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},l0=ma(3),nle={draw(e,t){const r=-ma(t/(l0*3));e.moveTo(0,r*2),e.lineTo(-l0*r,-r),e.lineTo(l0*r,-r),e.closePath()}},Xn=-.5,es=ma(3)/2,Dj=1/ma(12),sle=(Dj/2+1)*3,ale={draw(e,t){const r=ma(t/sle),n=r/2,a=r*Dj,i=n,o=r*Dj+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Xn*n-es*a,es*n+Xn*a),e.lineTo(Xn*i-es*o,es*i+Xn*o),e.lineTo(Xn*l-es*c,es*l+Xn*c),e.lineTo(Xn*n+es*a,Xn*a-es*n),e.lineTo(Xn*i+es*o,Xn*o-es*i),e.lineTo(Xn*l+es*c,Xn*c-es*l),e.closePath()}};function ile(e,t){let r=null,n=tC(a);e=typeof e=="function"?e:Et(e||nC),t=typeof t=="function"?t:Et(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Et(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Et(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Bg(){}function zg(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function KF(e){this._context=e}KF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ole(e){return new KF(e)}function YF(e){this._context=e}YF.prototype={areaStart:Bg,areaEnd:Bg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lle(e){return new YF(e)}function QF(e){this._context=e}QF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:zg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cle(e){return new QF(e)}function JF(e){this._context=e}JF.prototype={areaStart:Bg,areaEnd:Bg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function dle(e){return new JF(e)}function TP(e){return e<0?-1:1}function OP(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(TP(i)+TP(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function RP(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function c0(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function Vg(e){this._context=e}Vg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:c0(this,this._t0,RP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,c0(this,RP(this,r=OP(this,e,t)),r);break;default:c0(this,this._t0,r=OP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function ZF(e){this._context=new XF(e)}(ZF.prototype=Object.create(Vg.prototype)).point=function(e,t){Vg.prototype.point.call(this,t,e)};function XF(e){this._context=e}XF.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function ule(e){return new Vg(e)}function fle(e){return new ZF(e)}function e6(e){this._context=e}e6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=DP(e),a=DP(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function DP(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function hle(e){return new e6(e)}function ly(e,t){this._context=e,this._t=t}ly.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function mle(e){return new ly(e,.5)}function ple(e){return new ly(e,0)}function gle(e){return new ly(e,1)}function Ld(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Ij(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function xle(e,t){return e[t]}function vle(e){const t=[];return t.key=e,t}function yle(){var e=Et([]),t=Ij,r=Ld,n=xle;function a(i){var o=Array.from(e.apply(this,arguments),vle),l,c=o.length,d=-1,u;for(const f of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(f,o[l].key,d,i)]).data=f;for(l=0,u=rC(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Et(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Et(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Ij:typeof i=="function"?i:Et(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Ld,a):r},a}function ble(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Ld(e,t)}}function wle(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Ld(e,t)}}function jle(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],f=u[n][1]||0,m=u[n-1][1]||0,p=(f-m)/2,x=0;x<l;++x){var g=e[t[x]],w=g[n][1]||0,y=g[n-1][1]||0;p+=w-y}c+=f,d+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=d/c)}a[n-1][1]+=a[n-1][0]=r,Ld(e,t)}}var Nle=["type","size","sizeType"];function Mj(){return Mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mj.apply(null,arguments)}function IP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(r),!0).forEach(function(n){Sle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sle(e,t,r){return(t=Cle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cle(e){var t=_le(e,"string");return typeof t=="symbol"?t:t+""}function _le(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kle(e,t){if(e==null)return{};var r,n,a=Ele(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ele(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var t6={symbolCircle:nC,symbolCross:Yoe,symbolDiamond:Joe,symbolSquare:Zoe,symbolStar:rle,symbolTriangle:nle,symbolWye:ale},Ple=Math.PI/180,Ale=e=>{var t="symbol".concat(Zh(e));return t6[t]||nC},Tle=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Ple;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Ole=(e,t)=>{t6["symbol".concat(Zh(e))]=t},r6=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=kle(e,Nle),i=MP(MP({},a),{},{type:t,size:r,sizeType:n}),o=()=>{var f=Ale(t),m=ile().type(f).size(Tle(r,n,t));return m()},{className:l,cx:c,cy:d}=i,u=qt(i,!0);return c===+c&&d===+d&&r===+r?h.createElement("path",Mj({},u,{className:ct("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:o()})):null};r6.registerSymbol=Ole;var n6={},s6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(s6);var sC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(sC);var a6={},cy={},i6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(i6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i6;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(cy);var o6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(o6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cy,r=o6;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(a6);var l6={},c6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gv;function r(n){return function(a){return t.get(a,n)}}e.property=r})(c6);var d6={},d0={},u0={},aC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(aC);var iC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(iC);var dy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(dy);var LP;function Rle(){return LP||(LP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oC(),r=aC,n=iC,a=dy;function i(f,m,p){return typeof p!="function"?t.isMatch(f,m):o(f,m,function x(g,w,y,v,b,j){const N=p(g,w,y,v,b,j);return N!==void 0?!!N:o(g,w,x,j)},new Map)}function o(f,m,p,x){if(m===f)return!0;switch(typeof m){case"object":return l(f,m,p,x);case"function":return Object.keys(m).length>0?o(f,{...m},p,x):a.eq(f,m);default:return r.isObject(f)?typeof m=="string"?m==="":!0:a.eq(f,m)}}function l(f,m,p,x){if(m==null)return!0;if(Array.isArray(m))return d(f,m,p,x);if(m instanceof Map)return c(f,m,p,x);if(m instanceof Set)return u(f,m,p,x);const g=Object.keys(m);if(f==null)return g.length===0;if(g.length===0)return!0;if(x&&x.has(m))return x.get(m)===f;x&&x.set(m,f);try{for(let w=0;w<g.length;w++){const y=g[w];if(!n.isPrimitive(f)&&!(y in f)||m[y]===void 0&&f[y]!==void 0||m[y]===null&&f[y]!==null||!p(f[y],m[y],y,f,m,x))return!1}return!0}finally{x&&x.delete(m)}}function c(f,m,p,x){if(m.size===0)return!0;if(!(f instanceof Map))return!1;for(const[g,w]of m.entries()){const y=f.get(g);if(p(y,w,g,f,m,x)===!1)return!1}return!0}function d(f,m,p,x){if(m.length===0)return!0;if(!Array.isArray(f))return!1;const g=new Set;for(let w=0;w<m.length;w++){const y=m[w];let v=!1;for(let b=0;b<f.length;b++){if(g.has(b))continue;const j=f[b];let N=!1;if(p(j,y,w,f,m,x)&&(N=!0),N){g.add(b),v=!0;break}}if(!v)return!1}return!0}function u(f,m,p,x){return m.size===0?!0:f instanceof Set?d([...f],[...m],p,x):!1}e.isMatchWith=i,e.isSetMatch=u}(u0)),u0}var $P;function oC(){return $P||($P=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rle();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(d0)),d0}var u6={},lC={},cC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(cC);var uy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(uy);var fy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",d="[object Set]",u="[object Array]",f="[object Function]",m="[object ArrayBuffer]",p="[object Object]",x="[object Error]",g="[object DataView]",w="[object Uint8Array]",y="[object Uint8ClampedArray]",v="[object Uint16Array]",b="[object Uint32Array]",j="[object BigUint64Array]",N="[object Int8Array]",S="[object Int16Array]",C="[object Int32Array]",k="[object BigInt64Array]",A="[object Float32Array]",P="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=m,e.arrayTag=u,e.bigInt64ArrayTag=k,e.bigUint64ArrayTag=j,e.booleanTag=a,e.dataViewTag=g,e.dateTag=l,e.errorTag=x,e.float32ArrayTag=A,e.float64ArrayTag=P,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=C,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=v,e.uint32ArrayTag=b,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=y})(fy);var f6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(f6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cC,r=uy,n=fy,a=iC,i=f6;function o(u,f){return l(u,void 0,u,new Map,f)}function l(u,f,m,p=new Map,x=void 0){const g=x==null?void 0:x(u,f,m,p);if(g!==void 0)return g;if(a.isPrimitive(u))return u;if(p.has(u))return p.get(u);if(Array.isArray(u)){const w=new Array(u.length);p.set(u,w);for(let y=0;y<u.length;y++)w[y]=l(u[y],y,m,p,x);return Object.hasOwn(u,"index")&&(w.index=u.index),Object.hasOwn(u,"input")&&(w.input=u.input),w}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const w=new RegExp(u.source,u.flags);return w.lastIndex=u.lastIndex,w}if(u instanceof Map){const w=new Map;p.set(u,w);for(const[y,v]of u)w.set(y,l(v,y,m,p,x));return w}if(u instanceof Set){const w=new Set;p.set(u,w);for(const y of u)w.add(l(y,void 0,m,p,x));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const w=new(Object.getPrototypeOf(u)).constructor(u.length);p.set(u,w);for(let y=0;y<u.length;y++)w[y]=l(u[y],y,m,p,x);return w}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const w=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return p.set(u,w),c(w,u,m,p,x),w}if(typeof File<"u"&&u instanceof File){const w=new File([u],u.name,{type:u.type});return p.set(u,w),c(w,u,m,p,x),w}if(u instanceof Blob){const w=new Blob([u],{type:u.type});return p.set(u,w),c(w,u,m,p,x),w}if(u instanceof Error){const w=new u.constructor;return p.set(u,w),w.message=u.message,w.name=u.name,w.stack=u.stack,w.cause=u.cause,c(w,u,m,p,x),w}if(typeof u=="object"&&d(u)){const w=Object.create(Object.getPrototypeOf(u));return p.set(u,w),c(w,u,m,p,x),w}return u}function c(u,f,m=u,p,x){const g=[...Object.keys(f),...t.getSymbols(f)];for(let w=0;w<g.length;w++){const y=g[w],v=Object.getOwnPropertyDescriptor(u,y);(v==null||v.writable)&&(u[y]=l(f[y],y,m,p,x))}}function d(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(lC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lC;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(u6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oC(),r=u6;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(d6);var h6={},m6={},p6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lC,r=fy;function n(a,i){return t.cloneDeepWith(a,(o,l,c,d)=>{const u=i==null?void 0:i(o,l,c,d);if(u!==void 0)return u;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(p6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p6;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(m6);var g6={},dC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(dC);var x6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uy;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(x6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YS,r=dC,n=x6,a=Kv;function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let d=o;for(let u=0;u<c.length;u++){const f=c[u];if((d==null||!Object.hasOwn(d,f))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(f)&&f<d.length))return!1;d=d[f]}return!0}e.has=i})(g6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oC(),r=QS,n=m6,a=Gv,i=g6;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(d){const u=a.get(d,l);return u===void 0?i.has(d,l):c===void 0?u===void 0:t.isMatch(u,c)}}e.matchesProperty=o})(h6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sC,r=c6,n=d6,a=h6;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(l6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s6,r=sC,n=a6,a=l6;function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(l)):[]}e.uniqBy=i})(n6);var Dle=n6.uniqBy;const FP=ua(Dle);function Ile(e,t,r){return t===!0?FP(e,r):typeof t=="function"?FP(e,t):e}var v6={exports:{}},y6={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy=h,Mle=WI;function Lle(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $le=typeof Object.is=="function"?Object.is:Lle,Fle=Mle.useSyncExternalStore,Ule=hy.useRef,Ble=hy.useEffect,zle=hy.useMemo,Vle=hy.useDebugValue;y6.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=Ule(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=zle(function(){function c(p){if(!d){if(d=!0,u=p,p=n(p),a!==void 0&&o.hasValue){var x=o.value;if(a(x,p))return f=x}return f=p}if(x=f,$le(u,p))return x;var g=n(p);return a!==void 0&&a(x,g)?(u=p,x):(u=p,f=g)}var d=!1,u,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var l=Fle(e,i[0],i[1]);return Ble(function(){o.hasValue=!0,o.value=l},[l]),Vle(l),l};v6.exports=y6;var Wle=v6.exports,uC=h.createContext(null),qle=e=>e,ar=()=>{var e=h.useContext(uC);return e?e.store.dispatch:qle},$p=()=>{},Hle=()=>$p,Gle=(e,t)=>e===t;function Te(e){var t=h.useContext(uC);return Wle.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Hle,t?t.store.getState:$p,t?t.store.getState:$p,t?e:$p,Gle)}function Kle(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Yle(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Qle(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var UP=e=>Array.isArray(e)?e:[e];function Jle(e){const t=Array.isArray(e[0])?e[0]:e;return Qle(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Zle(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var Xle=class{constructor(e){this.value=e}deref(){return this.value}},ece=typeof WeakRef<"u"?WeakRef:Xle,tce=0,BP=1;function tp(){return{s:tce,v:void 0,o:null,p:null}}function b6(e,t={}){let r=tp();const{resultEqualityCheck:n}=t;let a,i=0;function o(){var f;let l=r;const{length:c}=arguments;for(let m=0,p=c;m<p;m++){const x=arguments[m];if(typeof x=="function"||typeof x=="object"&&x!==null){let g=l.o;g===null&&(l.o=g=new WeakMap);const w=g.get(x);w===void 0?(l=tp(),g.set(x,l)):l=w}else{let g=l.p;g===null&&(l.p=g=new Map);const w=g.get(x);w===void 0?(l=tp(),g.set(x,l)):l=w}}const d=l;let u;if(l.s===BP)u=l.v;else if(u=e.apply(null,arguments),i++,n){const m=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;m!=null&&n(m,u)&&(u=m,i!==0&&i--),a=typeof u=="object"&&u!==null||typeof u=="function"?new ece(u):u}return d.s=BP,d.v=u,u}return o.clearCache=()=>{r=tp(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function rce(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,l,c={},d=a.pop();typeof d=="object"&&(c=d,d=a.pop()),Kle(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const u={...r,...c},{memoize:f,memoizeOptions:m=[],argsMemoize:p=b6,argsMemoizeOptions:x=[],devModeChecks:g={}}=u,w=UP(m),y=UP(x),v=Jle(a),b=f(function(){return i++,d.apply(null,arguments)},...w),j=p(function(){o++;const S=Zle(v,arguments);return l=b.apply(null,S),l},...y);return Object.assign(j,{resultFunc:d,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var ae=rce(b6),nce=Object.assign((e,t=ae)=>{Yle(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>nce}),w6={},j6={},N6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(N6);var S6={},fC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(fC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fC,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(S6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N6,r=S6,n=Kv;function a(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(p=>String(p));const d=(p,x)=>{let g=p;for(let w=0;w<x.length&&g!=null;++w)g=g[x[w]];return g},u=(p,x)=>x==null||p==null?x:typeof p=="object"&&"key"in p?Object.hasOwn(x,p.key)?x[p.key]:d(x,p.path):typeof p=="function"?p(x):Array.isArray(p)?d(x,p):typeof x=="object"?x[p]:x,f=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(x=>u(x,p))})).slice().sort((p,x)=>{for(let g=0;g<f.length;g++){const w=t.compareValues(p.criteria[g],x.criteria[g],l[g]);if(w!==0)return w}return 0}).map(p=>p.original)}e.orderBy=a})(j6);var C6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(l,c)=>{for(let d=0;d<l.length;d++){const u=l[d];Array.isArray(u)&&c<i?o(u,c+1):a.push(u)}};return o(r,0),a}e.flatten=t})(C6);var hC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dC,r=cy,n=aC,a=dy;function i(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],o):!1}e.isIterateeCall=i})(hC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j6,r=C6,n=hC;function a(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(w6);var sce=w6.sortBy;const my=ua(sce);var _6=e=>e.legend.settings,ace=e=>e.legend.size,ice=e=>e.legend.payload;ae([ice,_6],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?my(n,r):n});var rp=1;function oce(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=h.useState({height:0,left:0,top:0,width:0}),n=h.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>rp||Math.abs(o.left-t.left)>rp||Math.abs(o.top-t.top)>rp||Math.abs(o.width-t.width)>rp)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Tr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var lce=typeof Symbol=="function"&&Symbol.observable||"@@observable",zP=lce,f0=()=>Math.random().toString(36).substring(7).split("").join("."),cce={INIT:`@@redux/INIT${f0()}`,REPLACE:`@@redux/REPLACE${f0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${f0()}`},Wg=cce;function mC(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function k6(e,t,r){if(typeof e!="function")throw new Error(Tr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Tr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Tr(1));return r(k6)(e,t)}let n=e,a=t,i=new Map,o=i,l=0,c=!1;function d(){o===i&&(o=new Map,i.forEach((w,y)=>{o.set(y,w)}))}function u(){if(c)throw new Error(Tr(3));return a}function f(w){if(typeof w!="function")throw new Error(Tr(4));if(c)throw new Error(Tr(5));let y=!0;d();const v=l++;return o.set(v,w),function(){if(y){if(c)throw new Error(Tr(6));y=!1,d(),o.delete(v),i=null}}}function m(w){if(!mC(w))throw new Error(Tr(7));if(typeof w.type>"u")throw new Error(Tr(8));if(typeof w.type!="string")throw new Error(Tr(17));if(c)throw new Error(Tr(9));try{c=!0,a=n(a,w)}finally{c=!1}return(i=o).forEach(v=>{v()}),w}function p(w){if(typeof w!="function")throw new Error(Tr(10));n=w,m({type:Wg.REPLACE})}function x(){const w=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Tr(11));function v(){const j=y;j.next&&j.next(u())}return v(),{unsubscribe:w(v)}},[zP](){return this}}}return m({type:Wg.INIT}),{dispatch:m,subscribe:f,getState:u,replaceReducer:p,[zP]:x}}function dce(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Wg.INIT})>"u")throw new Error(Tr(12));if(typeof r(void 0,{type:Wg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Tr(13))})}function E6(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{dce(r)}catch(i){a=i}return function(o={},l){if(a)throw a;let c=!1;const d={};for(let u=0;u<n.length;u++){const f=n[u],m=r[f],p=o[f],x=m(p,l);if(typeof x>"u")throw l&&l.type,new Error(Tr(14));d[f]=x,c=c||x!==p}return c=c||n.length!==Object.keys(o).length,c?d:o}}function qg(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function uce(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Tr(15))};const o={getState:a.getState,dispatch:(c,...d)=>i(c,...d)},l=e.map(c=>c(o));return i=qg(...l)(a.dispatch),{...a,dispatch:i}}}function P6(e){return mC(e)&&"type"in e&&typeof e.type=="string"}var A6=Symbol.for("immer-nothing"),VP=Symbol.for("immer-draftable"),Hn=Symbol.for("immer-state");function Zs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var $d=Object.getPrototypeOf;function Ql(e){return!!e&&!!e[Hn]}function ui(e){var t;return e?T6(e)||Array.isArray(e)||!!e[VP]||!!((t=e.constructor)!=null&&t[VP])||gy(e)||xy(e):!1}var fce=Object.prototype.constructor.toString();function T6(e){if(!e||typeof e!="object")return!1;const t=$d(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===fce}function Hg(e,t){py(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function py(e){const t=e[Hn];return t?t.type_:Array.isArray(e)?1:gy(e)?2:xy(e)?3:0}function Lj(e,t){return py(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function O6(e,t,r){const n=py(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function hce(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function gy(e){return e instanceof Map}function xy(e){return e instanceof Set}function ol(e){return e.copy_||e.base_}function $j(e,t){if(gy(e))return new Map(e);if(xy(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=T6(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Hn];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create($d(e),n)}else{const n=$d(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function pC(e,t=!1){return vy(e)||Ql(e)||!ui(e)||(py(e)>1&&(e.set=e.add=e.clear=e.delete=mce),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>pC(n,!0))),e}function mce(){Zs(2)}function vy(e){return Object.isFrozen(e)}var pce={};function Jl(e){const t=pce[e];return t||Zs(0,e),t}var dh;function R6(){return dh}function gce(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function WP(e,t){t&&(Jl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Fj(e){Uj(e),e.drafts_.forEach(xce),e.drafts_=null}function Uj(e){e===dh&&(dh=e.parent_)}function qP(e){return dh=gce(dh,e)}function xce(e){const t=e[Hn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function HP(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Hn].modified_&&(Fj(t),Zs(4)),ui(e)&&(e=Gg(t,e),t.parent_||Kg(t,e)),t.patches_&&Jl("Patches").generateReplacementPatches_(r[Hn].base_,e,t.patches_,t.inversePatches_)):e=Gg(t,r,[]),Fj(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==A6?e:void 0}function Gg(e,t,r){if(vy(t))return t;const n=t[Hn];if(!n)return Hg(t,(a,i)=>GP(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Kg(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,o=!1;n.type_===3&&(i=new Set(a),a.clear(),o=!0),Hg(i,(l,c)=>GP(e,n,a,l,c,r,o)),Kg(e,a,!1),r&&e.patches_&&Jl("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function GP(e,t,r,n,a,i,o){if(Ql(a)){const l=i&&t&&t.type_!==3&&!Lj(t.assigned_,n)?i.concat(n):void 0,c=Gg(e,a,l);if(O6(r,n,c),Ql(c))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(ui(a)&&!vy(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Gg(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Kg(e,a)}}function Kg(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&pC(t,r)}function vce(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:R6(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=gC;r&&(a=[n],i=uh);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,l}var gC={get(e,t){if(t===Hn)return e;const r=ol(e);if(!Lj(r,t))return yce(e,r,t);const n=r[t];return e.finalized_||!ui(n)?n:n===h0(e.base_,t)?(m0(e),e.copy_[t]=zj(n,e)):n},has(e,t){return t in ol(e)},ownKeys(e){return Reflect.ownKeys(ol(e))},set(e,t,r){const n=D6(ol(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=h0(ol(e),t),i=a==null?void 0:a[Hn];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(hce(r,a)&&(r!==void 0||Lj(e.base_,t)))return!0;m0(e),Bj(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return h0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,m0(e),Bj(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ol(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Zs(11)},getPrototypeOf(e){return $d(e.base_)},setPrototypeOf(){Zs(12)}},uh={};Hg(gC,(e,t)=>{uh[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});uh.deleteProperty=function(e,t){return uh.set.call(this,e,t,void 0)};uh.set=function(e,t,r){return gC.set.call(this,e[0],t,r,e[0])};function h0(e,t){const r=e[Hn];return(r?ol(r):e)[t]}function yce(e,t,r){var a;const n=D6(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function D6(e,t){if(!(t in e))return;let r=$d(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=$d(r)}}function Bj(e){e.modified_||(e.modified_=!0,e.parent_&&Bj(e.parent_))}function m0(e){e.copy_||(e.copy_=$j(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var bce=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...d){return o.produce(c,u=>r.call(this,u,...d))}}typeof r!="function"&&Zs(6),n!==void 0&&typeof n!="function"&&Zs(7);let a;if(ui(t)){const i=qP(this),o=zj(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?Fj(i):Uj(i)}return WP(i,n),HP(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===A6&&(a=void 0),this.autoFreeze_&&pC(a,!0),n){const i=[],o=[];Jl("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else Zs(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ui(e)||Zs(8),Ql(e)&&(e=ri(e));const t=qP(this),r=zj(e,void 0);return r[Hn].isManual_=!0,Uj(t),r}finishDraft(e,t){const r=e&&e[Hn];(!r||!r.isManual_)&&Zs(9);const{scope_:n}=r;return WP(n,t),HP(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Jl("Patches").applyPatches_;return Ql(e)?n(e,t):this.produce(e,a=>n(a,t))}};function zj(e,t){const r=gy(e)?Jl("MapSet").proxyMap_(e,t):xy(e)?Jl("MapSet").proxySet_(e,t):vce(e,t);return(t?t.scope_:R6()).drafts_.push(r),r}function ri(e){return Ql(e)||Zs(10,e),I6(e)}function I6(e){if(!ui(e)||vy(e))return e;const t=e[Hn];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=$j(e,t.scope_.immer_.useStrictShallowCopy_)}else r=$j(e,!0);return Hg(r,(n,a)=>{O6(r,n,I6(a))}),t&&(t.finalized_=!1),r}var Gn=new bce,M6=Gn.produce;Gn.produceWithPatches.bind(Gn);Gn.setAutoFreeze.bind(Gn);Gn.setUseStrictShallowCopy.bind(Gn);Gn.applyPatches.bind(Gn);Gn.createDraft.bind(Gn);Gn.finishDraft.bind(Gn);function L6(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var wce=L6(),jce=L6,Nce=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qg:qg.apply(null,arguments)};function ks(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(zn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>P6(n)&&n.type===e,r}var $6=class af extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,af.prototype)}static get[Symbol.species](){return af}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new af(...t[0].concat(this)):new af(...t.concat(this))}};function KP(e){return ui(e)?M6(e,()=>{}):e}function np(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Sce(e){return typeof e=="boolean"}var Cce=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new $6;return r&&(Sce(r)?o.push(wce):o.push(jce(r.extraArgument))),o},_ce="RTK_autoBatch",YP=e=>t=>{setTimeout(t,e)},kce=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:YP(10):e.type==="callback"?e.queueNotification:YP(e.timeout),d=()=>{o=!1,i&&(i=!1,l.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const f=()=>a&&u(),m=n.subscribe(f);return l.add(u),()=>{m(),l.delete(u)}},dispatch(u){var f;try{return a=!((f=u==null?void 0:u.meta)!=null&&f[_ce]),i=!a,i&&(o||(o=!0,c(d))),n.dispatch(u)}finally{a=!0}}})},Ece=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new $6(e);return n&&a.push(kce(typeof n=="object"?n:void 0)),a};function Pce(e){const t=Cce(),{reducer:r=void 0,middleware:n,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(mC(r))c=E6(r);else throw new Error(zn(1));let d;typeof n=="function"?d=n(t):d=t();let u=qg;a&&(u=Nce({trace:!1,...typeof a=="object"&&a}));const f=uce(...d),m=Ece(f);let p=typeof l=="function"?l(m):m();const x=u(...p);return k6(c,o,x)}function F6(e){const t={},r=[];let n;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(zn(28));if(l in t)throw new Error(zn(29));return t[l]=o,a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function Ace(e){return typeof e=="function"}function Tce(e,t){let[r,n,a]=F6(t),i;if(Ace(e))i=()=>KP(e());else{const l=KP(e);i=()=>l}function o(l=i(),c){let d=[r[c.type],...n.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[a]),d.reduce((u,f)=>{if(f)if(Ql(u)){const p=f(u,c);return p===void 0?u:p}else{if(ui(u))return M6(u,m=>f(m,c));{const m=f(u,c);if(m===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return u},l)}return o.getInitialState=i,o}var Oce="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Rce=(e=21)=>{let t="",r=e;for(;r--;)t+=Oce[Math.random()*64|0];return t},Dce=Symbol.for("rtk-slice-createasyncthunk");function Ice(e,t){return`${e}/${t}`}function Mce({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[Dce];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(zn(11));typeof process<"u";const l=(typeof a.reducers=="function"?a.reducers($ce()):a.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(j,N){const S=typeof j=="string"?j:j.type;if(!S)throw new Error(zn(12));if(S in d.sliceCaseReducersByType)throw new Error(zn(13));return d.sliceCaseReducersByType[S]=N,u},addMatcher(j,N){return d.sliceMatchers.push({matcher:j,reducer:N}),u},exposeAction(j,N){return d.actionCreators[j]=N,u},exposeCaseReducer(j,N){return d.sliceCaseReducersByName[j]=N,u}};c.forEach(j=>{const N=l[j],S={reducerName:j,type:Ice(i,j),createNotation:typeof a.reducers=="function"};Uce(N)?zce(S,N,u,t):Fce(S,N,u)});function f(){const[j={},N=[],S=void 0]=typeof a.extraReducers=="function"?F6(a.extraReducers):[a.extraReducers],C={...j,...d.sliceCaseReducersByType};return Tce(a.initialState,k=>{for(let A in C)k.addCase(A,C[A]);for(let A of d.sliceMatchers)k.addMatcher(A.matcher,A.reducer);for(let A of N)k.addMatcher(A.matcher,A.reducer);S&&k.addDefaultCase(S)})}const m=j=>j,p=new Map,x=new WeakMap;let g;function w(j,N){return g||(g=f()),g(j,N)}function y(){return g||(g=f()),g.getInitialState()}function v(j,N=!1){function S(k){let A=k[j];return typeof A>"u"&&N&&(A=np(x,S,y)),A}function C(k=m){const A=np(p,N,()=>new WeakMap);return np(A,k,()=>{const P={};for(const[_,E]of Object.entries(a.selectors??{}))P[_]=Lce(E,k,()=>np(x,k,y),N);return P})}return{reducerPath:j,getSelectors:C,get selectors(){return C(S)},selectSlice:S}}const b={name:i,reducer:w,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:y,...v(o),injectInto(j,{reducerPath:N,...S}={}){const C=N??o;return j.inject({reducerPath:C,reducer:w},S),{...b,...v(C,!0)}}};return b}}function Lce(e,t,r,n){function a(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var Qn=Mce();function $ce(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Fce({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!Bce(n))throw new Error(zn(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?ks(e,o):ks(e))}function Uce(e){return e._reducerDefinitionType==="asyncThunk"}function Bce(e){return e._reducerDefinitionType==="reducerWithPrepare"}function zce({type:e,reducerName:t},r,n,a){if(!a)throw new Error(zn(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:d,options:u}=r,f=a(e,i,u);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),d&&n.addMatcher(f.settled,d),n.exposeCaseReducer(t,{fulfilled:o||sp,pending:l||sp,rejected:c||sp,settled:d||sp})}function sp(){}var Vce="task",U6="listener",B6="completed",xC="cancelled",Wce=`task-${xC}`,qce=`task-${B6}`,Vj=`${U6}-${xC}`,Hce=`${U6}-${B6}`,yy=class{constructor(e){Fa(this,"name","TaskAbortError");Fa(this,"message");this.code=e,this.message=`${Vce} ${xC} (reason: ${e})`}},vC=(e,t)=>{if(typeof e!="function")throw new TypeError(zn(32))},Yg=()=>{},z6=(e,t=Yg)=>(e.catch(t),e),V6=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Pl=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Al=e=>{if(e.aborted){const{reason:t}=e;throw new yy(t)}};function W6(e,t){let r=Yg;return new Promise((n,a)=>{const i=()=>a(new yy(e.reason));if(e.aborted){i();return}r=V6(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Yg})}var Gce=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof yy?"cancelled":"rejected",error:r}}finally{t==null||t()}},Qg=e=>t=>z6(W6(e,t).then(r=>(Al(e),r))),q6=e=>{const t=Qg(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:nd}=Object,QP={},by="listenerMiddleware",Kce=(e,t)=>{const r=n=>V6(e,()=>Pl(n,e.reason));return(n,a)=>{vC(n);const i=new AbortController;r(i);const o=Gce(async()=>{Al(e),Al(i.signal);const l=await n({pause:Qg(i.signal),delay:q6(i.signal),signal:i.signal});return Al(i.signal),l},()=>Pl(i,qce));return a!=null&&a.autoJoin&&t.push(o.catch(Yg)),{result:Qg(e)(o),cancel(){Pl(i,Wce)}}}},Yce=(e,t)=>{const r=async(n,a)=>{Al(t);let i=()=>{};const l=[new Promise((c,d)=>{let u=e({predicate:n,effect:(f,m)=>{m.unsubscribe(),c([f,m.getState(),m.getOriginalState()])}});i=()=>{u(),d()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await W6(t,Promise.race(l));return Al(t),c}finally{i()}};return(n,a)=>z6(r(n,a))},H6=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=ks(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(zn(21));return vC(i),{predicate:a,type:t,effect:i}},G6=nd(e=>{const{type:t,predicate:r,effect:n}=H6(e);return{id:Rce(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(zn(22))}}},{withTypes:()=>G6}),JP=(e,t)=>{const{type:r,effect:n,predicate:a}=H6(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Wj=e=>{e.pending.forEach(t=>{Pl(t,Vj)})},Qce=e=>()=>{e.forEach(Wj),e.clear()},ZP=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},K6=nd(ks(`${by}/add`),{withTypes:()=>K6}),Jce=ks(`${by}/removeAll`),Y6=nd(ks(`${by}/remove`),{withTypes:()=>Y6}),Zce=(...e)=>{console.error(`${by}/error`,...e)},Xh=(e={})=>{const t=new Map,{extra:r,onError:n=Zce}=e;vC(n);const a=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),f=>{u.unsubscribe(),f!=null&&f.cancelActive&&Wj(u)}),i=u=>{const f=JP(t,u)??G6(u);return a(f)};nd(i,{withTypes:()=>i});const o=u=>{const f=JP(t,u);return f&&(f.unsubscribe(),u.cancelActive&&Wj(f)),!!f};nd(o,{withTypes:()=>o});const l=async(u,f,m,p)=>{const x=new AbortController,g=Yce(i,x.signal),w=[];try{u.pending.add(x),await Promise.resolve(u.effect(f,nd({},m,{getOriginalState:p,condition:(y,v)=>g(y,v).then(Boolean),take:g,delay:q6(x.signal),pause:Qg(x.signal),extra:r,signal:x.signal,fork:Kce(x.signal,w),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((y,v,b)=>{y!==x&&(Pl(y,Vj),b.delete(y))})},cancel:()=>{Pl(x,Vj),u.pending.delete(x)},throwIfCancelled:()=>{Al(x.signal)}})))}catch(y){y instanceof yy||ZP(n,y,{raisedBy:"effect"})}finally{await Promise.all(w),Pl(x,Hce),u.pending.delete(x)}},c=Qce(t);return{middleware:u=>f=>m=>{if(!P6(m))return f(m);if(K6.match(m))return i(m.payload);if(Jce.match(m)){c();return}if(Y6.match(m))return o(m.payload);let p=u.getState();const x=()=>{if(p===QP)throw new Error(zn(23));return p};let g;try{if(g=f(m),t.size>0){const w=u.getState(),y=Array.from(t.values());for(const v of y){let b=!1;try{b=v.predicate(m,w,p)}catch(j){b=!1,ZP(n,j,{raisedBy:"predicate"})}b&&l(v,m,u,x)}}}finally{p=QP}return g},startListening:i,stopListening:o,clearListeners:c}};function zn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Xce={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Q6=Qn({name:"chartLayout",initialState:Xce,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:ede,setLayout:tde,setChartSize:rde,setScale:nde}=Q6.actions,sde=Q6.reducer;function XP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(r),!0).forEach(function(n){ade(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ade(e,t,r){return(t=ide(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ide(e){var t=ode(e,"string");return typeof t=="symbol"?t:t+""}function ode(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jg=Math.PI/180,lde=e=>e*180/Math.PI,lr=(e,t,r,n)=>({x:e+Math.cos(-Jg*n)*r,y:t+Math.sin(-Jg*n)*r}),J6=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},cde=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},dde=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=cde({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:o,angle:lde(c),angleInRadian:c}},ude=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},fde=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},hde=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=dde({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:c,endAngle:d}=ude(t),u=i,f;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;f=u>=d&&u<=c}return f?eA(eA({},t),{},{radius:a,angle:fde(u,t)}):null};function Z6(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function tA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function as(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(r),!0).forEach(function(n){mde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mde(e,t,r){return(t=pde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pde(e){var t=gde(e,"string");return typeof t=="symbol"?t:t+""}function gde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lt(e,t,r){return cr(e)||cr(t)?r:Ra(t)?Oo(e,t,r):typeof t=="function"?t(e):r}var xde=(e,t,r,n,a)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var d=c>0?r[c-1].coordinate:r[l-1].coordinate,u=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,m=void 0;if(Yr(u-d)!==Yr(f-u)){var p=[];if(Yr(f-u)===Yr(a[1]-a[0])){m=f;var x=u+a[1]-a[0];p[0]=Math.min(x,(x+d)/2),p[1]=Math.max(x,(x+d)/2)}else{m=d;var g=f+a[1]-a[0];p[0]=Math.min(u,(g+u)/2),p[1]=Math.max(u,(g+u)/2)}var w=[Math.min(u,(m+u)/2),Math.max(u,(m+u)/2)];if(e>w[0]&&e<=w[1]||e>=p[0]&&e<=p[1]){({index:o}=r[c]);break}}else{var y=Math.min(d,f),v=Math.max(d,f);if(e>(y+u)/2&&e<=(v+u)/2){({index:o}=r[c]);break}}}else if(t){for(var b=0;b<l;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:o}=t[b]);break}}return o},vde=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&Pe(e[i]))return as(as({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&Pe(e[o]))return as(as({},e),{},{[o]:e[o]+(a||0)})}return e},qo=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",X6=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(r),o},eU=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:d,tickCount:u,ticks:f,niceTicks:m,axisType:p}=e;if(!o)return null;var x=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,g=a==="category"&&o.bandwidth?o.bandwidth()/x:0;if(g=p==="angleAxis"&&i&&i.length>=2?Yr(i[0]-i[1])*2*g:g,f||m){var w=(f||m||[]).map((y,v)=>{var b=n?n.indexOf(y):y;return{coordinate:o(b)+g,value:y,offset:g,index:v}});return w.filter(y=>!Cs(y.coordinate))}return c&&d?d.map((y,v)=>({coordinate:o(y)+g,value:y,index:v,offset:g})):o.ticks&&!r&&u!=null?o.ticks(u).map((y,v)=>({coordinate:o(y)+g,value:y,offset:g,index:v})):o.domain().map((y,v)=>({coordinate:o(y)+g,value:n?n[y]:y,index:v,offset:g}))},rA=1e-4,yde=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-rA,i=Math.max(n[0],n[1])+rA,o=e(t[0]),l=e(t[r-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},bde=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,o=0;o<t;++o){var l=Cs(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},wde=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var o=Cs(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},jde={sign:bde,expand:ble,none:Ld,silhouette:wle,wiggle:jle,positive:wde},Nde=(e,t,r)=>{var n=jde[r],a=yle().keys(t).value((i,o)=>+Lt(i,o,0)).order(Ij).offset(n);return a(e)};function nA(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!cr(a[t.dataKey])){var l=RF(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Lt(a,cr(o)?t.dataKey:o);return cr(c)?null:t.scale(c)}var Sde=e=>{var t=e.flat(2).filter(Pe);return[Math.min(...t),Math.max(...t)]},Cde=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],_de=(e,t,r)=>{if(e!=null)return Cde(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:o}=i,l=o.reduce((c,d)=>{var u=Z6(d,t,r),f=Sde(u);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},sA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qj=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=my(t,u=>u.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var c=a[o],d=a[o-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function iA(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return as(as({},t),{},{dataKey:r,payload:n,value:a,name:i})}function wy(e,t){if(e)return String(e);if(typeof t=="string")return t}function kde(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?hde({x:e,y:t},n):null}var Ede=(e,t,r,n)=>{var a=t.find(d=>d&&d.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:o}=n;return as(as(as({},n),lr(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:c}=n;return as(as(as({},n),lr(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},Pde=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,bi=e=>e.layout.width,wi=e=>e.layout.height,Ade=e=>e.layout.scale,tU=e=>e.layout.margin,yC=ae(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),bC=ae(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),rU="data-recharts-item-index",nU="data-recharts-item-data-key",jy=60;function oA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(r),!0).forEach(function(n){Tde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tde(e,t,r){return(t=Ode(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ode(e){var t=Rde(e,"string");return typeof t=="symbol"?t:t+""}function Rde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dde=e=>e.brush.height,Er=ae([bi,wi,tU,Dde,yC,bC,_6,ace],(e,t,r,n,a,i,o,l)=>{var c=i.reduce((x,g)=>{var{orientation:w}=g;if(!g.mirror&&!g.hide){var y=typeof g.width=="number"?g.width:jy;return Mi(Mi({},x),{},{[w]:x[w]+y})}return x},{left:r.left||0,right:r.right||0}),d=a.reduce((x,g)=>{var{orientation:w}=g;return!g.mirror&&!g.hide?Mi(Mi({},x),{},{[w]:Oo(x,"".concat(w))+g.height}):x},{top:r.top||0,bottom:r.bottom||0}),u=Mi(Mi({},d),c),f=u.bottom;u.bottom+=n,u=vde(u,o,l);var m=e-u.left-u.right,p=t-u.top-u.bottom;return Mi(Mi({brushBottom:f},u),{},{width:Math.max(m,0),height:Math.max(p,0)})}),Ide=ae(Er,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),sU=ae(bi,wi,(e,t)=>({x:0,y:0,width:e,height:t})),Mde=h.createContext(null),Os=()=>h.useContext(Mde)!=null,Ny=e=>e.brush,Sy=ae([Ny,Er,tU],(e,t,r)=>({height:e.height,x:Pe(e.x)?e.x:t.left,y:Pe(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Pe(e.width)?e.width:t.width})),wC=()=>{var e,t=Os(),r=Te(Ide),n=Te(Sy),a=(e=Te(Ny))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},Lde={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},aU=()=>{var e;return(e=Te(Er))!==null&&e!==void 0?e:Lde},iU=()=>Te(bi),oU=()=>Te(wi),bt=e=>e.layout.layoutType,jC=()=>Te(bt),$de={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},lU=Qn({name:"legend",initialState:$de,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=ri(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:GNe,setLegendSettings:KNe,addLegendPayload:cU,removeLegendPayload:dU}=lU.actions,Fde=lU.reducer;function Hj(){return Hj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hj.apply(null,arguments)}function lA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(r),!0).forEach(function(n){Ude(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ude(e,t,r){return(t=Bde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bde(e){var t=zde(e,"string");return typeof t=="symbol"?t:t+""}function zde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vde(e){return Array.isArray(e)&&Ra(e[0])&&Ra(e[1])?e.join(" ~ "):e}var Wde=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:f,accessibilityLayer:m=!1}=e,p=()=>{if(i&&i.length){var N={padding:0,margin:0},S=(l?my(i,l):i).map((C,k)=>{if(C.type==="none")return null;var A=C.formatter||o||Vde,{value:P,name:_}=C,E=P,M=_;if(A){var R=A(P,_,C,k,i);if(Array.isArray(R))[E,M]=R;else if(R!=null)E=R;else return null}var T=p0({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},n);return h.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:T},Ra(M)?h.createElement("span",{className:"recharts-tooltip-item-name"},M):null,Ra(M)?h.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,h.createElement("span",{className:"recharts-tooltip-item-value"},E),h.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return h.createElement("ul",{className:"recharts-tooltip-item-list",style:N},S)}return null},x=p0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=p0({margin:0},a),w=!cr(u),y=w?u:"",v=ct("recharts-default-tooltip",c),b=ct("recharts-tooltip-label",d);w&&f&&i!==void 0&&i!==null&&(y=f(u,i));var j=m?{role:"status","aria-live":"assertive"}:{};return h.createElement("div",Hj({className:v,style:x},j),h.createElement("p",{className:b,style:g},h.isValidElement(y)?y:"".concat(y)),p())},Vu="recharts-tooltip-wrapper",qde={visibility:"hidden"};function Hde(e){var{coordinate:t,translateX:r,translateY:n}=e;return ct(Vu,{["".concat(Vu,"-right")]:Pe(r)&&t&&Pe(t.x)&&r>=t.x,["".concat(Vu,"-left")]:Pe(r)&&t&&Pe(t.x)&&r<t.x,["".concat(Vu,"-bottom")]:Pe(n)&&t&&Pe(t.y)&&n>=t.y,["".concat(Vu,"-top")]:Pe(n)&&t&&Pe(t.y)&&n<t.y})}function cA(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:d}=e;if(i&&Pe(i[n]))return i[n];var u=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return o[n]?u:f;var m=c[n];if(m==null)return 0;if(o[n]){var p=u,x=m;return p<x?Math.max(f,m):Math.max(u,m)}if(d==null)return 0;var g=f+l,w=m+d;return g>w?Math.max(u,m):Math.max(f,m)}function Gde(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Kde(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,d,u,f;return o.height>0&&o.width>0&&r?(u=cA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=cA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=Gde({translateX:u,translateY:f,useTranslate3d:l})):d=qde,{cssProperties:d,cssClasses:Hde({translateX:u,translateY:f,coordinate:r})}}function dA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ap(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(r),!0).forEach(function(n){Gj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gj(e,t,r){return(t=Yde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yde(e){var t=Qde(e,"string");return typeof t=="symbol"?t:t+""}function Qde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Jde extends h.PureComponent{constructor(){super(...arguments),Gj(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Gj(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:d,position:u,reverseDirection:f,useTranslate3d:m,viewBox:p,wrapperStyle:x,lastBoundingBox:g,innerRef:w,hasPortalFromProps:y}=this.props,{cssClasses:v,cssProperties:b}=Kde({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:d,position:u,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:m,viewBox:p}),j=y?{}:ap(ap({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),N=ap(ap({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},x);return h.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:N,ref:w},i)}}var Zde=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),fu={isSsr:Zde()},uU=()=>Te(e=>e.rootProps.accessibilityLayer);function da(e){return Number.isFinite(e)}function Fd(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Kj(){return Kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kj.apply(null,arguments)}function uA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(r),!0).forEach(function(n){Xde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xde(e,t,r){return(t=eue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eue(e){var t=tue(e,"string");return typeof t=="symbol"?t:t+""}function tue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hA={curveBasisClosed:lle,curveBasisOpen:cle,curveBasis:ole,curveBumpX:Goe,curveBumpY:Koe,curveLinearClosed:dle,curveLinear:oy,curveMonotoneX:ule,curveMonotoneY:fle,curveNatural:hle,curveStep:mle,curveStepAfter:gle,curveStepBefore:ple},ip=e=>da(e.x)&&da(e.y),Wu=e=>e.x,qu=e=>e.y,rue=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Zh(e));return(r==="curveMonotone"||r==="curveBump")&&t?hA["".concat(r).concat(t==="vertical"?"Y":"X")]:hA[r]||oy},nue=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=rue(t,a),l=i?r.filter(ip):r,c;if(Array.isArray(n)){var d=i?n.filter(f=>ip(f)):n,u=l.map((f,m)=>fA(fA({},f),{},{base:d[m]}));return a==="vertical"?c=ep().y(qu).x1(Wu).x0(f=>f.base.x):c=ep().x(Wu).y1(qu).y0(f=>f.base.y),c.defined(ip).curve(o),c(u)}return a==="vertical"&&Pe(n)?c=ep().y(qu).x1(Wu).x0(n):Pe(n)?c=ep().x(Wu).y1(qu).y0(n):c=WF().x(Wu).y(qu),c.defined(ip).curve(o),c(l)},NC=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?nue(e):n;return h.createElement("path",Kj({},Wo(e),eC(e),{className:ct("recharts-curve",t),d:i===null?void 0:i,ref:a}))},sue=["x","y","top","left","width","height","className"];function Yj(){return Yj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yj.apply(null,arguments)}function mA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(r),!0).forEach(function(n){iue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iue(e,t,r){return(t=oue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oue(e){var t=lue(e,"string");return typeof t=="symbol"?t:t+""}function lue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cue(e,t){if(e==null)return{};var r,n,a=due(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function due(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uue=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),fue=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:l}=e,c=cue(e,sue),d=aue({x:t,y:r,top:n,left:a,width:i,height:o},c);return!Pe(t)||!Pe(r)||!Pe(i)||!Pe(o)||!Pe(n)||!Pe(a)?null:h.createElement("path",Yj({},qt(d,!0),{className:ct("recharts-cross",l),d:uue(t,r,i,o,n,a)}))};function hue(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function pA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(r),!0).forEach(function(n){pue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pue(e,t,r){return(t=gue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gue(e){var t=xue(e,"string");return typeof t=="symbol"?t:t+""}function xue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rs(e,t){var r=mue({},e),n=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}var fU={},hU={},mU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(mU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mU,r=cC,n=uy,a=fy,i=dy;function o(d,u,f){return l(d,u,void 0,void 0,void 0,void 0,f)}function l(d,u,f,m,p,x,g){const w=g(d,u,f,m,p,x);if(w!==void 0)return w;if(typeof d==typeof u)switch(typeof d){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return d===u;case"number":return d===u||Object.is(d,u);case"function":return d===u;case"object":return c(d,u,x,g)}return c(d,u,x,g)}function c(d,u,f,m){if(Object.is(d,u))return!0;let p=n.getTag(d),x=n.getTag(u);if(p===a.argumentsTag&&(p=a.objectTag),x===a.argumentsTag&&(x=a.objectTag),p!==x)return!1;switch(p){case a.stringTag:return d.toString()===u.toString();case a.numberTag:{const y=d.valueOf(),v=u.valueOf();return i.eq(y,v)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(d.valueOf(),u.valueOf());case a.regexpTag:return d.source===u.source&&d.flags===u.flags;case a.functionTag:return d===u}f=f??new Map;const g=f.get(d),w=f.get(u);if(g!=null&&w!=null)return g===u;f.set(d,u),f.set(u,d);try{switch(p){case a.mapTag:{if(d.size!==u.size)return!1;for(const[y,v]of d.entries())if(!u.has(y)||!l(v,u.get(y),y,d,u,f,m))return!1;return!0}case a.setTag:{if(d.size!==u.size)return!1;const y=Array.from(d.values()),v=Array.from(u.values());for(let b=0;b<y.length;b++){const j=y[b],N=v.findIndex(S=>l(j,S,void 0,d,u,f,m));if(N===-1)return!1;v.splice(N,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(d)!==Buffer.isBuffer(u)||d.length!==u.length)return!1;for(let y=0;y<d.length;y++)if(!l(d[y],u[y],y,d,u,f,m))return!1;return!0}case a.arrayBufferTag:return d.byteLength!==u.byteLength?!1:c(new Uint8Array(d),new Uint8Array(u),f,m);case a.dataViewTag:return d.byteLength!==u.byteLength||d.byteOffset!==u.byteOffset?!1:c(new Uint8Array(d),new Uint8Array(u),f,m);case a.errorTag:return d.name===u.name&&d.message===u.message;case a.objectTag:{if(!(c(d.constructor,u.constructor,f,m)||t.isPlainObject(d)&&t.isPlainObject(u)))return!1;const v=[...Object.keys(d),...r.getSymbols(d)],b=[...Object.keys(u),...r.getSymbols(u)];if(v.length!==b.length)return!1;for(let j=0;j<v.length;j++){const N=v[j],S=d[N];if(!Object.hasOwn(u,N))return!1;const C=u[N];if(!l(S,C,N,d,u,f,m))return!1}return!0}default:return!1}}finally{f.delete(d),f.delete(u)}}e.isEqualWith=o})(hU);var pU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(pU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hU,r=pU;function n(a,i){return t.isEqualWith(a,i,r.noop)}e.isEqual=n})(fU);var vue=fU.isEqual;const yue=ua(vue);var Zg=1e-4,gU=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],xU=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),gA=(e,t)=>r=>{var n=gU(e,t);return xU(n,r)},bue=(e,t)=>r=>{var n=gU(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return xU(a,r)},xA=function(){for(var t,r,n,a,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,a]=c[1].split(")")[0].split(",").map(x=>parseFloat(x)))}}else o.length===4&&([t,n,r,a]=o);var d=gA(t,r),u=gA(n,a),f=bue(t,r),m=x=>x>1?1:x<0?0:x,p=x=>{for(var g=x>1?1:x,w=g,y=0;y<8;++y){var v=d(w)-g,b=f(w);if(Math.abs(v-g)<Zg||b<Zg)return u(w);w=m(w-v/b)}return u(w)};return p.isStepper=!1,p},wue=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,l,c)=>{var d=-(o-l)*r,u=c*n,f=c+(d-u)*a/1e3,m=c*a/1e3+o;return Math.abs(m-l)<Zg&&Math.abs(f)<Zg?[l,0]:[m,f]};return i.isStepper=!0,i.dt=a,i},vU=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xA(e);case"spring":return wue();default:if(e.split("(")[0]==="cubic-bezier")return xA(e)}return typeof e=="function"?e:null};function vA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(r),!0).forEach(function(n){jue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jue(e,t,r){return(t=Nue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nue(e){var t=Sue(e,"string");return typeof t=="symbol"?t:t+""}function Sue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cue=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),_ue=(e,t,r)=>e.map(n=>"".concat(Cue(n)," ").concat(t,"ms ").concat(r)).join(","),kue=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),fh=(e,t)=>Object.keys(t).reduce((r,n)=>yA(yA({},r),{},{[n]:e(n,t[n])}),{});function bA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(r),!0).forEach(function(n){Eue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eue(e,t,r){return(t=Pue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pue(e){var t=Aue(e,"string");return typeof t=="symbol"?t:t+""}function Aue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xg=(e,t,r)=>e+(t-e)*r,Qj=e=>{var{from:t,to:r}=e;return t!==r},yU=(e,t,r)=>{var n=fh((a,i)=>{if(Qj(i)){var[o,l]=e(i.from,i.to,i.velocity);return Rr(Rr({},i),{},{from:o,velocity:l})}return i},t);return r<1?fh((a,i)=>Qj(i)?Rr(Rr({},i),{},{velocity:Xg(i.velocity,n[a].velocity,r),from:Xg(i.from,n[a].from,r)}):i,t):yU(e,n,r-1)};function Tue(e,t,r,n,a,i){var o,l=n.reduce((m,p)=>Rr(Rr({},m),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>fh((m,p)=>p.from,l),d=()=>!Object.values(l).filter(Qj).length,u=null,f=m=>{o||(o=m);var p=m-o,x=p/r.dt;l=yU(r,l,x),a(Rr(Rr(Rr({},e),t),c())),o=m,d()||(u=i.setTimeout(f))};return()=>(u=i.setTimeout(f),()=>{u()})}function Oue(e,t,r,n,a,i,o){var l=null,c=a.reduce((f,m)=>Rr(Rr({},f),{},{[m]:[e[m],t[m]]}),{}),d,u=f=>{d||(d=f);var m=(f-d)/n,p=fh((g,w)=>Xg(...w,r(m)),c);if(i(Rr(Rr(Rr({},e),t),p)),m<1)l=o.setTimeout(u);else{var x=fh((g,w)=>Xg(...w,r(1)),c);i(Rr(Rr(Rr({},e),t),x))}};return()=>(l=o.setTimeout(u),()=>{l()})}const bU=(e,t,r,n,a,i)=>{var o=kue(e,t);return r.isStepper===!0?Tue(e,t,r,o,a,i):Oue(e,t,r,n,o,a,i)};function Rue(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...d]=l;if(typeof c=="number"){a=e.setTimeout(i.bind(null,d),c);return}i(c),a=e.setTimeout(i.bind(null,d));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class Due{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function Iue(){return Rue(new Due)}var Mue=h.createContext(Iue);function wU(e,t){var r=h.useContext(Mue);return h.useMemo(()=>t??r(e),[e,t,r])}var Lue=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Jj(){return Jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jj.apply(null,arguments)}function $ue(e,t){if(e==null)return{};var r,n,a=Fue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Fue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Li(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(r),!0).forEach(function(n){xl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xl(e,t,r){return(t=Uue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uue(e){var t=Bue(e,"string");return typeof t=="symbol"?t:t+""}function Bue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class SC extends h.PureComponent{constructor(t,r){super(t,r),xl(this,"mounted",!1),xl(this,"manager",void 0),xl(this,"stopJSAnimation",null),xl(this,"unSubscribe",null);var{isActive:n,attributeName:a,from:i,to:o,children:l,duration:c,animationManager:d}=this.props;if(this.manager=d,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:o});return}if(i){if(typeof l=="function"){this.state={style:i};return}this.state={style:a?{[a]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:a,shouldReAnimate:i,to:o,from:l}=this.props,{style:c}=this.state;if(n){if(!r){var d={style:a?{[a]:o}:o};this.state&&c&&(a&&c[a]!==o||!a&&c!==o)&&this.setState(d);return}if(!(yue(t.to,o)&&t.canBegin&&t.isActive)){var u=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=u||i?l:t.to;if(this.state&&c){var m={style:a?{[a]:f}:f};(a&&c[a]!==f||!a&&c!==f)&&this.setState(m)}this.runAnimation(Li(Li({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c}=t,d=bU(r,n,vU(i),a,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=d()};this.manager.start([c,o,u,a,l])}runAnimation(t){var{begin:r,duration:n,attributeName:a,to:i,easing:o,onAnimationStart:l,onAnimationEnd:c,children:d}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof d=="function"||o==="spring"){this.runJSAnimation(t);return}var u=a?{[a]:i}:i,f=_ue(Object.keys(u),n,o);this.manager.start([l,r,Li(Li({},u),{},{transition:f}),n,c])}render(){var t=this.props,{children:r,begin:n,duration:a,attributeName:i,easing:o,isActive:l,from:c,to:d,canBegin:u,onAnimationEnd:f,shouldReAnimate:m,onAnimationReStart:p,animationManager:x}=t,g=$ue(t,Lue),w=h.Children.count(r),y=this.state.style;if(typeof r=="function")return r(y);if(!l||w===0||a<=0)return r;var v=b=>{var{style:j={},className:N}=b.props,S=h.cloneElement(b,Li(Li({},g),{},{style:Li(Li({},j),y),className:N}));return S};return w===1?v(h.Children.only(r)):h.createElement("div",null,h.Children.map(r,b=>v(b)))}}xl(SC,"displayName","Animate");xl(SC,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function ex(e){var t,r=wU((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return h.createElement(SC,Jj({},e,{animationManager:r}))}function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tx.apply(null,arguments)}var jA=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,d;if(i>0&&a instanceof Array){for(var u=[0,0,0,0],f=0,m=4;f<m;f++)u[f]=a[f]>i?i:a[f];d="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),d+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*u[1])),d+="L ".concat(e+r,",").concat(t+n-o*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+r-l*u[2],",").concat(t+n)),d+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*u[3])),d+="Z"}else if(i>0&&a===+a&&a>0){var p=Math.min(i,a);d="M ".concat(e,",").concat(t+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+l*p,",").concat(t,`
            L `).concat(e+r-l*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*p,`
            L `).concat(e+r,",").concat(t+n-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r-l*p,",").concat(t+n,`
            L `).concat(e+l*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*p," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return d},zue={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jU=e=>{var t=Rs(e,zue),r=h.useRef(null),[n,a]=h.useState(-1);h.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&a(y)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:d,className:u}=t,{animationEasing:f,animationDuration:m,animationBegin:p,isAnimationActive:x,isUpdateAnimationActive:g}=t;if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var w=ct("recharts-rectangle",u);return g?h.createElement(ex,{canBegin:n>0,from:{width:l,height:c,x:i,y:o},to:{width:l,height:c,x:i,y:o},duration:m,animationEasing:f,isActive:g},y=>{var{width:v,height:b,x:j,y:N}=y;return h.createElement(ex,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:m,isActive:x,easing:f},h.createElement("path",tx({},qt(t,!0),{className:w,d:jA(j,N,v,b,d),ref:r})))}):h.createElement("path",tx({},qt(t,!0),{className:w,d:jA(i,o,l,c,d)}))};function NU(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=lr(t,r,n,a),l=lr(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Zj(){return Zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zj.apply(null,arguments)}var Vue=(e,t)=>{var r=Yr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},op=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,d=l*(o?1:-1)+n,u=Math.asin(l/d)/Jg,f=c?a:a+i*u,m=lr(t,r,d,f),p=lr(t,r,n,f),x=c?a-i*u:a,g=lr(t,r,d*Math.cos(u*Jg),x);return{center:m,circleTangency:p,lineTangency:g,theta:u}},SU=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,l=Vue(i,o),c=i+l,d=lr(t,r,a,i),u=lr(t,r,a,c),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var m=lr(t,r,n,i),p=lr(t,r,n,c);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},Wue=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}=e,u=Yr(d-c),{circleTangency:f,lineTangency:m,theta:p}=op({cx:t,cy:r,radius:a,angle:c,sign:u,cornerRadius:i,cornerIsExternal:l}),{circleTangency:x,lineTangency:g,theta:w}=op({cx:t,cy:r,radius:a,angle:d,sign:-u,cornerRadius:i,cornerIsExternal:l}),y=l?Math.abs(c-d):Math.abs(c-d)-p-w;if(y<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):SU({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:d});var v="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:b,lineTangency:j,theta:N}=op({cx:t,cy:r,radius:n,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:S,lineTangency:C,theta:k}=op({cx:t,cy:r,radius:n,angle:d,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),A=l?Math.abs(c-d):Math.abs(c-d)-N-k;if(A<0&&i===0)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+="L".concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(u>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(j.x,",").concat(j.y,"Z")}else v+="L".concat(t,",").concat(r,"Z");return v},que={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},CU=e=>{var t=Rs(e,que),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u,className:f}=t;if(i<a||d===u)return null;var m=ct("recharts-sector",f),p=i-a,x=hs(o,p,0,!0),g;return x>0&&Math.abs(d-u)<360?g=Wue({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(x,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):g=SU({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u}),h.createElement("path",Zj({},qt(t,!0),{className:m,d:g}))};function Hue(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:d,outerRadius:u,angle:f}=t,m=lr(l,c,d,f),p=lr(l,c,u,f);n=m.x,a=m.y,i=p.x,o=p.y}else return NU(t);return[{x:n,y:a},{x:i,y:o}]}var _U={},kU={},EU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fC;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(EU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EU;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(kU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hC,r=kU;function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),c=new Array(l);for(let d=0;d<l;d++)c[d]=a,a+=o;return c}e.range=n})(_U);var Gue=_U.range;const PU=ua(Gue);function yo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Kue(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function CC(e){let t,r,n;e.length!==2?(t=yo,r=(l,c)=>yo(e(l),c),n=(l,c)=>e(l)-c):(t=e===yo||e===Kue?e:Yue,r=e,n=e);function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<0?d=f+1:u=f}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function o(l,c,d=0,u=l.length){const f=a(l,c,d,u-1);return f>d&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function Yue(){return 0}function AU(e){return e===null?NaN:+e}function*Que(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Jue=CC(yo),em=Jue.right;CC(AU).center;class NA extends Map{constructor(t,r=efe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(SA(this,t))}has(t){return super.has(SA(this,t))}set(t,r){return super.set(Zue(this,t),r)}delete(t){return super.delete(Xue(this,t))}}function SA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Zue({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Xue({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function efe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function tfe(e=yo){if(e===yo)return TU;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function TU(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const rfe=Math.sqrt(50),nfe=Math.sqrt(10),sfe=Math.sqrt(2);function rx(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=rfe?10:i>=nfe?5:i>=sfe?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?rx(e,t,r*2):[l,c,d]}function Xj(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?rx(t,e,r):rx(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function eN(e,t,r){return t=+t,e=+e,r=+r,rx(e,t,r)[2]}function tN(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?eN(t,e,r):eN(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function CA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function _A(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function OU(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?TU:tfe(a);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,u=Math.log(c),f=.5*Math.exp(2*u/3),m=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),p=Math.max(r,Math.floor(t-d*f/c+m)),x=Math.min(n,Math.floor(t+(c-d)*f/c+m));OU(e,t,p,x,a)}const i=e[t];let o=r,l=n;for(Hu(e,r,t),a(e[n],i)>0&&Hu(e,r,n);o<l;){for(Hu(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Hu(e,r,l):(++l,Hu(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Hu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function afe(e,t,r){if(e=Float64Array.from(Que(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return _A(e);if(t>=1)return CA(e);var n,a=(n-1)*t,i=Math.floor(a),o=CA(OU(e,i).subarray(0,i+1)),l=_A(e.subarray(i+1));return o+(l-o)*(a-i)}}function ife(e,t,r=AU){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function ofe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ds(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ji(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const rN=Symbol("implicit");function _C(){var e=new NA,t=[],r=[],n=rN;function a(i){let o=e.get(i);if(o===void 0){if(n!==rN)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new NA;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return _C(t,r).unknown(n)},Ds.apply(a,arguments),a}function kC(){var e=_C().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var m=t().length,p=a<n,x=p?a:n,g=p?n:a;i=(g-x)/Math.max(1,m-c+d*2),l&&(i=Math.floor(i)),x+=(g-x-i*(m-c))*u,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var w=ofe(m).map(function(y){return x+i*y});return r(p?w.reverse():w)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(d=+m,f()):d},e.align=function(m){return arguments.length?(u=Math.max(0,Math.min(1,m)),f()):u},e.copy=function(){return kC(t(),[n,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},Ds.apply(f(),arguments)}function RU(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return RU(t())},e}function lfe(){return RU(kC.apply(null,arguments).paddingInner(1))}function EC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function DU(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function tm(){}var hh=.7,nx=1/hh,sd="\\s*([+-]?\\d+)\\s*",mh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Aa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cfe=/^#([0-9a-f]{3,8})$/,dfe=new RegExp(`^rgb\\(${sd},${sd},${sd}\\)$`),ufe=new RegExp(`^rgb\\(${Aa},${Aa},${Aa}\\)$`),ffe=new RegExp(`^rgba\\(${sd},${sd},${sd},${mh}\\)$`),hfe=new RegExp(`^rgba\\(${Aa},${Aa},${Aa},${mh}\\)$`),mfe=new RegExp(`^hsl\\(${mh},${Aa},${Aa}\\)$`),pfe=new RegExp(`^hsla\\(${mh},${Aa},${Aa},${mh}\\)$`),kA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};EC(tm,ph,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:EA,formatHex:EA,formatHex8:gfe,formatHsl:xfe,formatRgb:PA,toString:PA});function EA(){return this.rgb().formatHex()}function gfe(){return this.rgb().formatHex8()}function xfe(){return IU(this).formatHsl()}function PA(){return this.rgb().formatRgb()}function ph(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=cfe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?AA(t):r===3?new wn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?lp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?lp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=dfe.exec(e))?new wn(t[1],t[2],t[3],1):(t=ufe.exec(e))?new wn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ffe.exec(e))?lp(t[1],t[2],t[3],t[4]):(t=hfe.exec(e))?lp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=mfe.exec(e))?RA(t[1],t[2]/100,t[3]/100,1):(t=pfe.exec(e))?RA(t[1],t[2]/100,t[3]/100,t[4]):kA.hasOwnProperty(e)?AA(kA[e]):e==="transparent"?new wn(NaN,NaN,NaN,0):null}function AA(e){return new wn(e>>16&255,e>>8&255,e&255,1)}function lp(e,t,r,n){return n<=0&&(e=t=r=NaN),new wn(e,t,r,n)}function vfe(e){return e instanceof tm||(e=ph(e)),e?(e=e.rgb(),new wn(e.r,e.g,e.b,e.opacity)):new wn}function nN(e,t,r,n){return arguments.length===1?vfe(e):new wn(e,t,r,n??1)}function wn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}EC(wn,nN,DU(tm,{brighter(e){return e=e==null?nx:Math.pow(nx,e),new wn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?hh:Math.pow(hh,e),new wn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wn(Tl(this.r),Tl(this.g),Tl(this.b),sx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:TA,formatHex:TA,formatHex8:yfe,formatRgb:OA,toString:OA}));function TA(){return`#${vl(this.r)}${vl(this.g)}${vl(this.b)}`}function yfe(){return`#${vl(this.r)}${vl(this.g)}${vl(this.b)}${vl((isNaN(this.opacity)?1:this.opacity)*255)}`}function OA(){const e=sx(this.opacity);return`${e===1?"rgb(":"rgba("}${Tl(this.r)}, ${Tl(this.g)}, ${Tl(this.b)}${e===1?")":`, ${e})`}`}function sx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Tl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vl(e){return e=Tl(e),(e<16?"0":"")+e.toString(16)}function RA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Xs(e,t,r,n)}function IU(e){if(e instanceof Xs)return new Xs(e.h,e.s,e.l,e.opacity);if(e instanceof tm||(e=ph(e)),!e)return new Xs;if(e instanceof Xs)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Xs(o,l,c,e.opacity)}function bfe(e,t,r,n){return arguments.length===1?IU(e):new Xs(e,t,r,n??1)}function Xs(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}EC(Xs,bfe,DU(tm,{brighter(e){return e=e==null?nx:Math.pow(nx,e),new Xs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?hh:Math.pow(hh,e),new Xs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new wn(g0(e>=240?e-240:e+120,a,n),g0(e,a,n),g0(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Xs(DA(this.h),cp(this.s),cp(this.l),sx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sx(this.opacity);return`${e===1?"hsl(":"hsla("}${DA(this.h)}, ${cp(this.s)*100}%, ${cp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function DA(e){return e=(e||0)%360,e<0?e+360:e}function cp(e){return Math.max(0,Math.min(1,e||0))}function g0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const PC=e=>()=>e;function wfe(e,t){return function(r){return e+r*t}}function jfe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Nfe(e){return(e=+e)==1?MU:function(t,r){return r-t?jfe(t,r,e):PC(isNaN(t)?r:t)}}function MU(e,t){var r=t-e;return r?wfe(e,r):PC(isNaN(e)?t:e)}const IA=function e(t){var r=Nfe(t);function n(a,i){var o=r((a=nN(a)).r,(i=nN(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),d=MU(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return n.gamma=e,n}(1);function Sfe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Cfe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function _fe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=hu(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function kfe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ax(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Efe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=hu(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var sN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,x0=new RegExp(sN.source,"g");function Pfe(e){return function(){return e}}function Afe(e){return function(t){return e(t)+""}}function Tfe(e,t){var r=sN.lastIndex=x0.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=sN.exec(e))&&(a=x0.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:ax(n,a)})),r=x0.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Afe(c[0].x):Pfe(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)l[(f=c[u]).i]=f.x(d);return l.join("")})}function hu(e,t){var r=typeof t,n;return t==null||r==="boolean"?PC(t):(r==="number"?ax:r==="string"?(n=ph(t))?(t=n,IA):Tfe:t instanceof ph?IA:t instanceof Date?kfe:Cfe(t)?Sfe:Array.isArray(t)?_fe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Efe:ax)(e,t)}function AC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Ofe(e,t){t===void 0&&(t=e,e=hu);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function Rfe(e){return function(){return e}}function ix(e){return+e}var MA=[0,1];function an(e){return e}function aN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Rfe(isNaN(t)?NaN:.5)}function Dfe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Ife(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=aN(a,n),i=r(o,i)):(n=aN(n,a),i=r(i,o)),function(l){return i(n(l))}}function Mfe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=aN(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=em(e,l,1,n)-1;return i[c](a[c](l))}}function rm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Cy(){var e=MA,t=MA,r=hu,n,a,i,o=an,l,c,d;function u(){var m=Math.min(e.length,t.length);return o!==an&&(o=Dfe(e[0],e[m-1])),l=m>2?Mfe:Ife,c=d=null,f}function f(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(n),t,r)))(n(o(m)))}return f.invert=function(m){return o(a((d||(d=l(t,e.map(n),ax)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,ix),u()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),u()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=AC,u()},f.clamp=function(m){return arguments.length?(o=m?!0:an,u()):o!==an},f.interpolate=function(m){return arguments.length?(r=m,u()):r},f.unknown=function(m){return arguments.length?(i=m,f):i},function(m,p){return n=m,a=p,u()}}function TC(){return Cy()(an,an)}function Lfe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ox(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ud(e){return e=ox(Math.abs(e)),e?e[1]:NaN}function $fe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Ffe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Ufe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gh(e){if(!(t=Ufe.exec(e)))throw new Error("invalid format: "+e);var t;return new OC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}gh.prototype=OC.prototype;function OC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}OC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bfe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var LU;function zfe(e,t){var r=ox(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(LU=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+ox(e,Math.max(0,t+i-1))[0]}function LA(e,t){var r=ox(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const $A={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Lfe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>LA(e*100,t),r:LA,s:zfe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function FA(e){return e}var UA=Array.prototype.map,BA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Vfe(e){var t=e.grouping===void 0||e.thousands===void 0?FA:$fe(UA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?FA:Ffe(UA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=gh(f);var m=f.fill,p=f.align,x=f.sign,g=f.symbol,w=f.zero,y=f.width,v=f.comma,b=f.precision,j=f.trim,N=f.type;N==="n"?(v=!0,N="g"):$A[N]||(b===void 0&&(b=12),j=!0,N="g"),(w||m==="0"&&p==="=")&&(w=!0,m="0",p="=");var S=g==="$"?r:g==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",C=g==="$"?n:/[%p]/.test(N)?o:"",k=$A[N],A=/[defgprs%]/.test(N);b=b===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function P(_){var E=S,M=C,R,T,B;if(N==="c")M=k(_)+M,_="";else{_=+_;var K=_<0||1/_<0;if(_=isNaN(_)?c:k(Math.abs(_),b),j&&(_=Bfe(_)),K&&+_==0&&x!=="+"&&(K=!1),E=(K?x==="("?x:l:x==="-"||x==="("?"":x)+E,M=(N==="s"?BA[8+LU/3]:"")+M+(K&&x==="("?")":""),A){for(R=-1,T=_.length;++R<T;)if(B=_.charCodeAt(R),48>B||B>57){M=(B===46?a+_.slice(R+1):_.slice(R))+M,_=_.slice(0,R);break}}}v&&!w&&(_=t(_,1/0));var z=E.length+_.length+M.length,V=z<y?new Array(y-z+1).join(m):"";switch(v&&w&&(_=t(V+_,V.length?y-M.length:1/0),V=""),p){case"<":_=E+_+M+V;break;case"=":_=E+V+_+M;break;case"^":_=V.slice(0,z=V.length>>1)+E+_+M+V.slice(z);break;default:_=V+E+_+M;break}return i(_)}return P.toString=function(){return f+""},P}function u(f,m){var p=d((f=gh(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(Ud(m)/3)))*3,g=Math.pow(10,-x),w=BA[8+x/3];return function(y){return p(g*y)+w}}return{format:d,formatPrefix:u}}var dp,RC,$U;Wfe({thousands:",",grouping:[3],currency:["$",""]});function Wfe(e){return dp=Vfe(e),RC=dp.format,$U=dp.formatPrefix,dp}function qfe(e){return Math.max(0,-Ud(Math.abs(e)))}function Hfe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ud(t)/3)))*3-Ud(Math.abs(e)))}function Gfe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ud(t)-Ud(e))+1}function FU(e,t,r,n){var a=tN(e,t,r),i;switch(n=gh(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Hfe(a,o))&&(n.precision=i),$U(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Gfe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=qfe(a))&&(n.precision=i-(n.type==="%")*2);break}}return RC(n)}function Ho(e){var t=e.domain;return e.ticks=function(r){var n=t();return Xj(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return FU(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=eN(o,l,r),d===c)return n[a]=o,n[i]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function UU(){var e=TC();return e.copy=function(){return rm(e,UU())},Ds.apply(e,arguments),Ho(e)}function BU(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ix),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return BU(e).unknown(t)},e=arguments.length?Array.from(e,ix):[0,1],Ho(r)}function zU(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function zA(e){return Math.log(e)}function VA(e){return Math.exp(e)}function Kfe(e){return-Math.log(-e)}function Yfe(e){return-Math.exp(-e)}function Qfe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Jfe(e){return e===10?Qfe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Zfe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function WA(e){return(t,r)=>-e(-t,r)}function DC(e){const t=e(zA,VA),r=t.domain;let n=10,a,i;function o(){return a=Zfe(n),i=Jfe(n),r()[0]<0?(a=WA(a),i=WA(i),e(Kfe,Yfe)):e(zA,VA),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let m=a(d),p=a(u),x,g;const w=l==null?10:+l;let y=[];if(!(n%1)&&p-m<w){if(m=Math.floor(m),p=Math.ceil(p),d>0){for(;m<=p;++m)for(x=1;x<n;++x)if(g=m<0?x/i(-m):x*i(m),!(g<d)){if(g>u)break;y.push(g)}}else for(;m<=p;++m)for(x=n-1;x>=1;--x)if(g=m>0?x/i(-m):x*i(m),!(g<d)){if(g>u)break;y.push(g)}y.length*2<w&&(y=Xj(d,u,w))}else y=Xj(m,p,Math.min(p-m,w)).map(i);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=gh(c)).precision==null&&(c.trim=!0),c=RC(c)),l===1/0)return c;const d=Math.max(1,n*l/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=d?c(u):""}},t.nice=()=>r(zU(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function VU(){const e=DC(Cy()).domain([1,10]);return e.copy=()=>rm(e,VU()).base(e.base()),Ds.apply(e,arguments),e}function qA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function HA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function IC(e){var t=1,r=e(qA(t),HA(t));return r.constant=function(n){return arguments.length?e(qA(t=+n),HA(t)):t},Ho(r)}function WU(){var e=IC(Cy());return e.copy=function(){return rm(e,WU()).constant(e.constant())},Ds.apply(e,arguments)}function GA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Xfe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ehe(e){return e<0?-e*e:e*e}function MC(e){var t=e(an,an),r=1;function n(){return r===1?e(an,an):r===.5?e(Xfe,ehe):e(GA(r),GA(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ho(t)}function LC(){var e=MC(Cy());return e.copy=function(){return rm(e,LC()).exponent(e.exponent())},Ds.apply(e,arguments),e}function the(){return LC.apply(null,arguments).exponent(.5)}function KA(e){return Math.sign(e)*e*e}function rhe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function qU(){var e=TC(),t=[0,1],r=!1,n;function a(i){var o=rhe(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(KA(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,ix)).map(KA)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return qU(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ds.apply(a,arguments),Ho(a)}function HU(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=ife(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[em(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(yo),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return HU().domain(e).range(t).unknown(n)},Ds.apply(i,arguments)}function GU(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[em(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return GU().domain([e,t]).range(a).unknown(i)},Ds.apply(Ho(o),arguments)}function KU(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[em(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return KU().domain(e).range(t).unknown(r)},Ds.apply(a,arguments)}const v0=new Date,y0=new Date;function br(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},a.filter=i=>br(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(v0.setTime(+i),y0.setTime(+o),e(v0),e(y0),Math.floor(r(v0,y0))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const lx=br(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);lx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?br(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):lx);lx.range;const Ja=1e3,cs=Ja*60,Za=cs*60,fi=Za*24,$C=fi*7,YA=fi*30,b0=fi*365,yl=br(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ja)},(e,t)=>(t-e)/Ja,e=>e.getUTCSeconds());yl.range;const FC=br(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ja)},(e,t)=>{e.setTime(+e+t*cs)},(e,t)=>(t-e)/cs,e=>e.getMinutes());FC.range;const UC=br(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*cs)},(e,t)=>(t-e)/cs,e=>e.getUTCMinutes());UC.range;const BC=br(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ja-e.getMinutes()*cs)},(e,t)=>{e.setTime(+e+t*Za)},(e,t)=>(t-e)/Za,e=>e.getHours());BC.range;const zC=br(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Za)},(e,t)=>(t-e)/Za,e=>e.getUTCHours());zC.range;const nm=br(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*cs)/fi,e=>e.getDate()-1);nm.range;const _y=br(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fi,e=>e.getUTCDate()-1);_y.range;const YU=br(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fi,e=>Math.floor(e/fi));YU.range;function uc(e){return br(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*cs)/$C)}const ky=uc(0),cx=uc(1),nhe=uc(2),she=uc(3),Bd=uc(4),ahe=uc(5),ihe=uc(6);ky.range;cx.range;nhe.range;she.range;Bd.range;ahe.range;ihe.range;function fc(e){return br(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/$C)}const Ey=fc(0),dx=fc(1),ohe=fc(2),lhe=fc(3),zd=fc(4),che=fc(5),dhe=fc(6);Ey.range;dx.range;ohe.range;lhe.range;zd.range;che.range;dhe.range;const VC=br(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());VC.range;const WC=br(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());WC.range;const hi=br(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());hi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:br(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});hi.range;const mi=br(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());mi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:br(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});mi.range;function QU(e,t,r,n,a,i){const o=[[yl,1,Ja],[yl,5,5*Ja],[yl,15,15*Ja],[yl,30,30*Ja],[i,1,cs],[i,5,5*cs],[i,15,15*cs],[i,30,30*cs],[a,1,Za],[a,3,3*Za],[a,6,6*Za],[a,12,12*Za],[n,1,fi],[n,2,2*fi],[r,1,$C],[t,1,YA],[t,3,3*YA],[e,1,b0]];function l(d,u,f){const m=u<d;m&&([d,u]=[u,d]);const p=f&&typeof f.range=="function"?f:c(d,u,f),x=p?p.range(d,+u+1):[];return m?x.reverse():x}function c(d,u,f){const m=Math.abs(u-d)/f,p=CC(([,,w])=>w).right(o,m);if(p===o.length)return e.every(tN(d/b0,u/b0,f));if(p===0)return lx.every(Math.max(tN(d,u,f),1));const[x,g]=o[m/o[p-1][2]<o[p][2]/m?p-1:p];return x.every(g)}return[l,c]}const[uhe,fhe]=QU(mi,WC,Ey,YU,zC,UC),[hhe,mhe]=QU(hi,VC,ky,nm,BC,FC);function w0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function j0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Gu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function phe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=Ku(a),u=Yu(a),f=Ku(i),m=Yu(i),p=Ku(o),x=Yu(o),g=Ku(l),w=Yu(l),y=Ku(c),v=Yu(c),b={a:K,A:z,b:V,B:F,c:null,d:tT,e:tT,f:$he,g:Khe,G:Qhe,H:Ihe,I:Mhe,j:Lhe,L:JU,m:Fhe,M:Uhe,p:W,q:D,Q:sT,s:aT,S:Bhe,u:zhe,U:Vhe,V:Whe,w:qhe,W:Hhe,x:null,X:null,y:Ghe,Y:Yhe,Z:Jhe,"%":nT},j={a:L,A:J,b:U,B:ee,c:null,d:rT,e:rT,f:tme,g:ume,G:hme,H:Zhe,I:Xhe,j:eme,L:XU,m:rme,M:nme,p:G,q:ce,Q:sT,s:aT,S:sme,u:ame,U:ime,V:ome,w:lme,W:cme,x:null,X:null,y:dme,Y:fme,Z:mme,"%":nT},N={a:P,A:_,b:E,B:M,c:R,d:XA,e:XA,f:The,g:ZA,G:JA,H:eT,I:eT,j:khe,L:Ahe,m:_he,M:Ehe,p:A,q:Che,Q:Rhe,s:Dhe,S:Phe,u:bhe,U:whe,V:jhe,w:yhe,W:Nhe,x:T,X:B,y:ZA,Y:JA,Z:She,"%":Ohe};b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),j.x=S(r,j),j.X=S(n,j),j.c=S(t,j);function S(H,q){return function(te){var I=[],ie=-1,Z=0,pe=H.length,xe,be,ke;for(te instanceof Date||(te=new Date(+te));++ie<pe;)H.charCodeAt(ie)===37&&(I.push(H.slice(Z,ie)),(be=QA[xe=H.charAt(++ie)])!=null?xe=H.charAt(++ie):be=xe==="e"?" ":"0",(ke=q[xe])&&(xe=ke(te,be)),I.push(xe),Z=ie+1);return I.push(H.slice(Z,ie)),I.join("")}}function C(H,q){return function(te){var I=Gu(1900,void 0,1),ie=k(I,H,te+="",0),Z,pe;if(ie!=te.length)return null;if("Q"in I)return new Date(I.Q);if("s"in I)return new Date(I.s*1e3+("L"in I?I.L:0));if(q&&!("Z"in I)&&(I.Z=0),"p"in I&&(I.H=I.H%12+I.p*12),I.m===void 0&&(I.m="q"in I?I.q:0),"V"in I){if(I.V<1||I.V>53)return null;"w"in I||(I.w=1),"Z"in I?(Z=j0(Gu(I.y,0,1)),pe=Z.getUTCDay(),Z=pe>4||pe===0?dx.ceil(Z):dx(Z),Z=_y.offset(Z,(I.V-1)*7),I.y=Z.getUTCFullYear(),I.m=Z.getUTCMonth(),I.d=Z.getUTCDate()+(I.w+6)%7):(Z=w0(Gu(I.y,0,1)),pe=Z.getDay(),Z=pe>4||pe===0?cx.ceil(Z):cx(Z),Z=nm.offset(Z,(I.V-1)*7),I.y=Z.getFullYear(),I.m=Z.getMonth(),I.d=Z.getDate()+(I.w+6)%7)}else("W"in I||"U"in I)&&("w"in I||(I.w="u"in I?I.u%7:"W"in I?1:0),pe="Z"in I?j0(Gu(I.y,0,1)).getUTCDay():w0(Gu(I.y,0,1)).getDay(),I.m=0,I.d="W"in I?(I.w+6)%7+I.W*7-(pe+5)%7:I.w+I.U*7-(pe+6)%7);return"Z"in I?(I.H+=I.Z/100|0,I.M+=I.Z%100,j0(I)):w0(I)}}function k(H,q,te,I){for(var ie=0,Z=q.length,pe=te.length,xe,be;ie<Z;){if(I>=pe)return-1;if(xe=q.charCodeAt(ie++),xe===37){if(xe=q.charAt(ie++),be=N[xe in QA?q.charAt(ie++):xe],!be||(I=be(H,te,I))<0)return-1}else if(xe!=te.charCodeAt(I++))return-1}return I}function A(H,q,te){var I=d.exec(q.slice(te));return I?(H.p=u.get(I[0].toLowerCase()),te+I[0].length):-1}function P(H,q,te){var I=p.exec(q.slice(te));return I?(H.w=x.get(I[0].toLowerCase()),te+I[0].length):-1}function _(H,q,te){var I=f.exec(q.slice(te));return I?(H.w=m.get(I[0].toLowerCase()),te+I[0].length):-1}function E(H,q,te){var I=y.exec(q.slice(te));return I?(H.m=v.get(I[0].toLowerCase()),te+I[0].length):-1}function M(H,q,te){var I=g.exec(q.slice(te));return I?(H.m=w.get(I[0].toLowerCase()),te+I[0].length):-1}function R(H,q,te){return k(H,t,q,te)}function T(H,q,te){return k(H,r,q,te)}function B(H,q,te){return k(H,n,q,te)}function K(H){return o[H.getDay()]}function z(H){return i[H.getDay()]}function V(H){return c[H.getMonth()]}function F(H){return l[H.getMonth()]}function W(H){return a[+(H.getHours()>=12)]}function D(H){return 1+~~(H.getMonth()/3)}function L(H){return o[H.getUTCDay()]}function J(H){return i[H.getUTCDay()]}function U(H){return c[H.getUTCMonth()]}function ee(H){return l[H.getUTCMonth()]}function G(H){return a[+(H.getUTCHours()>=12)]}function ce(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var q=S(H+="",b);return q.toString=function(){return H},q},parse:function(H){var q=C(H+="",!1);return q.toString=function(){return H},q},utcFormat:function(H){var q=S(H+="",j);return q.toString=function(){return H},q},utcParse:function(H){var q=C(H+="",!0);return q.toString=function(){return H},q}}}var QA={"-":"",_:" ",0:"0"},Pr=/^\s*\d+/,ghe=/^%/,xhe=/[\\^$*+?|[\]().{}]/g;function dt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function vhe(e){return e.replace(xhe,"\\$&")}function Ku(e){return new RegExp("^(?:"+e.map(vhe).join("|")+")","i")}function Yu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function yhe(e,t,r){var n=Pr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function bhe(e,t,r){var n=Pr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function whe(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function jhe(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Nhe(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function JA(e,t,r){var n=Pr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function ZA(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function She(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Che(e,t,r){var n=Pr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function _he(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function XA(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function khe(e,t,r){var n=Pr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function eT(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Ehe(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Phe(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Ahe(e,t,r){var n=Pr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function The(e,t,r){var n=Pr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Ohe(e,t,r){var n=ghe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Rhe(e,t,r){var n=Pr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Dhe(e,t,r){var n=Pr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function tT(e,t){return dt(e.getDate(),t,2)}function Ihe(e,t){return dt(e.getHours(),t,2)}function Mhe(e,t){return dt(e.getHours()%12||12,t,2)}function Lhe(e,t){return dt(1+nm.count(hi(e),e),t,3)}function JU(e,t){return dt(e.getMilliseconds(),t,3)}function $he(e,t){return JU(e,t)+"000"}function Fhe(e,t){return dt(e.getMonth()+1,t,2)}function Uhe(e,t){return dt(e.getMinutes(),t,2)}function Bhe(e,t){return dt(e.getSeconds(),t,2)}function zhe(e){var t=e.getDay();return t===0?7:t}function Vhe(e,t){return dt(ky.count(hi(e)-1,e),t,2)}function ZU(e){var t=e.getDay();return t>=4||t===0?Bd(e):Bd.ceil(e)}function Whe(e,t){return e=ZU(e),dt(Bd.count(hi(e),e)+(hi(e).getDay()===4),t,2)}function qhe(e){return e.getDay()}function Hhe(e,t){return dt(cx.count(hi(e)-1,e),t,2)}function Ghe(e,t){return dt(e.getFullYear()%100,t,2)}function Khe(e,t){return e=ZU(e),dt(e.getFullYear()%100,t,2)}function Yhe(e,t){return dt(e.getFullYear()%1e4,t,4)}function Qhe(e,t){var r=e.getDay();return e=r>=4||r===0?Bd(e):Bd.ceil(e),dt(e.getFullYear()%1e4,t,4)}function Jhe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+dt(t/60|0,"0",2)+dt(t%60,"0",2)}function rT(e,t){return dt(e.getUTCDate(),t,2)}function Zhe(e,t){return dt(e.getUTCHours(),t,2)}function Xhe(e,t){return dt(e.getUTCHours()%12||12,t,2)}function eme(e,t){return dt(1+_y.count(mi(e),e),t,3)}function XU(e,t){return dt(e.getUTCMilliseconds(),t,3)}function tme(e,t){return XU(e,t)+"000"}function rme(e,t){return dt(e.getUTCMonth()+1,t,2)}function nme(e,t){return dt(e.getUTCMinutes(),t,2)}function sme(e,t){return dt(e.getUTCSeconds(),t,2)}function ame(e){var t=e.getUTCDay();return t===0?7:t}function ime(e,t){return dt(Ey.count(mi(e)-1,e),t,2)}function e8(e){var t=e.getUTCDay();return t>=4||t===0?zd(e):zd.ceil(e)}function ome(e,t){return e=e8(e),dt(zd.count(mi(e),e)+(mi(e).getUTCDay()===4),t,2)}function lme(e){return e.getUTCDay()}function cme(e,t){return dt(dx.count(mi(e)-1,e),t,2)}function dme(e,t){return dt(e.getUTCFullYear()%100,t,2)}function ume(e,t){return e=e8(e),dt(e.getUTCFullYear()%100,t,2)}function fme(e,t){return dt(e.getUTCFullYear()%1e4,t,4)}function hme(e,t){var r=e.getUTCDay();return e=r>=4||r===0?zd(e):zd.ceil(e),dt(e.getUTCFullYear()%1e4,t,4)}function mme(){return"+0000"}function nT(){return"%"}function sT(e){return+e}function aT(e){return Math.floor(+e/1e3)}var kc,t8,r8;pme({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pme(e){return kc=phe(e),t8=kc.format,kc.parse,r8=kc.utcFormat,kc.utcParse,kc}function gme(e){return new Date(e)}function xme(e){return e instanceof Date?+e:+new Date(+e)}function qC(e,t,r,n,a,i,o,l,c,d){var u=TC(),f=u.invert,m=u.domain,p=d(".%L"),x=d(":%S"),g=d("%I:%M"),w=d("%I %p"),y=d("%a %d"),v=d("%b %d"),b=d("%B"),j=d("%Y");function N(S){return(c(S)<S?p:l(S)<S?x:o(S)<S?g:i(S)<S?w:n(S)<S?a(S)<S?y:v:r(S)<S?b:j)(S)}return u.invert=function(S){return new Date(f(S))},u.domain=function(S){return arguments.length?m(Array.from(S,xme)):m().map(gme)},u.ticks=function(S){var C=m();return e(C[0],C[C.length-1],S??10)},u.tickFormat=function(S,C){return C==null?N:d(C)},u.nice=function(S){var C=m();return(!S||typeof S.range!="function")&&(S=t(C[0],C[C.length-1],S??10)),S?m(zU(C,S)):u},u.copy=function(){return rm(u,qC(e,t,r,n,a,i,o,l,c,d))},u}function vme(){return Ds.apply(qC(hhe,mhe,hi,VC,ky,nm,BC,FC,yl,t8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yme(){return Ds.apply(qC(uhe,fhe,mi,WC,Ey,_y,zC,UC,yl,r8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Py(){var e=0,t=1,r,n,a,i,o=an,l=!1,c;function d(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(f){return arguments.length?(l=!!f,d):l},d.interpolator=function(f){return arguments.length?(o=f,d):o};function u(f){return function(m){var p,x;return arguments.length?([p,x]=m,o=f(p,x),d):[o(0),o(1)]}}return d.range=u(hu),d.rangeRound=u(AC),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),d}}function Go(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function n8(){var e=Ho(Py()(an));return e.copy=function(){return Go(e,n8())},ji.apply(e,arguments)}function s8(){var e=DC(Py()).domain([1,10]);return e.copy=function(){return Go(e,s8()).base(e.base())},ji.apply(e,arguments)}function a8(){var e=IC(Py());return e.copy=function(){return Go(e,a8()).constant(e.constant())},ji.apply(e,arguments)}function HC(){var e=MC(Py());return e.copy=function(){return Go(e,HC()).exponent(e.exponent())},ji.apply(e,arguments)}function bme(){return HC.apply(null,arguments).exponent(.5)}function i8(){var e=[],t=an;function r(n){if(n!=null&&!isNaN(n=+n))return t((em(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(yo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>afe(e,i/n))},r.copy=function(){return i8(t).domain(e)},ji.apply(r,arguments)}function Ay(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,d=an,u,f=!1,m;function p(g){return isNaN(g=+g)?m:(g=.5+((g=+u(g))-i)*(n*g<n*i?l:c),d(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,r]=g,a=u(e=+e),i=u(t=+t),o=u(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(d=g,p):d};function x(g){return function(w){var y,v,b;return arguments.length?([y,v,b]=w,d=Ofe(g,[y,v,b]),p):[d(0),d(.5),d(1)]}}return p.range=x(hu),p.rangeRound=x(AC),p.unknown=function(g){return arguments.length?(m=g,p):m},function(g){return u=g,a=g(e),i=g(t),o=g(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function o8(){var e=Ho(Ay()(an));return e.copy=function(){return Go(e,o8())},ji.apply(e,arguments)}function l8(){var e=DC(Ay()).domain([.1,1,10]);return e.copy=function(){return Go(e,l8()).base(e.base())},ji.apply(e,arguments)}function c8(){var e=IC(Ay());return e.copy=function(){return Go(e,c8()).constant(e.constant())},ji.apply(e,arguments)}function GC(){var e=MC(Ay());return e.copy=function(){return Go(e,GC()).exponent(e.exponent())},ji.apply(e,arguments)}function wme(){return GC.apply(null,arguments).exponent(.5)}const of=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kC,scaleDiverging:o8,scaleDivergingLog:l8,scaleDivergingPow:GC,scaleDivergingSqrt:wme,scaleDivergingSymlog:c8,scaleIdentity:BU,scaleImplicit:rN,scaleLinear:UU,scaleLog:VU,scaleOrdinal:_C,scalePoint:lfe,scalePow:LC,scaleQuantile:HU,scaleQuantize:GU,scaleRadial:qU,scaleSequential:n8,scaleSequentialLog:s8,scaleSequentialPow:HC,scaleSequentialQuantile:i8,scaleSequentialSqrt:bme,scaleSequentialSymlog:a8,scaleSqrt:the,scaleSymlog:WU,scaleThreshold:KU,scaleTime:vme,scaleUtc:yme,tickFormat:FU},Symbol.toStringTag,{value:"Module"}));var Ko=e=>e.chartData,KC=ae([Ko],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),YC=(e,t,r,n)=>n?KC(e):Ko(e);function Vd(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(da(t)&&da(r))return!0}return!1}function iT(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function jme(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(da(r))a=r;else if(typeof r=="function")return;if(da(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(Vd(o))return o}}function Nme(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Vd(n))return iT(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(Pe(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&sA.test(a)){var c=sA.exec(a);if(c==null||t==null)o=void 0;else{var d=+c[1];o=t[0]-d}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(Pe(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&aA.test(i)){var u=aA.exec(i);if(u==null||t==null)l=void 0;else{var f=+u[1];l=t[1]+f}}else l=t==null?void 0:t[1];var m=[o,l];if(Vd(m))return t==null?m:iT(m,t,r)}}}var mu=1e9,Sme={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},JC,$t=!0,Es="[DecimalError] ",Ol=Es+"Invalid argument: ",QC=Es+"Exponent out of range: ",pu=Math.floor,ll=Math.pow,Cme=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$n,Nr=1e7,Ot=7,d8=9007199254740991,ux=pu(d8/Ot),_e={};_e.absoluteValue=_e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};_e.comparedTo=_e.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};_e.decimalPlaces=_e.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ot;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};_e.dividedBy=_e.div=function(e){return ni(this,new this.constructor(e))};_e.dividedToIntegerBy=_e.idiv=function(e){var t=this,r=t.constructor;return Nt(ni(t,new r(e),0,1),r.precision)};_e.equals=_e.eq=function(e){return!this.cmp(e)};_e.exponent=function(){return dr(this)};_e.greaterThan=_e.gt=function(e){return this.cmp(e)>0};_e.greaterThanOrEqualTo=_e.gte=function(e){return this.cmp(e)>=0};_e.isInteger=_e.isint=function(){return this.e>this.d.length-2};_e.isNegative=_e.isneg=function(){return this.s<0};_e.isPositive=_e.ispos=function(){return this.s>0};_e.isZero=function(){return this.s===0};_e.lessThan=_e.lt=function(e){return this.cmp(e)<0};_e.lessThanOrEqualTo=_e.lte=function(e){return this.cmp(e)<1};_e.logarithm=_e.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq($n))throw Error(Es+"NaN");if(r.s<1)throw Error(Es+(r.s?"NaN":"-Infinity"));return r.eq($n)?new n(0):($t=!1,t=ni(xh(r,i),xh(e,i),i),$t=!0,Nt(t,a))};_e.minus=_e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?h8(t,e):u8(t,(e.s=-e.s,e))};_e.modulo=_e.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Es+"NaN");return r.s?($t=!1,t=ni(r,e,0,1).times(e),$t=!0,r.minus(t)):Nt(new n(r),a)};_e.naturalExponential=_e.exp=function(){return f8(this)};_e.naturalLogarithm=_e.ln=function(){return xh(this)};_e.negated=_e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};_e.plus=_e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?u8(t,e):h8(t,(e.s=-e.s,e))};_e.precision=_e.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ol+e);if(t=dr(a)+1,n=a.d.length-1,r=n*Ot+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};_e.squareRoot=_e.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Es+"NaN")}for(e=dr(l),$t=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Ca(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=pu((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(ni(l,i,o+2)).times(.5),Ca(i.d).slice(0,o)===(t=Ca(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Nt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return $t=!0,Nt(n,r)};_e.times=_e.mul=function(e){var t,r,n,a,i,o,l,c,d,u=this,f=u.constructor,m=u.d,p=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,c=m.length,d=p.length,c<d&&(i=m,m=p,p=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*m[a-n-1]+t,i[a--]=l%Nr|0,t=l/Nr|0;i[a]=(i[a]+t)%Nr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,$t?Nt(e,f.precision):e};_e.toDecimalPlaces=_e.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Da(e,0,mu),t===void 0?t=n.rounding:Da(t,0,8),Nt(r,e+dr(r)+1,t))};_e.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Zl(n,!0):(Da(e,0,mu),t===void 0?t=a.rounding:Da(t,0,8),n=Nt(new a(n),e+1,t),r=Zl(n,!0,e+1)),r};_e.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Zl(a):(Da(e,0,mu),t===void 0?t=i.rounding:Da(t,0,8),n=Nt(new i(a),e+dr(a)+1,t),r=Zl(n.abs(),!1,e+dr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};_e.toInteger=_e.toint=function(){var e=this,t=e.constructor;return Nt(new t(e),dr(e)+1,t.rounding)};_e.toNumber=function(){return+this};_e.toPower=_e.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c($n);if(l=new c(l),!l.s){if(e.s<1)throw Error(Es+"Infinity");return l}if(l.eq($n))return l;if(n=c.precision,e.eq($n))return Nt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=d8){for(a=new c($n),t=Math.ceil(n/Ot+4),$t=!1;r%2&&(a=a.times(l),lT(a.d,t)),r=pu(r/2),r!==0;)l=l.times(l),lT(l.d,t);return $t=!0,e.s<0?new c($n).div(a):Nt(a,n)}}else if(i<0)throw Error(Es+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,$t=!1,a=e.times(xh(l,n+d)),$t=!0,a=f8(a),a.s=i,a};_e.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=dr(a),n=Zl(a,r<=i.toExpNeg||r>=i.toExpPos)):(Da(e,1,mu),t===void 0?t=i.rounding:Da(t,0,8),a=Nt(new i(a),e,t),r=dr(a),n=Zl(a,e<=r||r<=i.toExpNeg,e)),n};_e.toSignificantDigits=_e.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Da(e,1,mu),t===void 0?t=n.rounding:Da(t,0,8)),Nt(new n(r),e,t)};_e.toString=_e.valueOf=_e.val=_e.toJSON=_e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=dr(e),r=e.constructor;return Zl(e,t<=r.toExpNeg||t>=r.toExpPos)};function u8(e,t){var r,n,a,i,o,l,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),$t?Nt(t,f):t;if(c=e.d,d=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=d.length):(n=d,a=o,l=c.length),o=Math.ceil(f/Ot),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/Nr|0,c[i]%=Nr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,$t?Nt(t,f):t}function Da(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ol+e)}function Ca(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Ot-n.length,r&&(i+=Hi(r)),i+=n;o=e[t],n=o+"",r=Ot-n.length,r&&(i+=Hi(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var ni=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Nr|0,o=i/Nr|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Nr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,d,u,f,m,p,x,g,w,y,v,b,j,N,S,C,k,A=n.constructor,P=n.s==a.s?1:-1,_=n.d,E=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(Es+"Division by zero");for(c=n.e-a.e,C=E.length,N=_.length,p=new A(P),x=p.d=[],d=0;E[d]==(_[d]||0);)++d;if(E[d]>(_[d]||0)&&--c,i==null?v=i=A.precision:o?v=i+(dr(n)-dr(a))+1:v=i,v<0)return new A(0);if(v=v/Ot+2|0,d=0,C==1)for(u=0,E=E[0],v++;(d<N||u)&&v--;d++)b=u*Nr+(_[d]||0),x[d]=b/E|0,u=b%E|0;else{for(u=Nr/(E[0]+1)|0,u>1&&(E=e(E,u),_=e(_,u),C=E.length,N=_.length),j=C,g=_.slice(0,C),w=g.length;w<C;)g[w++]=0;k=E.slice(),k.unshift(0),S=E[0],E[1]>=Nr/2&&++S;do u=0,l=t(E,g,C,w),l<0?(y=g[0],C!=w&&(y=y*Nr+(g[1]||0)),u=y/S|0,u>1?(u>=Nr&&(u=Nr-1),f=e(E,u),m=f.length,w=g.length,l=t(f,g,m,w),l==1&&(u--,r(f,C<m?k:E,m))):(u==0&&(l=u=1),f=E.slice()),m=f.length,m<w&&f.unshift(0),r(g,f,w),l==-1&&(w=g.length,l=t(E,g,C,w),l<1&&(u++,r(g,C<w?k:E,w))),w=g.length):l===0&&(u++,g=[0]),x[d++]=u,l&&g[0]?g[w++]=_[j]||0:(g=[_[j]],w=1);while((j++<N||g[0]!==void 0)&&v--)}return x[0]||x.shift(),p.e=c,Nt(p,o?i+dr(p)+1:i)}}();function f8(e,t){var r,n,a,i,o,l,c=0,d=0,u=e.constructor,f=u.precision;if(dr(e)>16)throw Error(QC+dr(e));if(!e.s)return new u($n);for(t==null?($t=!1,l=f):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(ll(2,d))/Math.LN10*2+5|0,l+=n,r=a=i=new u($n),u.precision=l;;){if(a=Nt(a.times(e),l),r=r.times(++c),o=i.plus(ni(a,r,l)),Ca(o.d).slice(0,l)===Ca(i.d).slice(0,l)){for(;d--;)i=Nt(i.times(i),l);return u.precision=f,t==null?($t=!0,Nt(i,f)):i}i=o}}function dr(e){for(var t=e.e*Ot,r=e.d[0];r>=10;r/=10)t++;return t}function N0(e,t,r){if(t>e.LN10.sd())throw $t=!0,r&&(e.precision=r),Error(Es+"LN10 precision limit exceeded");return Nt(new e(e.LN10),t)}function Hi(e){for(var t="";e--;)t+="0";return t}function xh(e,t){var r,n,a,i,o,l,c,d,u,f=1,m=10,p=e,x=p.d,g=p.constructor,w=g.precision;if(p.s<1)throw Error(Es+(p.s?"NaN":"-Infinity"));if(p.eq($n))return new g(0);if(t==null?($t=!1,d=w):d=t,p.eq(10))return t==null&&($t=!0),N0(g,d);if(d+=m,g.precision=d,r=Ca(x),n=r.charAt(0),i=dr(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ca(p.d),n=r.charAt(0),f++;i=dr(p),n>1?(p=new g("0."+r),i++):p=new g(n+"."+r.slice(1))}else return c=N0(g,d+2,w).times(i+""),p=xh(new g(n+"."+r.slice(1)),d-m).plus(c),g.precision=w,t==null?($t=!0,Nt(p,w)):p;for(l=o=p=ni(p.minus($n),p.plus($n),d),u=Nt(p.times(p),d),a=3;;){if(o=Nt(o.times(u),d),c=l.plus(ni(o,new g(a),d)),Ca(c.d).slice(0,d)===Ca(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(N0(g,d+2,w).times(i+""))),l=ni(l,new g(f),d),g.precision=w,t==null?($t=!0,Nt(l,w)):l;l=c,a+=2}}function oT(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=pu(r/Ot),e.d=[],n=(r+1)%Ot,r<0&&(n+=Ot),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ot;n<a;)e.d.push(+t.slice(n,n+=Ot));t=t.slice(n),n=Ot-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),$t&&(e.e>ux||e.e<-ux))throw Error(QC+r)}else e.s=0,e.e=0,e.d=[0];return e}function Nt(e,t,r){var n,a,i,o,l,c,d,u,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Ot,a=t,d=f[u=0];else{if(u=Math.ceil((n+1)/Ot),i=f.length,u>=i)return e;for(d=i=f[u],o=1;i>=10;i/=10)o++;n%=Ot,a=n-Ot+o}if(r!==void 0&&(i=ll(10,o-a-1),l=d/i%10|0,c=t<0||f[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?d/ll(10,o-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=dr(e),f.length=1,t=t-i-1,f[0]=ll(10,(Ot-t%Ot)%Ot),e.e=pu(-t/Ot)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=ll(10,Ot-n),f[u]=a>0?(d/ll(10,o-a)%ll(10,a)|0)*i:0),c)for(;;)if(u==0){(f[0]+=i)==Nr&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=Nr)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if($t&&(e.e>ux||e.e<-ux))throw Error(QC+dr(e));return e}function h8(e,t){var r,n,a,i,o,l,c,d,u,f,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),$t?Nt(t,p):t;if(c=e.d,f=t.d,n=t.e,d=e.e,c=c.slice(),o=d-n,o){for(u=o<0,u?(r=c,o=-o,l=f.length):(r=f,n=d,l=c.length),a=Math.max(Math.ceil(p/Ot),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){u=c[a]<f[a];break}o=0}for(u&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Nr-1;--c[i],c[a]+=Nr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,$t?Nt(t,p):t):new m(0)}function Zl(e,t,r){var n,a=dr(e),i=Ca(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Hi(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Hi(-a-1)+i,r&&(n=r-o)>0&&(i+=Hi(n))):a>=o?(i+=Hi(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Hi(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Hi(n))),e.s<0?"-"+i:i}function lT(e,t){if(e.length>t)return e.length=t,!0}function m8(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ol+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return oT(o,i.toString())}else if(typeof i!="string")throw Error(Ol+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Cme.test(i))oT(o,i);else throw Error(Ol+i)}if(a.prototype=_e,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=m8,a.config=a.set=_me,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function _me(e){if(!e||typeof e!="object")throw Error(Es+"Object expected");var t,r,n,a=["precision",1,mu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(pu(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ol+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ol+r+": "+n);return this}var JC=m8(Sme);$n=new JC(1);const mt=JC;var kme=e=>e,p8={"@@functional/placeholder":!0},g8=e=>e===p8,cT=e=>function t(){return arguments.length===0||arguments.length===1&&g8(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},x8=(e,t)=>e===1?t:cT(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==p8).length;return i>=e?t(...n):x8(e-i,cT(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=n.map(u=>g8(u)?l.shift():u);return t(...d,...l)}))}),Ty=e=>x8(e.length,e),iN=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Eme=Ty((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Pme=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return kme;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}},oN=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),v8=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=a,r=e(...a)),r}};function y8(e){var t;return e===0?t=1:t=Math.floor(new mt(e).abs().log(10).toNumber())+1,t}function b8(e,t,r){for(var n=new mt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}Ty((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});Ty((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Ty((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var w8=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},j8=(e,t,r)=>{if(e.lte(0))return new mt(0);var n=y8(e.toNumber()),a=new mt(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new mt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?new mt(c.toNumber()):new mt(Math.ceil(c.toNumber()))},Ame=(e,t,r)=>{var n=new mt(1),a=new mt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new mt(10).pow(y8(e)-1),a=new mt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new mt(Math.floor(e)))}else e===0?a=new mt(Math.floor((t-1)/2)):r||(a=new mt(Math.floor(e)));var o=Math.floor((t-1)/2),l=Pme(Eme(c=>a.add(new mt(c-o).mul(n)).toNumber()),iN);return l(0,t)},N8=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new mt(0),tickMin:new mt(0),tickMax:new mt(0)};var o=j8(new mt(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new mt(0):(l=new mt(t).add(r).div(2),l=l.sub(new mt(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new mt(r).sub(l).div(o).toNumber()),u=c+d+1;return u>n?N8(t,r,n,a,i+1):(u<n&&(d=r>0?d+(n-u):d,c=r>0?c:c+(n-u)),{step:o,tickMin:l.sub(new mt(c).mul(o)),tickMax:l.add(new mt(d).mul(o))})};function Tme(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,l]=w8([t,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...iN(0,n-1).map(()=>1/0)]:[...iN(0,n-1).map(()=>-1/0),l];return t>r?oN(c):c}if(o===l)return Ame(o,n,a);var{step:d,tickMin:u,tickMax:f}=N8(o,l,i,a,0),m=b8(u,f.add(new mt(.1).mul(d)),d);return t>r?oN(m):m}function Ome(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=w8([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var l=Math.max(t,2),c=j8(new mt(o).sub(i).div(l-1),a,0),d=[...b8(new mt(i),new mt(o),c),o];return a===!1&&(d=d.map(u=>Math.round(u))),r>n?oN(d):d}var Rme=v8(Tme),Dme=v8(Ome),Ime=e=>e.rootProps.barCategoryGap,sm=e=>e.rootProps.stackOffset,ZC=e=>e.options.chartName,XC=e=>e.rootProps.syncId,S8=e=>e.rootProps.syncMethod,e_=e=>e.options.eventEmitter,Ga={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},In={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Oy=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Mme={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ga.angleAxisId,includeHidden:!1,name:void 0,reversed:Ga.reversed,scale:Ga.scale,tick:Ga.tick,tickCount:void 0,ticks:void 0,type:Ga.type,unit:void 0},Lme={allowDataOverflow:In.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:In.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:In.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:In.scale,tick:In.tick,tickCount:In.tickCount,ticks:void 0,type:In.type,unit:void 0},$me={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ga.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ga.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ga.scale,tick:Ga.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Fme={allowDataOverflow:In.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:In.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:In.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:In.scale,tick:In.tick,tickCount:In.tickCount,ticks:void 0,type:"category",unit:void 0},t_=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?$me:Mme,r_=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Fme:Lme,Ry=e=>e.polarOptions,n_=ae([bi,wi,Er],J6),C8=ae([Ry,n_],(e,t)=>{if(e!=null)return hs(e.innerRadius,t,0)}),_8=ae([Ry,n_],(e,t)=>{if(e!=null)return hs(e.outerRadius,t,t*.8)}),Ume=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},k8=ae([Ry],Ume);ae([t_,k8],Oy);var E8=ae([n_,C8,_8],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ae([r_,E8],Oy);var P8=ae([bt,Ry,C8,_8,bi,wi],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:d}=t;return{cx:hs(o,a,a/2),cy:hs(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:d,clockWise:!1}}}),Ut=(e,t)=>t,am=(e,t,r)=>r;function A8(e){return e==null?void 0:e.id}var wr=e=>{var t=bt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},gu=e=>e.tooltip.settings.axisId,jr=e=>{var t=wr(e),r=gu(e);return im(e,t,r)};function T8(e,t,r){var{chartData:n=[]}=t,a=r==null?void 0:r.dataKey,i=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var d=A8(o);c.forEach((u,f)=>{var m=a==null?f:String(Lt(u,a,null)),p=Lt(u,o.dataKey,0),x;i.has(m)?x=i.get(m):x={},Object.assign(x,{[d]:p}),i.set(m,x)})}}),Array.from(i.values())}function s_(e){return e.stackId!=null&&e.dataKey!=null}function dT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(r),!0).forEach(function(n){Bme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bme(e,t,r){return(t=zme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zme(e){var t=Vme(e,"string");return typeof t=="symbol"?t:t+""}function Vme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lN=[0,"auto"],On={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ni=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??On},Rn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:lN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:jy},Yo=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??Rn},Wme={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},a_=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Wme},ir=(e,t,r)=>{switch(t){case"xAxis":return Ni(e,r);case"yAxis":return Yo(e,r);case"zAxis":return a_(e,r);case"angleAxis":return t_(e,r);case"radiusAxis":return r_(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},qme=(e,t,r)=>{switch(t){case"xAxis":return Ni(e,r);case"yAxis":return Yo(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},im=(e,t,r)=>{switch(t){case"xAxis":return Ni(e,r);case"yAxis":return Yo(e,r);case"angleAxis":return t_(e,r);case"radiusAxis":return r_(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},O8=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function i_(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var R8=e=>e.graphicalItems.cartesianItems,Hme=ae([Ut,am],i_),o_=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),om=ae([R8,ir,Hme],o_),D8=ae([om],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(s_)),I8=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),M8=ae([om],I8),l_=e=>e.map(t=>t.data).filter(Boolean).flat(1),Gme=ae([om],l_),c_=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},d_=ae([Gme,YC],c_),u_=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Lt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Lt(a,n)}))):e.map(n=>({value:n})),Dy=ae([d_,ir,om],u_);function L8(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function hc(e){return e.filter(t=>Ra(t)||t instanceof Date).map(Number).filter(t=>Cs(t)===!1)}function Kme(e,t,r){return!r||typeof t!="number"||Cs(t)?[]:r.length?hc(r.flatMap(n=>{var a=Lt(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!da(i)||!da(o)))return[t-i,t+o]})):[]}var Yme=ae([D8,YC,jr],T8),$8=(e,t,r)=>{var n={},a=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[o,l]=i,c=l.map(A8);return[o,{stackedData:Nde(e,c,r),graphicalItems:l}]}))},Qme=ae([Yme,D8,sm],$8),F8=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var i=_de(e,n,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},Jme=ae([Qme,Ko,Ut],F8),U8=(e,t,r,n,a)=>r.length>0?e.flatMap(i=>r.flatMap(o=>{var l,c,d=(l=n[o.id])===null||l===void 0?void 0:l.filter(f=>L8(a,f)),u=Lt(i,(c=t.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:u,errorDomain:Kme(i,u,d)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:Lt(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),Iy=e=>e.errorBars,B8=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>L8(r,n));ae([M8,Iy,Ut],B8);var Zme=ae([d_,ir,M8,Iy,Ut],U8);function Xme(e){var{value:t}=e;if(Ra(t)||t instanceof Date)return t}var uT=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=hc(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},epe=(e,t,r)=>{var n=e.map(Xme).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&OF(n))?PU(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},f_=e=>{var t;if(e==null||!("domain"in e))return lN;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=hc(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:lN},hx=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},z8=e=>e.referenceElements.dots,xu=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),tpe=ae([z8,Ut,am],xu),V8=e=>e.referenceElements.areas,rpe=ae([V8,Ut,am],xu),W8=e=>e.referenceElements.lines,npe=ae([W8,Ut,am],xu),q8=(e,t)=>{var r=hc(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},spe=ae(tpe,Ut,q8),H8=(e,t)=>{var r=hc(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},ape=ae([rpe,Ut],H8),G8=(e,t)=>{var r=hc(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},ipe=ae(npe,Ut,G8),ope=ae(spe,ipe,ape,(e,t,r)=>hx(e,r,t)),K8=ae([ir],f_),h_=(e,t,r,n,a,i,o)=>{var l=jme(t,e.allowDataOverflow);if(l!=null)return l;var c=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",d=c?hx(r,a,uT(n)):hx(a,uT(n));return Nme(t,d,e.allowDataOverflow)},lpe=ae([ir,K8,Jme,Zme,ope,bt,Ut],h_),cpe=[0,1],m_=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,d=qo(t,i);return d&&l==null?PU(0,r.length):c==="category"?epe(n,e,d):a==="expand"?cpe:o}},p_=ae([ir,bt,d_,Dy,sm,Ut,lpe],m_),Y8=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(Zh(i));return l in of?l:"point"}}},vu=ae([ir,bt,O8,ZC,Ut],Y8);function dpe(e){if(e!=null){if(e in of)return of[e]();var t="scale".concat(Zh(e));if(t in of)return of[t]()}}function g_(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=dpe(t);if(a!=null){var i=a.domain(r).range(n);return yde(i),i}}}var x_=(e,t,r)=>{var n=f_(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Vd(e))return Rme(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Vd(e))return Dme(e,t.tickCount,t.allowDecimals)}},v_=ae([p_,im,vu],x_),y_=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Vd(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(o,l)]}return t},upe=ae([ir,p_,v_,Ut],y_),fpe=ae(Dy,ir,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(hc(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/a}}),Q8=ae(fpe,bt,Ime,Er,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!da(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=hs(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),hpe=(e,t)=>{var r=Ni(e,t);return r==null||typeof r.padding!="string"?0:Q8(e,"xAxis",t,r.padding)},mpe=(e,t)=>{var r=Yo(e,t);return r==null||typeof r.padding!="string"?0:Q8(e,"yAxis",t,r.padding)},ppe=ae(Ni,hpe,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),gpe=ae(Yo,mpe,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),xpe=ae([Er,ppe,Sy,Ny,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),vpe=ae([Er,bt,gpe,Sy,Ny,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),lm=(e,t,r,n)=>{var a;switch(t){case"xAxis":return xpe(e,r,n);case"yAxis":return vpe(e,r,n);case"zAxis":return(a=a_(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return k8(e);case"radiusAxis":return E8(e,r);default:return}},J8=ae([ir,lm],Oy),yu=ae([ir,vu,upe,J8],g_);ae([om,Iy,Ut],B8);function Z8(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var My=(e,t)=>t,Ly=(e,t,r)=>r,ype=ae(yC,My,Ly,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Z8)),bpe=ae(bC,My,Ly,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Z8)),X8=(e,t)=>({width:e.width,height:t.height}),wpe=(e,t)=>{var r=typeof t.width=="number"?t.width:jy;return{width:r,height:e.height}},jpe=ae(Er,Ni,X8),Npe=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Spe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Cpe=ae(wi,Er,ype,My,Ly,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var c=X8(t,l);o==null&&(o=Npe(t,n,e));var d=n==="top"&&!a||n==="bottom"&&a;i[l.id]=o-Number(d)*c.height,o+=(d?-1:1)*c.height}),i}),_pe=ae(bi,Er,bpe,My,Ly,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var c=wpe(t,l);o==null&&(o=Spe(t,n,e));var d=n==="left"&&!a||n==="right"&&a;i[l.id]=o-Number(d)*c.width,o+=(d?-1:1)*c.width}),i}),kpe=(e,t)=>{var r=Er(e),n=Ni(e,t);if(n!=null){var a=Cpe(e,n.orientation,n.mirror),i=a[t];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}},Epe=(e,t)=>{var r=Er(e),n=Yo(e,t);if(n!=null){var a=_pe(e,n.orientation,n.mirror),i=a[t];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}},Ppe=ae(Er,Yo,(e,t)=>{var r=typeof t.width=="number"?t.width:jy;return{width:r,height:e.height}}),eB=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,l=qo(e,n),c=t.map(d=>d.value);if(o&&l&&i==="category"&&a&&OF(c))return c}},b_=ae([bt,Dy,ir,Ut],eB),tB=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=qo(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},w_=ae([bt,Dy,im,Ut],tB),fT=ae([bt,qme,vu,yu,b_,w_,lm,v_,Ut],(e,t,r,n,a,i,o,l,c)=>{if(t==null)return null;var d=qo(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:d,niceTicks:l,range:o,realScaleType:r,scale:n}}),Ape=(e,t,r,n,a,i,o,l,c)=>{if(!(t==null||n==null)){var d=qo(e,c),{type:u,ticks:f,tickCount:m}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,x=u==="category"&&n.bandwidth?n.bandwidth()/p:0;x=c==="angleAxis"&&i!=null&&i.length>=2?Yr(i[0]-i[1])*2*x:x;var g=f||a;if(g){var w=g.map((y,v)=>{var b=o?o.indexOf(y):y;return{index:v,coordinate:n(b)+x,value:y,offset:x}});return w.filter(y=>!Cs(y.coordinate))}return d&&l?l.map((y,v)=>({coordinate:n(y)+x,value:y,index:v,offset:x})):n.ticks?n.ticks(m).map(y=>({coordinate:n(y)+x,value:y,offset:x})):n.domain().map((y,v)=>({coordinate:n(y)+x,value:o?o[y]:y,index:v,offset:x}))}},rB=ae([bt,im,vu,yu,v_,lm,b_,w_,Ut],Ape),Tpe=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=qo(e,o),{tickCount:c}=t,d=0;return d=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Yr(n[0]-n[1])*2*d:d,l&&i?i.map((u,f)=>({coordinate:r(u)+d,value:u,index:f,offset:d})):r.ticks?r.ticks(c).map(u=>({coordinate:r(u)+d,value:u,offset:d})):r.domain().map((u,f)=>({coordinate:r(u)+d,value:a?a[u]:u,index:f,offset:d}))}},nB=ae([bt,im,yu,lm,b_,w_,Ut],Tpe),sB=ae(ir,yu,(e,t)=>{if(!(e==null||t==null))return fx(fx({},e),{},{scale:t})}),Ope=ae([ir,vu,p_,J8],g_);ae((e,t,r)=>a_(e,r),Ope,(e,t)=>{if(!(e==null||t==null))return fx(fx({},e),{},{scale:t})});var Rpe=ae([bt,yC,bC],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),aB=e=>e.options.defaultTooltipEventType,iB=e=>e.options.validateTooltipEventTypes;function oB(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function j_(e,t){var r=aB(e),n=iB(e);return oB(t,r,n)}function Dpe(e){return Te(t=>j_(t,e))}var lB=(e,t)=>{var r,n=Number(t);if(!(Cs(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Ipe=e=>e.tooltip.settings,Qi={active:!1,index:null,dataKey:void 0,coordinate:void 0},Mpe={itemInteraction:{click:Qi,hover:Qi},axisInteraction:{click:Qi,hover:Qi},keyboardInteraction:Qi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},cB=Qn({name:"tooltip",initialState:Mpe,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=ri(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Lpe,removeTooltipEntrySettings:$pe,setTooltipSettingsState:Fpe,setActiveMouseOverItemIndex:dB,mouseLeaveItem:Upe,mouseLeaveChart:uB,setActiveClickItemIndex:Bpe,setMouseOverAxisIndex:fB,setMouseClickAxisIndex:zpe,setSyncInteraction:cN,setKeyboardInteraction:dN}=cB.actions,Vpe=cB.reducer;function hT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function up(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(r),!0).forEach(function(n){Wpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wpe(e,t,r){return(t=qpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qpe(e){var t=Hpe(e,"string");return typeof t=="symbol"?t:t+""}function Hpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gpe(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Kpe(e){return e.index!=null}var hB=(e,t,r,n)=>{if(t==null)return Qi;var a=Gpe(e,t,r);if(a==null)return Qi;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Kpe(a)){if(i)return up(up({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return up(up({},Qi),{},{coordinate:a.coordinate})},N_=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!da(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},mB=(e,t,r,n,a,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],d=c==null?void 0:l(c.positions,i);if(d!=null)return d;var u=a==null?void 0:a[Number(i)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},pB=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===a})},cm=e=>e.options.tooltipPayloadSearcher,bu=e=>e.tooltip;function mT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(r),!0).forEach(function(n){Ype(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ype(e,t,r){return(t=Qpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qpe(e){var t=Jpe(e,"string");return typeof t=="symbol"?t:t+""}function Jpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zpe(e,t){return e??t}var gB=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:d,dataEndIndex:u}=r,f=[];return e.reduce((m,p)=>{var x,{dataDefinedOnItem:g,settings:w}=p,y=Zpe(g,l),v=Array.isArray(y)?Z6(y,d,u):y,b=(x=w==null?void 0:w.dataKey)!==null&&x!==void 0?x:n==null?void 0:n.dataKey,j=w==null?void 0:w.nameKey,N;if(n!=null&&n.dataKey&&Array.isArray(v)&&!Array.isArray(v[0])&&o==="axis"?N=RF(v,n.dataKey,a):N=i(v,t,c,j),Array.isArray(N))N.forEach(C=>{var k=pT(pT({},w),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});m.push(iA({tooltipEntrySettings:k,dataKey:C.dataKey,payload:C.payload,value:Lt(C.payload,C.dataKey),name:C.name}))});else{var S;m.push(iA({tooltipEntrySettings:w,dataKey:b,payload:N,value:Lt(N,b),name:(S=Lt(N,j))!==null&&S!==void 0?S:w==null?void 0:w.name}))}return m},f)}},S_=ae([jr,bt,O8,ZC,wr],Y8),Xpe=ae([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),ege=ae([wr,gu],i_),dm=ae([Xpe,jr,ege],o_),tge=ae([dm],e=>e.filter(s_)),rge=ae([dm],l_),wu=ae([rge,Ko],c_),nge=ae([tge,Ko,jr],T8),C_=ae([wu,jr,dm],u_),sge=ae([jr],f_),age=ae([dm],e=>e.filter(s_)),ige=ae([nge,age,sm],$8),oge=ae([ige,Ko,wr],F8),lge=ae([dm],I8),cge=ae([wu,jr,lge,Iy,wr],U8),dge=ae([z8,wr,gu],xu),uge=ae([dge,wr],q8),fge=ae([V8,wr,gu],xu),hge=ae([fge,wr],H8),mge=ae([W8,wr,gu],xu),pge=ae([mge,wr],G8),gge=ae([uge,pge,hge],hx),xge=ae([jr,sge,oge,cge,gge,bt,wr],h_),xB=ae([jr,bt,wu,C_,sm,wr,xge],m_),vge=ae([xB,jr,S_],x_),yge=ae([jr,xB,vge,wr],y_),vB=e=>{var t=wr(e),r=gu(e),n=!1;return lm(e,t,r,n)},yB=ae([jr,vB],Oy),bB=ae([jr,S_,yge,yB],g_),bge=ae([bt,C_,jr,wr],eB),wge=ae([bt,C_,jr,wr],tB),jge=(e,t,r,n,a,i,o,l)=>{if(t){var{type:c}=t,d=qo(e,l);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/u:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Yr(a[0]-a[1])*2*f:f,d&&o?o.map((m,p)=>({coordinate:n(m)+f,value:m,index:p,offset:f})):n.domain().map((m,p)=>({coordinate:n(m)+f,value:i?i[m]:m,index:p,offset:f}))}}},Si=ae([bt,jr,S_,bB,vB,bge,wge,wr],jge),__=ae([aB,iB,Ipe],(e,t,r)=>oB(r.shared,e,t)),wB=e=>e.tooltip.settings.trigger,k_=e=>e.tooltip.settings.defaultIndex,$y=ae([bu,__,wB,k_],hB),Wd=ae([$y,wu],N_),jB=ae([Si,Wd],lB),Nge=ae([$y],e=>{if(e)return e.dataKey}),NB=ae([bu,__,wB,k_],pB),Sge=ae([bi,wi,bt,Er,Si,k_,NB,cm],mB),Cge=ae([$y,Sge],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),_ge=ae([$y],e=>e.active),kge=ae([NB,Wd,Ko,jr,jB,cm,__],gB),Ege=ae([kge],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function gT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gT(Object(r),!0).forEach(function(n){Pge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pge(e,t,r){return(t=Age(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Age(e){var t=Tge(e,"string");return typeof t=="symbol"?t:t+""}function Tge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oge=()=>Te(jr),Rge=()=>{var e=Oge(),t=Te(Si),r=Te(bB);return qj(xT(xT({},e),{},{scale:r}),t)},Dge=()=>Te(ZC),E_=(e,t)=>t,SB=(e,t,r)=>r,P_=(e,t,r,n)=>n,Ige=ae(Si,e=>my(e,t=>t.coordinate)),A_=ae([bu,E_,SB,P_],hB),CB=ae([A_,wu],N_),Mge=(e,t,r)=>{if(t!=null){var n=bu(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},_B=ae([bu,E_,SB,P_],pB),mx=ae([bi,wi,bt,Er,Si,P_,_B,cm],mB),Lge=ae([A_,mx],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),kB=ae(Si,CB,lB),$ge=ae([_B,CB,Ko,jr,kB,cm,E_],gB),Fge=ae([A_],e=>({isActive:e.active,activeIndex:e.index})),Uge=(e,t,r,n,a,i,o,l)=>{if(!(!e||!t||!n||!a||!i)){var c=kde(e.chartX,e.chartY,t,r,l);if(c){var d=Pde(c,t),u=xde(d,o,i,n,a),f=Ede(t,i,u,c);return{activeIndex:String(u),activeCoordinate:f}}}};function uN(){return uN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uN.apply(null,arguments)}function vT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(r),!0).forEach(function(n){Bge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bge(e,t,r){return(t=zge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zge(e){var t=Vge(e,"string");return typeof t=="symbol"?t:t+""}function Vge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wge(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:d}=e,u=t,f=r,m=n;if(!l||!u||d!=="ScatterChart"&&c!=="axis")return null;var p,x;if(d==="ScatterChart")p=u,x=fue;else if(d==="BarChart")p=hue(o,u,a,i),x=jU;else if(o==="radial"){var{cx:g,cy:w,radius:y,startAngle:v,endAngle:b}=NU(u);p={cx:g,cy:w,startAngle:v,endAngle:b,innerRadius:y,outerRadius:y},x=CU}else p={points:Hue(o,u,a)},x=NC;var j=typeof l=="object"&&"className"in l?l.className:void 0,N=fp(fp(fp(fp({stroke:"#ccc",pointerEvents:"none"},a),p),qt(l,!1)),{},{payload:f,payloadIndex:m,className:ct("recharts-tooltip-cursor",j)});return h.isValidElement(l)?h.cloneElement(l,N):h.createElement(x,N)}function qge(e){var t=Rge(),r=aU(),n=jC(),a=Dge();return h.createElement(Wge,uN({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var EB=h.createContext(null),Hge=()=>h.useContext(EB),PB={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,f,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,f||c,m),x=r?r+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],p]:c._events[x].push(p):(c._events[x]=p,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,p=f.length,x=new Array(p);m<p;m++)x[m]=f[m].fn;return x},l.prototype.listenerCount=function(d){var u=r?r+d:d,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(d,u,f,m,p,x){var g=r?r+d:d;if(!this._events[g])return!1;var w=this._events[g],y=arguments.length,v,b;if(w.fn){switch(w.once&&this.removeListener(d,w.fn,void 0,!0),y){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,f),!0;case 4:return w.fn.call(w.context,u,f,m),!0;case 5:return w.fn.call(w.context,u,f,m,p),!0;case 6:return w.fn.call(w.context,u,f,m,p,x),!0}for(b=1,v=new Array(y-1);b<y;b++)v[b-1]=arguments[b];w.fn.apply(w.context,v)}else{var j=w.length,N;for(b=0;b<j;b++)switch(w[b].once&&this.removeListener(d,w[b].fn,void 0,!0),y){case 1:w[b].fn.call(w[b].context);break;case 2:w[b].fn.call(w[b].context,u);break;case 3:w[b].fn.call(w[b].context,u,f);break;case 4:w[b].fn.call(w[b].context,u,f,m);break;default:if(!v)for(N=1,v=new Array(y-1);N<y;N++)v[N-1]=arguments[N];w[b].fn.apply(w[b].context,v)}}return!0},l.prototype.on=function(d,u,f){return i(this,d,u,f,!1)},l.prototype.once=function(d,u,f){return i(this,d,u,f,!0)},l.prototype.removeListener=function(d,u,f,m){var p=r?r+d:d;if(!this._events[p])return this;if(!u)return o(this,p),this;var x=this._events[p];if(x.fn)x.fn===u&&(!m||x.once)&&(!f||x.context===f)&&o(this,p);else{for(var g=0,w=[],y=x.length;g<y;g++)(x[g].fn!==u||m&&!x[g].once||f&&x[g].context!==f)&&w.push(x[g]);w.length?this._events[p]=w.length===1?w[0]:w:o(this,p)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(PB);var Gge=PB.exports;const Kge=ua(Gge);var vh=new Kge,fN="recharts.syncEvent.tooltip",yT="recharts.syncEvent.brush";function AB(e,t){if(t){var r=Number.parseInt(t,10);if(!Cs(r))return e==null?void 0:e[r]}}var Yge={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},TB=Qn({name:"options",initialState:Yge,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Qge=TB.reducer,{createEventEmitter:Jge}=TB.actions;function Zge(e){return e.tooltip.syncInteraction}var Xge={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},OB=Qn({name:"chartData",initialState:Xge,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:bT,setDataStartEndIndexes:exe,setComputedData:YNe}=OB.actions,txe=OB.reducer,RB=()=>{};function rxe(){var e=Te(XC),t=Te(e_),r=ar(),n=Te(S8),a=Te(Si),i=jC(),o=wC(),l=Te(c=>c.rootProps.className);h.useEffect(()=>{if(e==null)return RB;var c=(d,u,f)=>{if(t!==f&&e===d){if(n==="index"){r(u);return}if(a!=null){var m;if(typeof n=="function"){var p={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},x=n(a,p);m=a[x]}else n==="value"&&(m=a.find(S=>String(S.value)===u.payload.label));var{coordinate:g}=u.payload;if(m==null||u.payload.active===!1||g==null||o==null){r(cN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:w,y}=g,v=Math.min(w,o.x+o.width),b=Math.min(y,o.y+o.height),j={x:i==="horizontal"?m.coordinate:v,y:i==="horizontal"?b:m.coordinate},N=cN({active:u.payload.active,coordinate:j,dataKey:u.payload.dataKey,index:String(m.index),label:u.payload.label});r(N)}}};return vh.on(fN,c),()=>{vh.off(fN,c)}},[l,r,t,e,n,a,i,o])}function nxe(){var e=Te(XC),t=Te(e_),r=ar();h.useEffect(()=>{if(e==null)return RB;var n=(a,i,o)=>{t!==o&&e===a&&r(exe(i))};return vh.on(yT,n),()=>{vh.off(yT,n)}},[r,t,e])}function sxe(){var e=ar();h.useEffect(()=>{e(Jge())},[e]),rxe(),nxe()}function axe(e,t,r,n,a,i){var o=Te(m=>Mge(m,e,t)),l=Te(e_),c=Te(XC),d=Te(S8),u=Te(Zge),f=u==null?void 0:u.active;h.useEffect(()=>{if(!f&&c!=null&&l!=null){var m=cN({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n});vh.emit(fN,c,m,l)}},[f,r,o,a,n,l,c,d,i])}function wT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(r),!0).forEach(function(n){ixe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ixe(e,t,r){return(t=oxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oxe(e){var t=lxe(e,"string");return typeof t=="symbol"?t:t+""}function lxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cxe(e){return e.dataKey}function dxe(e,t){return h.isValidElement(e)?h.cloneElement(e,t):typeof e=="function"?h.createElement(e,t):h.createElement(Wde,t)}var NT=[],uxe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!fu.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function px(e){var t=Rs(e,uxe),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:d,payloadUniqBy:u,position:f,reverseDirection:m,useTranslate3d:p,wrapperStyle:x,cursor:g,shared:w,trigger:y,defaultIndex:v,portal:b,axisId:j}=t,N=ar(),S=typeof v=="number"?String(v):v;h.useEffect(()=>{N(Fpe({shared:w,trigger:y,axisId:j,active:r,defaultIndex:S}))},[N,w,y,j,r,S]);var C=wC(),k=uU(),A=Dpe(w),{activeIndex:P,isActive:_}=Te(U=>Fge(U,A,y,S)),E=Te(U=>$ge(U,A,y,S)),M=Te(U=>kB(U,A,y,S)),R=Te(U=>Lge(U,A,y,S)),T=E,B=Hge(),K=r??_,[z,V]=oce([T,K]),F=A==="axis"?M:void 0;axe(A,y,R,F,P,K);var W=b??B;if(W==null)return null;var D=T??NT;K||(D=NT),l&&D.length&&(D=Ile(T.filter(U=>U.value!=null&&(U.hide!==!0||t.includeHidden)),u,cxe));var L=D.length>0,J=h.createElement(Jde,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:c,active:K,coordinate:R,hasPayload:L,offset:d,position:f,reverseDirection:m,useTranslate3d:p,viewBox:C,wrapperStyle:x,lastBoundingBox:z,innerRef:V,hasPortalFromProps:!!b},dxe(o,jT(jT({},t),{},{payload:D,label:F,active:K,coordinate:R,accessibilityLayer:k})));return h.createElement(h.Fragment,null,Mo.createPortal(J,W),K&&h.createElement(qge,{cursor:g,tooltipEventType:A,coordinate:R,payload:T,index:P}))}var DB={},IB={},MB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),u=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},f=()=>{d&&u(),g()};let m=null;const p=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,f()},n)},x=()=>{m!==null&&(clearTimeout(m),m=null)},g=()=>{x(),o=void 0,l=null},w=()=>{u()},y=function(...v){if(a!=null&&a.aborted)return;o=this,l=v;const b=m==null;p(),c&&b&&u()};return y.schedule=p,y.cancel=g,y.flush=w,a==null||a.addEventListener("abort",g,{once:!0}),y}e.debounce=t})(MB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MB;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let u,f=null;const m=t.debounce(function(...g){u=n.apply(this,g),f=null},a,{edges:d}),p=function(...g){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(u=n.apply(this,g),f=Date.now(),m.cancel(),m.schedule(),u):(m.apply(this,g),u)},x=()=>(m.flush(),u);return p.cancel=m.cancel,p.flush=x,p}e.debounce=r})(IB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IB;function r(n,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(DB);var fxe=DB.throttle;const hxe=ua(fxe);var jf=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function ST(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(r),!0).forEach(function(n){mxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ST(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mxe(e,t,r){return(t=pxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pxe(e){var t=gxe(e,"string");return typeof t=="symbol"?t:t+""}function gxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gx=h.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:d,debounce:u=0,id:f,className:m,onResize:p,style:x={}}=e,g=h.useRef(null),w=h.useRef();w.current=p,h.useImperativeHandle(t,()=>g.current);var[y,v]=h.useState({containerWidth:n.width,containerHeight:n.height}),b=h.useCallback((N,S)=>{v(C=>{var k=Math.round(N),A=Math.round(S);return C.containerWidth===k&&C.containerHeight===A?C:{containerWidth:k,containerHeight:A}})},[]);h.useEffect(()=>{var N=A=>{var P,{width:_,height:E}=A[0].contentRect;b(_,E),(P=w.current)===null||P===void 0||P.call(w,_,E)};u>0&&(N=hxe(N,u,{trailing:!0,leading:!1}));var S=new ResizeObserver(N),{width:C,height:k}=g.current.getBoundingClientRect();return b(C,k),S.observe(g.current),()=>{S.disconnect()}},[b,u]);var j=h.useMemo(()=>{var{containerWidth:N,containerHeight:S}=y;if(N<0||S<0)return null;jf(gl(a)||gl(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),jf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var C=gl(a)?N:a,k=gl(i)?S:i;return r&&r>0&&(C?k=C/r:k&&(C=k*r),c&&k>c&&(k=c)),jf(C>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,k,a,i,o,l,r),h.Children.map(d,A=>h.cloneElement(A,{width:C,height:k,style:S0({width:C,height:k},A.props.style)}))},[r,d,i,c,l,o,y,a]);return h.createElement("div",{id:f?"".concat(f):void 0,className:ct("recharts-responsive-container",m),style:S0(S0({},x),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:g},h.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))}),um=e=>null;um.displayName="Cell";function xxe(e,t,r){return(t=vxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vxe(e){var t=yxe(e,"string");return typeof t=="symbol"?t:t+""}function yxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bxe{constructor(t){xxe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function CT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wxe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(r),!0).forEach(function(n){jxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jxe(e,t,r){return(t=Nxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nxe(e){var t=Sxe(e,"string");return typeof t=="symbol"?t:t+""}function Sxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cxe={cacheSize:2e3,enableCache:!0},LB=wxe({},Cxe),_T=new bxe(LB.cacheSize),_xe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kT="recharts_measurement_span";function kxe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var ET=(e,t)=>{try{var r=document.getElementById(kT);r||(r=document.createElement("span"),r.setAttribute("id",kT),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,_xe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Nf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||fu.isSsr)return{width:0,height:0};if(!LB.enableCache)return ET(t,r);var n=kxe(t,r),a=_T.get(n);if(a)return a;var i=ET(t,r);return _T.set(n,i),i},PT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Exe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Pxe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$B={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Axe=Object.keys($B),qc="NaN";function Txe(e,t){return e*$B[t]}class gn{static parse(t){var r,[,n,a]=(r=Pxe.exec(t))!==null&&r!==void 0?r:[];return new gn(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Cs(t)&&(this.unit=""),r!==""&&!Exe.test(r)&&(this.num=NaN,this.unit=""),Axe.includes(r)&&(this.num=Txe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new gn(NaN,""):new gn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new gn(NaN,""):new gn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gn(NaN,""):new gn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gn(NaN,""):new gn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Cs(this.num)}}function FB(e){if(e.includes(qc))return qc;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=PT.exec(t))!==null&&r!==void 0?r:[],o=gn.parse(n??""),l=gn.parse(i??""),c=a==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return qc;t=t.replace(PT,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,u,f,m]=(d=AT.exec(t))!==null&&d!==void 0?d:[],p=gn.parse(u??""),x=gn.parse(m??""),g=f==="+"?p.add(x):p.subtract(x);if(g.isNaN())return qc;t=t.replace(AT,g.toString())}return t}var TT=/\(([^()]*)\)/;function Oxe(e){for(var t=e,r;(r=TT.exec(t))!=null;){var[,n]=r;t=t.replace(TT,FB(n))}return t}function Rxe(e){var t=e.replace(/\s+/g,"");return t=Oxe(t),t=FB(t),t}function Dxe(e){try{return Rxe(e)}catch{return qc}}function C0(e){var t=Dxe(e.slice(5,-1));return t===qc?"":t}var Ixe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Mxe=["dx","dy","angle","className","breakAll"];function hN(){return hN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hN.apply(null,arguments)}function OT(e,t){if(e==null)return{};var r,n,a=Lxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var UB=/[ \f\n\r\t\v\u2028\u2029]+/,BB=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];cr(t)||(r?a=t.toString().split(""):a=t.toString().split(UB));var i=a.map(l=>({word:l,width:Nf(l,n).width})),o=r?0:Nf("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},$xe=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,d=Pe(i),u=o,f=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return _.reduce((E,M)=>{var{word:R,width:T}=M,B=E[E.length-1];if(B&&(n==null||a||B.width+T+r<Number(n)))B.words.push(R),B.width+=T+r;else{var K={words:[R],width:T};E.push(K)}return E},[])},m=f(t),p=P=>P.reduce((_,E)=>_.width>E.width?_:E);if(!d||a)return m;var x=m.length>i||p(m).width>Number(n);if(!x)return m;for(var g="",w=P=>{var _=u.slice(0,P),E=BB({breakAll:c,style:l,children:_+g}).wordsWithComputedWidth,M=f(E),R=M.length>i||p(M).width>Number(n);return[R,M]},y=0,v=u.length-1,b=0,j;y<=v&&b<=u.length-1;){var N=Math.floor((y+v)/2),S=N-1,[C,k]=w(S),[A]=w(N);if(!C&&!A&&(y=N+1),C&&A&&(v=N-1),!C&&A){j=k;break}b++}return j||m},RT=e=>{var t=cr(e)?[]:e.toString().split(UB);return[{words:t}]},Fxe=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!fu.isSsr){var l,c,d=BB({breakAll:i,children:n,style:a});if(d){var{wordsWithComputedWidth:u,spaceWidth:f}=d;l=u,c=f}else return RT(n);return $xe({breakAll:i,children:n,maxLines:o,style:a},l,c,t,r)}return RT(n)},DT="#808080",Fy=h.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:d=DT}=e,u=OT(e,Ixe),f=h.useMemo(()=>Fxe({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:o,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,o,u.style,u.width]),{dx:m,dy:p,angle:x,className:g,breakAll:w}=u,y=OT(u,Mxe);if(!Ra(r)||!Ra(n))return null;var v=r+(Pe(m)?m:0),b=n+(Pe(p)?p:0),j;switch(c){case"start":j=C0("calc(".concat(i,")"));break;case"middle":j=C0("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:j=C0("calc(".concat(f.length-1," * -").concat(a,")"));break}var N=[];if(o){var S=f[0].width,{width:C}=u;N.push("scale(".concat(Pe(C)?C/S:1,")"))}return x&&N.push("rotate(".concat(x,", ").concat(v,", ").concat(b,")")),N.length&&(y.transform=N.join(" ")),h.createElement("text",hN({},qt(y,!0),{ref:t,x:v,y:b,className:ct("recharts-text",g),textAnchor:l,fill:d.includes("url")?DT:d}),f.map((k,A)=>{var P=k.words.join(w?"":" ");return h.createElement("tspan",{x:v,dy:A===0?j:a,key:"".concat(P,"-").concat(A)},P)}))});Fy.displayName="Text";var Uxe=["offset"],Bxe=["labelRef"];function IT(e,t){if(e==null)return{};var r,n,a=zxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(n){Vxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vxe(e,t,r){return(t=Wxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wxe(e){var t=qxe(e,"string");return typeof t=="symbol"?t:t+""}function qxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ka(){return Ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ka.apply(null,arguments)}var Hxe=e=>{var{value:t,formatter:r}=e,n=cr(e.children)?t:e.children;return typeof r=="function"?r(n):n},T_=e=>e!=null&&typeof e=="function",Gxe=(e,t)=>{var r=Yr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Kxe=(e,t,r,n)=>{var{position:a,offset:i,className:o}=e,{cx:l,cy:c,innerRadius:d,outerRadius:u,startAngle:f,endAngle:m,clockWise:p}=n,x=(d+u)/2,g=Gxe(f,m),w=g>=0?1:-1,y,v;a==="insideStart"?(y=f+w*i,v=p):a==="insideEnd"?(y=m-w*i,v=!p):a==="end"&&(y=m+w*i,v=p),v=g<=0?v:!v;var b=lr(l,c,x,y),j=lr(l,c,x,y+(v?1:-1)*359),N="M".concat(b.x,",").concat(b.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(v?0:1,`,
    `).concat(j.x,",").concat(j.y),S=cr(e.id)?ch("recharts-radial-line-"):e.id;return h.createElement("text",Ka({},r,{dominantBaseline:"central",className:ct("recharts-radial-bar-label",o)}),h.createElement("defs",null,h.createElement("path",{id:S,d:N})),h.createElement("textPath",{xlinkHref:"#".concat(S)},t))},Yxe=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c}=e,d=(l+c)/2;if(r==="outside"){var{x:u,y:f}=lr(n,a,o+t,d);return{x:u,y:f,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var m=(i+o)/2,{x:p,y:x}=lr(n,a,m,d);return{x:p,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Qxe=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,{x:i,y:o,width:l,height:c}=t,d=c>=0?1:-1,u=d*n,f=d>0?"end":"start",m=d>0?"start":"end",p=l>=0?1:-1,x=p*n,g=p>0?"end":"start",w=p>0?"start":"end";if(a==="top"){var y={x:i+l/2,y:o-d*n,textAnchor:"middle",verticalAnchor:f};return Qt(Qt({},y),r?{height:Math.max(o-r.y,0),width:l}:{})}if(a==="bottom"){var v={x:i+l/2,y:o+c+u,textAnchor:"middle",verticalAnchor:m};return Qt(Qt({},v),r?{height:Math.max(r.y+r.height-(o+c),0),width:l}:{})}if(a==="left"){var b={x:i-x,y:o+c/2,textAnchor:g,verticalAnchor:"middle"};return Qt(Qt({},b),r?{width:Math.max(b.x-r.x,0),height:c}:{})}if(a==="right"){var j={x:i+l+x,y:o+c/2,textAnchor:w,verticalAnchor:"middle"};return Qt(Qt({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:c}:{})}var N=r?{width:l,height:c}:{};return a==="insideLeft"?Qt({x:i+x,y:o+c/2,textAnchor:w,verticalAnchor:"middle"},N):a==="insideRight"?Qt({x:i+l-x,y:o+c/2,textAnchor:g,verticalAnchor:"middle"},N):a==="insideTop"?Qt({x:i+l/2,y:o+u,textAnchor:"middle",verticalAnchor:m},N):a==="insideBottom"?Qt({x:i+l/2,y:o+c-u,textAnchor:"middle",verticalAnchor:f},N):a==="insideTopLeft"?Qt({x:i+x,y:o+u,textAnchor:w,verticalAnchor:m},N):a==="insideTopRight"?Qt({x:i+l-x,y:o+u,textAnchor:g,verticalAnchor:m},N):a==="insideBottomLeft"?Qt({x:i+x,y:o+c-u,textAnchor:w,verticalAnchor:f},N):a==="insideBottomRight"?Qt({x:i+l-x,y:o+c-u,textAnchor:g,verticalAnchor:f},N):a&&typeof a=="object"&&(Pe(a.x)||gl(a.x))&&(Pe(a.y)||gl(a.y))?Qt({x:i+hs(a.x,l),y:o+hs(a.y,c),textAnchor:"end",verticalAnchor:"end"},N):Qt({x:i+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},N)},Jxe=e=>"cx"in e&&Pe(e.cx);function Ln(e){var{offset:t=5}=e,r=IT(e,Uxe),n=Qt({offset:t},r),{viewBox:a,position:i,value:o,children:l,content:c,className:d="",textBreakAll:u,labelRef:f}=n,m=Te(P8),p=wC(),x=i==="center"?p:m??p,g=a||x;if(!g||cr(o)&&cr(l)&&!h.isValidElement(c)&&typeof c!="function")return null;var w=Qt(Qt({},n),{},{viewBox:g});if(h.isValidElement(c)){var y=IT(w,Bxe);return h.cloneElement(c,y)}var v;if(typeof c=="function"){if(v=h.createElement(c,w),h.isValidElement(v))return v}else v=Hxe(n);var b=Jxe(g),j=qt(n,!0);if(b&&(i==="insideStart"||i==="insideEnd"||i==="end"))return Kxe(n,v,j,g);var N=b?Yxe(g,n.offset,n.position):Qxe(n,g);return h.createElement(Fy,Ka({ref:f,className:ct("recharts-label",d)},j,N,{breakAll:u}),v)}Ln.displayName="Label";var zB=e=>{var{cx:t,cy:r,angle:n,startAngle:a,endAngle:i,r:o,radius:l,innerRadius:c,outerRadius:d,x:u,y:f,top:m,left:p,width:x,height:g,clockWise:w,labelViewBox:y}=e;if(y)return y;if(Pe(x)&&Pe(g)){if(Pe(u)&&Pe(f))return{x:u,y:f,width:x,height:g};if(Pe(m)&&Pe(p))return{x:m,y:p,width:x,height:g}}if(Pe(u)&&Pe(f))return{x:u,y:f,width:0,height:0};if(Pe(t)&&Pe(r))return{cx:t,cy:r,startAngle:a||n||0,endAngle:i||n||0,innerRadius:c||0,outerRadius:d||l||o||0,clockWise:w};if(e.viewBox)return e.viewBox},Zxe=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?h.createElement(Ln,Ka({key:"label-implicit"},n)):Ra(e)?h.createElement(Ln,Ka({key:"label-implicit",value:e},n)):h.isValidElement(e)?e.type===Ln?h.cloneElement(e,Qt({key:"label-implicit"},n)):h.createElement(Ln,Ka({key:"label-implicit",content:e},n)):T_(e)?h.createElement(Ln,Ka({key:"label-implicit",content:e},n)):e&&typeof e=="object"?h.createElement(Ln,Ka({},e,{key:"label-implicit"},n)):null},Xxe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:a,labelRef:i}=t,o=zB(t),l=ay(a,Ln).map((d,u)=>h.cloneElement(d,{viewBox:r||o,key:"label-".concat(u)}));if(!n)return l;var c=Zxe(t.label,r||o,i);return[c,...l]};Ln.parseViewBox=zB;Ln.renderCallByParent=Xxe;var VB={},WB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(WB);var qB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(qB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WB,r=qB,n=cy;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(VB);var eve=VB.last;const tve=ua(eve);var rve=["valueAccessor"],nve=["data","dataKey","clockWise","id","textBreakAll"];function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xx.apply(null,arguments)}function LT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $T(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(r),!0).forEach(function(n){sve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sve(e,t,r){return(t=ave(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ave(e){var t=ive(e,"string");return typeof t=="symbol"?t:t+""}function ive(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FT(e,t){if(e==null)return{};var r,n,a=ove(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ove(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lve=e=>Array.isArray(e.value)?tve(e.value):e.value;function Rl(e){var{valueAccessor:t=lve}=e,r=FT(e,rve),{data:n,dataKey:a,clockWise:i,id:o,textBreakAll:l}=r,c=FT(r,nve);return!n||!n.length?null:h.createElement(_s,{className:"recharts-label-list"},n.map((d,u)=>{var f=cr(a)?t(d,u):Lt(d&&d.payload,a),m=cr(o)?{}:{id:"".concat(o,"-").concat(u)};return h.createElement(Ln,xx({},qt(d,!0),c,m,{parentViewBox:d.parentViewBox,value:f,textBreakAll:l,viewBox:Ln.parseViewBox(cr(i)?d:$T($T({},d),{},{clockWise:i})),key:"label-".concat(u),index:u}))}))}Rl.displayName="LabelList";function cve(e,t){return e?e===!0?h.createElement(Rl,{key:"labelList-implicit",data:t}):h.isValidElement(e)||T_(e)?h.createElement(Rl,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?h.createElement(Rl,xx({data:t},e,{key:"labelList-implicit"})):null:null}function dve(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,a=ay(n,Rl).map((o,l)=>h.cloneElement(o,{data:t,key:"labelList-".concat(l)}));if(!r)return a;var i=cve(e.label,t);return[i,...a]}Rl.renderCallByParent=dve;function mN(){return mN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mN.apply(null,arguments)}var HB=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=ct("recharts-dot",a);return t===+t&&r===+r&&n===+n?h.createElement("circle",mN({},Wo(e),eC(e),{className:i,cx:t,cy:r,r:n})):null},GB=e=>e.graphicalItems.polarItems,uve=ae([Ut,am],i_),O_=ae([GB,ir,uve],o_),fve=ae([O_],l_),R_=ae([fve,KC],c_),hve=ae([R_,ir,O_],u_),mve=ae([R_,ir,O_],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,o=Lt(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Lt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),UT=()=>{},pve=ae([ir,K8,UT,mve,UT,bt,Ut],h_),KB=ae([ir,bt,R_,hve,sm,Ut,pve],m_),gve=ae([KB,ir,vu],x_);ae([ir,KB,gve,Ut],y_);var xve={radiusAxis:{},angleAxis:{}},vve=Qn({name:"polarAxis",initialState:xve,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),yve=vve.reducer;function BT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(r),!0).forEach(function(n){bve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bve(e,t,r){return(t=wve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wve(e){var t=jve(e,"string");return typeof t=="symbol"?t:t+""}function jve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nve=(e,t)=>t,D_=ae([GB,Nve],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Sve=[],I_=(e,t,r)=>(r==null?void 0:r.length)===0?Sve:r,YB=ae([KC,D_,I_],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>zT(zT({},t.presentationProps),i.props))),a!=null)return a}}),Cve=ae([YB,D_,I_],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,o=Lt(n,t.nameKey,t.name),l;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:wy(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),_ve=ae([YB,D_,I_,Er],(e,t,r,n)=>{if(!(t==null||e==null))return Nye({offset:n,pieSettings:t,displayedData:e,cells:r})}),QB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(QB);var kve=QB.isPlainObject;const Eve=ua(kve);function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vx.apply(null,arguments)}var VT=(e,t,r,n,a)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+a),o+="L ".concat(e+r-i/2-n,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},Pve={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ave=e=>{var t=Rs(e,Pve),r=h.useRef(),[n,a]=h.useState(-1);h.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&a(w)}catch{}},[]);var{x:i,y:o,upperWidth:l,lowerWidth:c,height:d,className:u}=t,{animationEasing:f,animationDuration:m,animationBegin:p,isUpdateAnimationActive:x}=t;if(i!==+i||o!==+o||l!==+l||c!==+c||d!==+d||l===0&&c===0||d===0)return null;var g=ct("recharts-trapezoid",u);return x?h.createElement(ex,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:d,x:i,y:o},to:{upperWidth:l,lowerWidth:c,height:d,x:i,y:o},duration:m,animationEasing:f,isActive:x},w=>{var{upperWidth:y,lowerWidth:v,height:b,x:j,y:N}=w;return h.createElement(ex,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:m,easing:f},h.createElement("path",vx({},qt(t,!0),{className:g,d:VT(j,N,y,v,b),ref:r})))}):h.createElement("g",null,h.createElement("path",vx({},qt(t,!0),{className:g,d:VT(i,o,l,c,d)})))},Tve=["option","shapeType","propTransformer","activeClassName","isActive"];function Ove(e,t){if(e==null)return{};var r,n,a=Rve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function WT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(r),!0).forEach(function(n){Dve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dve(e,t,r){return(t=Ive(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ive(e){var t=Mve(e,"string");return typeof t=="symbol"?t:t+""}function Mve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lve(e,t){return yx(yx({},t),e)}function $ve(e,t){return e==="symbols"}function qT(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return h.createElement(jU,r);case"trapezoid":return h.createElement(Ave,r);case"sector":return h.createElement(CU,r);case"symbols":if($ve(t))return h.createElement(r6,r);break;default:return null}}function Fve(e){return h.isValidElement(e)?e.props:e}function Uve(e){var{option:t,shapeType:r,propTransformer:n=Lve,activeClassName:a="recharts-active-shape",isActive:i}=e,o=Ove(e,Tve),l;if(h.isValidElement(t))l=h.cloneElement(t,yx(yx({},o),Fve(t)));else if(typeof t=="function")l=t(o);else if(Eve(t)&&typeof t!="boolean"){var c=n(t,o);l=h.createElement(qT,{shapeType:r,elementProps:c})}else{var d=o;l=h.createElement(qT,{shapeType:r,elementProps:d})}return i?h.createElement(_s,{className:a},l):l}var Bve=(e,t)=>{var r=ar();return(n,a)=>i=>{e==null||e(n,a,i),r(dB({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},zve=e=>{var t=ar();return(r,n)=>a=>{e==null||e(r,n,a),t(Upe())}},Vve=(e,t)=>{var r=ar();return(n,a)=>i=>{e==null||e(n,a,i),r(Bpe({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function JB(e){var{fn:t,args:r}=e,n=ar(),a=Os();return h.useEffect(()=>{if(!a){var i=t(r);return n(Lpe(i)),()=>{n($pe(i))}}},[t,r,n,a]),null}var ZB=()=>{};function Wve(e){var{legendPayload:t}=e,r=ar(),n=Os();return h.useEffect(()=>n?ZB:(r(cU(t)),()=>{r(dU(t))}),[r,n,t]),null}function qve(e){var{legendPayload:t}=e,r=ar(),n=Te(bt);return h.useEffect(()=>n!=="centric"&&n!=="radial"?ZB:(r(cU(t)),()=>{r(dU(t))}),[r,n,t]),null}function XB(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=h.useRef(ch(t)),n=h.useRef(e);return n.current!==e&&(r.current=ch(t),n.current=e),r.current}var _0,Hve=()=>{var[e]=h.useState(()=>ch("uid-"));return e},Gve=(_0=_x.useId)!==null&&_0!==void 0?_0:Hve;function Kve(e,t){var r=Gve();return t||(e?"".concat(e,"-").concat(r):r)}var Yve=h.createContext(void 0),ez=e=>{var{id:t,type:r,children:n}=e,a=Kve("recharts-".concat(r),t);return h.createElement(Yve.Provider,{value:a},n(a))},Qve={cartesianItems:[],polarItems:[]},tz=Qn({name:"graphicalItems",initialState:Qve,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=ri(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=ri(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=ri(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:Jve,replaceCartesianGraphicalItem:Zve,removeCartesianGraphicalItem:Xve,addPolarGraphicalItem:eye,removePolarGraphicalItem:tye}=tz.actions,rye=tz.reducer;function nye(e){var t=ar(),r=h.useRef(null);return h.useEffect(()=>{r.current===null?t(Jve(e)):r.current!==e&&t(Zve({prev:r.current,next:e})),r.current=e},[t,e]),h.useEffect(()=>()=>{r.current&&(t(Xve(r.current)),r.current=null)},[t]),null}function sye(e){var t=ar();return h.useEffect(()=>(t(eye(e)),()=>{t(tye(e))}),[t,e]),null}function aye(){}var iye={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},HT={t:0},k0={t:1};function rz(e){var t=Rs(e,iye),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c,children:d}=t,u=wU("JavascriptAnimate",t.animationManager),[f,m]=h.useState(r?HT:k0),p=h.useRef(null);return h.useEffect(()=>{r||m(k0)},[r]),h.useEffect(()=>{if(!r||!n)return aye;var x=bU(HT,k0,vU(i),a,m,u.getTimeoutController()),g=()=>{p.current=x()};return u.start([c,o,g,a,l]),()=>{u.stop(),p.current&&p.current(),l()}},[r,n,a,i,o,c,l,u]),d(f.t)}var oye=["onMouseEnter","onClick","onMouseLeave"],lye=["id"],cye=["id"];function M_(e,t){if(e==null)return{};var r,n,a=dye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function GT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(r),!0).forEach(function(n){uye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uye(e,t,r){return(t=fye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fye(e){var t=hye(e,"string");return typeof t=="symbol"?t:t+""}function hye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pi.apply(null,arguments)}function mye(e){var t=h.useMemo(()=>ay(e.children,um),[e.children]),r=Te(n=>Cve(n,e.id,t));return r==null?null:h.createElement(qve,{legendPayload:r})}function pye(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:o,name:l,hide:c,tooltipType:d}=e;return{dataDefinedOnItem:n==null?void 0:n.map(u=>u.tooltipPayload),positions:n==null?void 0:n.map(u=>u.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:wy(l,t),hide:c,type:d,color:o,unit:""}}}var gye=(e,t)=>e>t?"start":e<t?"end":"middle",xye=(e,t,r)=>typeof t=="function"?t(e):hs(t,r,r*.8),vye=(e,t,r)=>{var{top:n,left:a,width:i,height:o}=t,l=J6(i,o),c=a+hs(e.cx,i,i/2),d=n+hs(e.cy,o,o/2),u=hs(e.innerRadius,l,0),f=xye(r,e.outerRadius,l),m=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:d,innerRadius:u,outerRadius:f,maxRadius:m}},yye=(e,t)=>{var r=Yr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},bye=(e,t)=>{if(h.isValidElement(e))return h.cloneElement(e,t);if(typeof e=="function")return e(t);var r=ct("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return h.createElement(NC,pi({},t,{type:"linear",className:r}))},wye=(e,t,r)=>{if(h.isValidElement(e))return h.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),h.isValidElement(n)))return n;var a=ct("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return h.createElement(Fy,pi({},t,{alignmentBaseline:"middle",className:a}),n)};function jye(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:o}=r;if(!n||!a||!t)return null;var l=Wo(r),c=qt(a,!1),d=qt(i,!1),u=typeof a=="object"&&"offsetRadius"in a&&a.offsetRadius||20,f=t.map((m,p)=>{var x=(m.startAngle+m.endAngle)/2,g=lr(m.cx,m.cy,m.outerRadius+u,x),w=Xt(Xt(Xt(Xt({},l),m),{},{stroke:"none"},c),{},{index:p,textAnchor:gye(g.x,m.cx)},g),y=Xt(Xt(Xt(Xt({},l),m),{},{fill:"none",stroke:m.fill},d),{},{index:p,points:[lr(m.cx,m.cy,m.outerRadius,x),g],key:"line"});return h.createElement(_s,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(p)},i&&bye(i,y),wye(a,w,Lt(m,o)))});return h.createElement(_s,{className:"recharts-pie-labels"},f)}function nz(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,showLabels:i}=e,o=Te(Wd),{onMouseEnter:l,onClick:c,onMouseLeave:d}=a,u=M_(a,oye),f=Bve(l,a.dataKey),m=zve(d),p=Vve(c,a.dataKey);return t==null?null:h.createElement(h.Fragment,null,t.map((x,g)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var w=r&&String(g)===o,y=o?n:null,v=w?r:y,b=Xt(Xt({},x),{},{stroke:x.stroke,tabIndex:-1,[rU]:g,[nU]:a.dataKey});return h.createElement(_s,pi({tabIndex:-1,className:"recharts-pie-sector"},DF(u,x,g),{onMouseEnter:f(x,g),onMouseLeave:m(x,g),onClick:p(x,g),key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(g)}),h.createElement(Uve,pi({option:v,isActive:w,shapeType:"sector"},b)))}),h.createElement(jye,{sectors:t,props:a,showLabels:i}))}function Nye(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:d,nameKey:u,tooltipType:f}=r,m=Math.abs(r.minAngle),p=yye(l,c),x=Math.abs(p),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(S=>Lt(S,d,0)!==0).length,y=(x>=360?w:w-1)*g,v=x-w*m-y,b=n.reduce((S,C)=>{var k=Lt(C,d,0);return S+(Pe(k)?k:0)},0),j;if(b>0){var N;j=n.map((S,C)=>{var k=Lt(S,d,0),A=Lt(S,u,C),P=vye(r,i,S),_=(Pe(k)?k:0)/b,E,M=Xt(Xt({},S),a&&a[C]&&a[C].props);C?E=N.endAngle+Yr(p)*g*(k!==0?1:0):E=l;var R=E+Yr(p)*((k!==0?m:0)+_*v),T=(E+R)/2,B=(P.innerRadius+P.outerRadius)/2,K=[{name:A,value:k,payload:M,dataKey:d,type:f}],z=lr(P.cx,P.cy,B,T);return N=Xt(Xt(Xt(Xt({},r.presentationProps),{},{percent:_,cornerRadius:o,name:A,tooltipPayload:K,midAngle:T,middleRadius:B,tooltipPosition:z},M),P),{},{value:Lt(S,d),startAngle:E,endAngle:R,payload:M,paddingAngle:Yr(p)*g}),N})}return j}function Sye(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:u,onAnimationEnd:f}=t,m=XB(t,"recharts-pie-"),p=r.current,[x,g]=h.useState(!0),w=h.useCallback(()=>{typeof f=="function"&&f(),g(!1)},[f]),y=h.useCallback(()=>{typeof u=="function"&&u(),g(!0)},[u]);return h.createElement(rz,{begin:i,duration:o,isActive:a,easing:l,onAnimationStart:y,onAnimationEnd:w,key:m},v=>{var b=[],j=n&&n[0],N=j.startAngle;return n.forEach((S,C)=>{var k=p&&p[C],A=C>0?Oo(S,"paddingAngle",0):0;if(k){var P=kP(k.endAngle-k.startAngle,S.endAngle-S.startAngle),_=Xt(Xt({},S),{},{startAngle:N+A,endAngle:N+P(v)+A});b.push(_),N=_.endAngle}else{var{endAngle:E,startAngle:M}=S,R=kP(0,E-M),T=R(v),B=Xt(Xt({},S),{},{startAngle:N+A,endAngle:N+T+A});b.push(B),N=B.endAngle}}),r.current=b,h.createElement(_s,null,h.createElement(nz,{sectors:b,activeShape:c,inactiveShape:d,allOtherPieProps:t,showLabels:!x}))})}function Cye(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:a}=e,i=h.useRef(null),o=i.current;return r&&t&&t.length&&(!o||o!==t)?h.createElement(Sye,{props:e,previousSectorsRef:i}):h.createElement(nz,{sectors:t,activeShape:n,inactiveShape:a,allOtherPieProps:e,showLabels:!0})}function _ye(e){var{hide:t,className:r,rootTabIndex:n}=e,a=ct("recharts-pie",r);return t?null:h.createElement(_s,{tabIndex:n,className:a},h.createElement(Cye,e))}var kye={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!fu.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Eye(e){var{id:t}=e,r=M_(e,lye),n=h.useMemo(()=>ay(e.children,um),[e.children]),a=Te(i=>_ve(i,t,n));return h.createElement(h.Fragment,null,h.createElement(JB,{fn:pye,args:Xt(Xt({},e),{},{sectors:a})}),h.createElement(_ye,pi({},r,{sectors:a})))}function L_(e){var t=Rs(e,kye),{id:r}=t,n=M_(t,cye),a=Wo(n);return h.createElement(ez,{id:r,type:"pie"},i=>h.createElement(h.Fragment,null,h.createElement(sye,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a}),h.createElement(mye,pi({},n,{id:i})),h.createElement(Eye,pi({},n,{id:i})),n.children))}L_.displayName="Pie";var Pye=ae([Er],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Aye=ae([Pye,bi,wi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),$_=()=>Te(Aye),Tye=()=>Te(Ege);function KT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(r),!0).forEach(function(n){Oye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oye(e,t,r){return(t=Rye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rye(e){var t=Dye(e,"string");return typeof t=="symbol"?t:t+""}function Dye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iye=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var o=YT(YT({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},qt(a,!1)),eC(a)),l;return h.isValidElement(a)?l=h.cloneElement(a,o):typeof a=="function"?l=a(o):l=h.createElement(HB,o),h.createElement(_s,{className:"recharts-active-dot"},l)};function Mye(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=Te(Wd),o=Tye();if(t==null||o==null)return null;var l=t.find(c=>o.includes(c.payload));return cr(l)?null:Iye({point:l,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var Lye={},$ye=Qn({name:"errorBars",initialState:Lye,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),Fye=$ye.reducer,Uye=["children"];function Bye(e,t){if(e==null)return{};var r,n,a=zye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Vye={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Wye=h.createContext(Vye);function qye(e){var{children:t}=e,r=Bye(e,Uye);return h.createElement(Wye.Provider,{value:r},t)}function sz(e,t){var r,n,a=Te(d=>Ni(d,e)),i=Te(d=>Yo(d,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:On.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Rn.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function Hye(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=$_(),{needClipX:i,needClipY:o,needClip:l}=sz(t,r);if(!l)return null;var{x:c,y:d,width:u,height:f}=a;return h.createElement("clipPath",{id:"clipPath-".concat(n)},h.createElement("rect",{x:i?c:c-u/2,y:o?d:d-f/2,width:i?u:u*2,height:o?f:f*2}))}var az=e=>{var{chartData:t}=e,r=ar(),n=Os();return h.useEffect(()=>n?()=>{}:(r(bT(t)),()=>{r(bT(void 0))}),[t,r,n]),null},QT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Gye=Qn({name:"brush",initialState:QT,reducers:{setBrushSettings(e,t){return t.payload==null?QT:t.payload}}}),Kye=Gye.reducer;function Yye(e,t,r){return(t=Qye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qye(e){var t=Jye(e,"string");return typeof t=="symbol"?t:t+""}function Jye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class F_{static create(t){return new F_(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}Yye(F_,"EPS",1e-4);function Zye(e){return(e%180+180)%180}var Xye=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Zye(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},ebe={dots:[],areas:[],lines:[]},tbe=Qn({name:"referenceElements",initialState:ebe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ri(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ri(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ri(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),rbe=tbe.reducer,nbe=h.createContext(void 0),sbe=e=>{var{children:t}=e,[r]=h.useState("".concat(ch("recharts"),"-clip")),n=$_();if(n==null)return null;var{x:a,y:i,width:o,height:l}=n;return h.createElement(nbe.Provider,{value:r},h.createElement("defs",null,h.createElement("clipPath",{id:r},h.createElement("rect",{x:a,y:i,height:l,width:o}))),t)};function E0(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function iz(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function abe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Xye(n,r)}function ibe(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function bx(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function obe(e,t){return iz(e,t+1)}function lbe(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:l}=t,c=0,d=1,u=o,f=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:iz(n,d)};var g=c,w,y=()=>(w===void 0&&(w=r(x,g)),w),v=x.coordinate,b=c===0||bx(e,v,y,u,l);b||(c=0,u=o,d+=1),b&&(u=v+e*(y()/2+a),c+=d)},m;d<=i.length;)if(m=f(),m)return m.v;return[]}function JT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(r),!0).forEach(function(n){cbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cbe(e,t,r){return(t=dbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dbe(e){var t=ube(e,"string");return typeof t=="symbol"?t:t+""}function ube(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fbe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,d=function(m){var p=i[m],x,g=()=>(x===void 0&&(x=r(p,m)),x);if(m===o-1){var w=e*(p.coordinate+e*g()/2-c);i[m]=p=qr(qr({},p),{},{tickCoord:w>0?p.coordinate-w*e:p.coordinate})}else i[m]=p=qr(qr({},p),{},{tickCoord:p.coordinate});var y=bx(e,p.tickCoord,g,l,c);y&&(c=p.tickCoord-e*(g()/2+a),i[m]=qr(qr({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function hbe(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,{start:c,end:d}=t;if(i){var u=n[l-1],f=r(u,l-1),m=e*(u.coordinate+e*f/2-d);o[l-1]=u=qr(qr({},u),{},{tickCoord:m>0?u.coordinate-m*e:u.coordinate});var p=bx(e,u.tickCoord,()=>f,c,d);p&&(d=u.tickCoord-e*(f/2+a),o[l-1]=qr(qr({},u),{},{isShow:!0}))}for(var x=i?l-1:l,g=function(v){var b=o[v],j,N=()=>(j===void 0&&(j=r(b,v)),j);if(v===0){var S=e*(b.coordinate-e*N()/2-c);o[v]=b=qr(qr({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else o[v]=b=qr(qr({},b),{},{tickCoord:b.coordinate});var C=bx(e,b.tickCoord,N,c,d);C&&(c=b.tickCoord+e*(N()/2+a),o[v]=qr(qr({},b),{},{isShow:!0}))},w=0;w<x;w++)g(w);return o}function U_(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:d,unit:u,angle:f}=e;if(!a||!a.length||!n)return[];if(Pe(c)||fu.isSsr){var m;return(m=obe(a,Pe(c)?c:0))!==null&&m!==void 0?m:[]}var p=[],x=l==="top"||l==="bottom"?"width":"height",g=u&&x==="width"?Nf(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(b,j)=>{var N=typeof d=="function"?d(b.value,j):b.value;return x==="width"?abe(Nf(N,{fontSize:t,letterSpacing:r}),g,f):Nf(N,{fontSize:t,letterSpacing:r})[x]},y=a.length>=2?Yr(a[1].coordinate-a[0].coordinate):1,v=ibe(i,y,x);return c==="equidistantPreserveStart"?lbe(y,v,w,a,o):(c==="preserveStart"||c==="preserveStartEnd"?p=hbe(y,v,w,a,o,c==="preserveStartEnd"):p=fbe(y,v,w,a,o),p.filter(b=>b.isShow))}var mbe=["viewBox"],pbe=["viewBox"];function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hc.apply(null,arguments)}function ZT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZT(Object(r),!0).forEach(function(n){B_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XT(e,t){if(e==null)return{};var r,n,a=gbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function B_(e,t,r){return(t=xbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xbe(e){var t=vbe(e,"string");return typeof t=="symbol"?t:t+""}function vbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Qo extends h.Component{constructor(t){super(t),this.tickRefs=h.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,a=XT(t,mbe),i=this.props,{viewBox:o}=i,l=XT(i,pbe);return!E0(n,o)||!E0(a,l)||!E0(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:a,height:i,orientation:o,tickSize:l,mirror:c,tickMargin:d}=this.props,u,f,m,p,x,g,w=c?-1:1,y=t.tickSize||l,v=Pe(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":u=f=t.coordinate,p=n+ +!c*i,m=p-w*y,g=m-w*d,x=v;break;case"left":m=p=t.coordinate,f=r+ +!c*a,u=f-w*y,x=u-w*d,g=v;break;case"right":m=p=t.coordinate,f=r+ +c*a,u=f+w*y,x=u+w*d,g=v;break;default:u=f=t.coordinate,p=n+ +c*i,m=p+w*y,g=m+w*d,x=v;break}return{line:{x1:u,y1:m,x2:f,y2:p},tick:{x,y:g}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:l}=this.props,c=fr(fr(fr({},qt(this.props,!1)),qt(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);c=fr(fr({},c),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var u=+(i==="left"&&!o||i==="right"&&o);c=fr(fr({},c),{},{x1:t+u*n,y1:r,x2:t+u*n,y2:r+a})}return h.createElement("line",Hc({},c,{className:ct("recharts-cartesian-axis-line",Oo(l,"className"))}))}static renderTickItem(t,r,n){var a,i=ct(r.className,"recharts-cartesian-axis-tick-value");if(h.isValidElement(t))a=h.cloneElement(t,fr(fr({},r),{},{className:i}));else if(typeof t=="function")a=t(fr(fr({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=ct(o,t.className)),a=h.createElement(Fy,Hc({},r,{className:o}),n)}return a}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:a,stroke:i,tick:o,tickFormatter:l,unit:c,padding:d}=this.props,u=U_(fr(fr({},this.props),{},{ticks:n}),t,r),f=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),p=Wo(this.props),x=qt(o,!1),g=fr(fr({},p),{},{fill:"none"},qt(a,!1)),w=u.map((y,v)=>{var{line:b,tick:j}=this.getTickLineCoord(y),N=fr(fr(fr(fr({textAnchor:f,verticalAnchor:m},p),{},{stroke:"none",fill:i},x),j),{},{index:v,payload:y,visibleTicksCount:u.length,tickFormatter:l,padding:d});return h.createElement(_s,Hc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},DF(this.props,y,v)),a&&h.createElement("line",Hc({},g,b,{className:ct("recharts-cartesian-axis-tick-line",Oo(a,"className"))})),o&&Qo.renderTickItem(o,N,"".concat(typeof l=="function"?l(y.value,v):y.value).concat(c||"")))});return w.length>0?h.createElement("g",{className:"recharts-cartesian-axis-ticks"},w):null}render(){var{axisLine:t,width:r,height:n,className:a,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:h.createElement(_s,{className:ct("recharts-cartesian-axis",a),ref:l=>{if(l){var c=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var d=c[0];if(d){var u=window.getComputedStyle(d).fontSize,f=window.getComputedStyle(d).letterSpacing;(u!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),Ln.renderCallByParent(this.props))}}B_(Qo,"displayName","CartesianAxis");B_(Qo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ybe=["x1","y1","x2","y2","key"],bbe=["offset"],wbe=["xAxisId","yAxisId"],jbe=["xAxisId","yAxisId"];function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(n){Nbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nbe(e,t,r){return(t=Sbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sbe(e){var t=Cbe(e,"string");return typeof t=="symbol"?t:t+""}function Cbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bl(){return bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bl.apply(null,arguments)}function wx(e,t){if(e==null)return{};var r,n,a=_be(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _be(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kbe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:l}=e;return h.createElement("rect",{x:n,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function oz(e,t){var r;if(h.isValidElement(e))r=h.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:o,key:l}=t,c=wx(t,ybe),d=Wo(c),u=wx(d,bbe);r=h.createElement("line",bl({},u,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function Ebe(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var i=wx(e,wbe),o=a.map((l,c)=>{var d=Kr(Kr({},i),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return oz(n,d)});return h.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Pbe(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var i=wx(e,jbe),o=a.map((l,c)=>{var d=Kr(Kr({},i),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return oz(n,d)});return h.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Abe(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=l.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==d[0]&&d.unshift(0);var u=d.map((f,m)=>{var p=!d[m+1],x=p?a+o-f:d[m+1]-f;if(x<=0)return null;var g=m%t.length;return h.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:x,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return h.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function Tbe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var d=c.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==d[0]&&d.unshift(0);var u=d.map((f,m)=>{var p=!d[m+1],x=p?a+o-f:d[m+1]-f;if(x<=0)return null;var g=m%r.length;return h.createElement("rect",{key:"react-".concat(m),x:f,y:i,width:x,height:l,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return h.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var Obe=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return X6(U_(Kr(Kr(Kr({},Qo.defaultProps),r),{},{ticks:eU(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},Rbe=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return X6(U_(Kr(Kr(Kr({},Qo.defaultProps),r),{},{ticks:eU(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},Dbe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function z_(e){var t=iU(),r=oU(),n=aU(),a=Kr(Kr({},Rs(e,Dbe)),{},{x:Pe(e.x)?e.x:n.left,y:Pe(e.y)?e.y:n.top,width:Pe(e.width)?e.width:n.width,height:Pe(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:d,height:u,syncWithTicks:f,horizontalValues:m,verticalValues:p}=a,x=Os(),g=Te(A=>fT(A,"xAxis",i,x)),w=Te(A=>fT(A,"yAxis",o,x));if(!Pe(d)||d<=0||!Pe(u)||u<=0||!Pe(l)||l!==+l||!Pe(c)||c!==+c)return null;var y=a.verticalCoordinatesGenerator||Obe,v=a.horizontalCoordinatesGenerator||Rbe,{horizontalPoints:b,verticalPoints:j}=a;if((!b||!b.length)&&typeof v=="function"){var N=m&&m.length,S=v({yAxis:w?Kr(Kr({},w),{},{ticks:N?m:w.ticks}):void 0,width:t,height:r,offset:n},N?!0:f);jf(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(b=S)}if((!j||!j.length)&&typeof y=="function"){var C=p&&p.length,k=y({xAxis:g?Kr(Kr({},g),{},{ticks:C?p:g.ticks}):void 0,width:t,height:r,offset:n},C?!0:f);jf(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(j=k)}return h.createElement("g",{className:"recharts-cartesian-grid"},h.createElement(kbe,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),h.createElement(Abe,bl({},a,{horizontalPoints:b})),h.createElement(Tbe,bl({},a,{verticalPoints:j})),h.createElement(Ebe,bl({},a,{offset:n,horizontalPoints:b,xAxis:g,yAxis:w})),h.createElement(Pbe,bl({},a,{offset:n,verticalPoints:j,xAxis:g,yAxis:w})))}z_.displayName="CartesianGrid";var lz=(e,t,r,n)=>sB(e,"xAxis",t,n),cz=(e,t,r,n)=>nB(e,"xAxis",t,n),dz=(e,t,r,n)=>sB(e,"yAxis",r,n),uz=(e,t,r,n)=>nB(e,"yAxis",r,n),Ibe=ae([bt,lz,dz,cz,uz],(e,t,r,n,a)=>qo(e,"xAxis")?qj(t,n,!1):qj(r,a,!1)),Mbe=(e,t,r,n,a)=>a;function Lbe(e){return e.type==="line"}var $be=ae([R8,Mbe],(e,t)=>e.filter(Lbe).find(r=>r.id===t)),Fbe=ae([bt,lz,dz,cz,uz,$be,Ibe,YC],(e,t,r,n,a,i,o,l)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:u}=l;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null)){var{dataKey:f,data:m}=i,p;if(m!=null&&m.length>0?p=m:p=c==null?void 0:c.slice(d,u+1),p!=null)return i0e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:p})}}),Ube=["id"],Bbe=["type","layout","connectNulls","needClip"],zbe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function tO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(r),!0).forEach(function(n){Vbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vbe(e,t,r){return(t=Wbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wbe(e){var t=qbe(e,"string");return typeof t=="symbol"?t:t+""}function qbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V_(e,t){if(e==null)return{};var r,n,a=Hbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Hbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xl.apply(null,arguments)}var Gbe=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:wy(r,t),payload:e}]};function Kbe(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:wy(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var fz=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Ybe(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var Qbe=(e,t,r)=>{var n=r.reduce((f,m)=>f+m);if(!n)return fz(t,e);for(var a=Math.floor(e/n),i=e%n,o=t-e,l=[],c=0,d=0;c<r.length;d+=r[c],++c)if(d+r[c]>i){l=[...r.slice(0,c),i-d];break}var u=l.length%2===0?[0,o]:[o];return[...Ybe(r,a),...l,...u].map(f=>"".concat(f,"px")).join(", ")};function Jbe(e,t){var r;if(h.isValidElement(e))r=h.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=ct("recharts-line-dot",typeof e!="boolean"?e.className:"");r=h.createElement(HB,Xl({},t,{className:n}))}return r}function Zbe(e,t){return e==null?!1:t?!0:e.length===1}function Xbe(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:o}=n;if(!Zbe(r,a))return null;var l=V_(n,Ube),c=LF(a),d=Wo(l),u=qt(a,!0),f=r.map((p,x)=>{var g=Js(Js(Js({key:"dot-".concat(x),r:3},d),u),{},{index:x,cx:p.x,cy:p.y,dataKey:i,value:p.value,payload:p.payload,points:r});return Jbe(a,g)}),m={clipPath:o?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return h.createElement(_s,Xl({className:"recharts-line-dots",key:"dots"},m),f)}function pN(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i,showLabels:o}=e,{type:l,layout:c,connectNulls:d,needClip:u}=i,f=V_(i,Bbe),m=Js(Js({},qt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:c,connectNulls:d,strokeDasharray:a??i.strokeDasharray});return h.createElement(h.Fragment,null,(n==null?void 0:n.length)>1&&h.createElement(NC,Xl({},m,{pathRef:r})),h.createElement(Xbe,{points:n,clipPathId:t,props:i}),o&&Rl.renderCallByParent(i,n))}function e0e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function t0e(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:f,animateNewValues:m,width:p,height:x,onAnimationEnd:g,onAnimationStart:w}=r,y=a.current,v=XB(r,"recharts-line-"),[b,j]=h.useState(!1),N=h.useCallback(()=>{typeof g=="function"&&g(),j(!1)},[g]),S=h.useCallback(()=>{typeof w=="function"&&w(),j(!0)},[w]),C=e0e(n.current),k=i.current;return h.createElement(rz,{begin:d,duration:u,isActive:c,easing:f,onAnimationEnd:N,onAnimationStart:S,key:v},A=>{var P=zu(k,C+k,A),_=Math.min(P,C),E;if(l){var M="".concat(l).split(/[,\s]+/gim).map(B=>parseFloat(B));E=Qbe(_,C,M)}else E=fz(C,_);if(y){var R=y.length/o.length,T=A===1?o:o.map((B,K)=>{var z=Math.floor(K*R);if(y[z]){var V=y[z];return Js(Js({},B),{},{x:zu(V.x,B.x,A),y:zu(V.y,B.y,A)})}return m?Js(Js({},B),{},{x:zu(p*2,B.x,A),y:zu(x/2,B.y,A)}):Js(Js({},B),{},{x:B.x,y:B.y})});return a.current=T,h.createElement(pN,{props:r,points:T,clipPathId:t,pathRef:n,showLabels:!b,strokeDasharray:E})}return A>0&&C>0&&(a.current=o,i.current=_),h.createElement(pN,{props:r,points:o,clipPathId:t,pathRef:n,showLabels:!b,strokeDasharray:E})})}function r0e(e){var{clipPathId:t,props:r}=e,{points:n,isAnimationActive:a}=r,i=h.useRef(null),o=h.useRef(0),l=h.useRef(null),c=i.current;return a&&n&&n.length&&c!==n?h.createElement(t0e,{props:r,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:o,pathRef:l}):h.createElement(pN,{props:r,points:n,clipPathId:t,pathRef:l,showLabels:!0})}var n0e=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Lt(e.payload,t)});class s0e extends h.Component{render(){var t,{hide:r,dot:n,points:a,className:i,xAxisId:o,yAxisId:l,top:c,left:d,width:u,height:f,id:m,needClip:p}=this.props;if(r)return null;var x=ct("recharts-line",i),g=m,{r:w=3,strokeWidth:y=2}=(t=qt(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},v=LF(n),b=w*2+y;return h.createElement(h.Fragment,null,h.createElement(_s,{className:x},p&&h.createElement("defs",null,h.createElement(Hye,{clipPathId:g,xAxisId:o,yAxisId:l}),!v&&h.createElement("clipPath",{id:"clipPath-dots-".concat(g)},h.createElement("rect",{x:d-b/2,y:c-b/2,width:u+b,height:f+b}))),h.createElement(r0e,{props:this.props,clipPathId:g}),h.createElement(qye,{xAxisId:o,yAxisId:l,data:a,dataPointFormatter:n0e,errorBarOffset:0},this.props.children)),h.createElement(Mye,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var hz={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!fu.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function a0e(e){var t=Rs(e,hz),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,hide:d,isAnimationActive:u,label:f,legendType:m,xAxisId:p,yAxisId:x,id:g}=t,w=V_(t,zbe),{needClip:y}=sz(p,x),v=$_(),b=jC(),j=Os(),N=Te(P=>Fbe(P,p,x,j,g));if(b!=="horizontal"&&b!=="vertical"||N==null||v==null)return null;var{height:S,width:C,x:k,y:A}=v;return h.createElement(s0e,Xl({},w,{id:g,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:u,hide:d,label:f,legendType:m,xAxisId:p,yAxisId:x,points:N,layout:b,height:S,width:C,left:k,top:A,needClip:y}))}function i0e(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((d,u)=>{var f=Lt(d,o);if(t==="horizontal"){var m=nA({axis:r,ticks:a,bandSize:l,entry:d,index:u}),p=cr(f)?null:n.scale(f);return{x:m,y:p,value:f,payload:d}}var x=cr(f)?null:r.scale(f),g=nA({axis:n,ticks:i,bandSize:l,entry:d,index:u});return x==null||g==null?null:{x,y:g,value:f,payload:d}}).filter(Boolean)}function W_(e){var t=Rs(e,hz),r=Os();return h.createElement(ez,{id:t.id,type:"line"},n=>h.createElement(h.Fragment,null,h.createElement(Wve,{legendPayload:Gbe(t)}),h.createElement(JB,{fn:Kbe,args:t}),h.createElement(nye,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),h.createElement(a0e,Xl({},t,{id:n}))))}W_.displayName="Line";function rO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(r),!0).forEach(function(n){o0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o0e(e,t,r){return(t=l0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l0e(e){var t=c0e(e,"string");return typeof t=="symbol"?t:t+""}function c0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d0e={xAxis:{},yAxis:{},zAxis:{}},mz=Qn({name:"cartesianAxis",initialState:d0e,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=nO(nO({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:u0e,removeXAxis:f0e,addYAxis:h0e,removeYAxis:m0e,addZAxis:QNe,removeZAxis:JNe,updateYAxisWidth:p0e}=mz.actions,g0e=mz.reducer,x0e=["children"],v0e=["dangerouslySetInnerHTML","ticks"];function pz(e,t,r){return(t=y0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y0e(e){var t=b0e(e,"string");return typeof t=="symbol"?t:t+""}function b0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gN(){return gN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gN.apply(null,arguments)}function gz(e,t){if(e==null)return{};var r,n,a=w0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function w0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function j0e(e){var t=ar(),r=h.useMemo(()=>{var i=gz(e,x0e);return i},[e]),n=Te(i=>Ni(i,r.id)),a=r===n;return h.useEffect(()=>(t(u0e(r)),()=>{t(f0e(r))}),[r,t]),a?e.children:null}var N0e=e=>{var{xAxisId:t,className:r}=e,n=Te(sU),a=Os(),i="xAxis",o=Te(f=>yu(f,i,t,a)),l=Te(f=>rB(f,i,t,a)),c=Te(f=>jpe(f,t)),d=Te(f=>kpe(f,t));if(c==null||d==null)return null;var u=gz(e,v0e);return h.createElement(Qo,gN({},u,{scale:o,x:d.x,y:d.y,width:c.width,height:c.height,className:ct("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l}))},S0e=e=>{var t,r,n,a,i;return h.createElement(j0e,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},h.createElement(N0e,e))};class Uy extends h.Component{render(){return h.createElement(S0e,this.props)}}pz(Uy,"displayName","XAxis");pz(Uy,"defaultProps",{allowDataOverflow:On.allowDataOverflow,allowDecimals:On.allowDecimals,allowDuplicatedCategory:On.allowDuplicatedCategory,height:On.height,hide:!1,mirror:On.mirror,orientation:On.orientation,padding:On.padding,reversed:On.reversed,scale:On.scale,tickCount:On.tickCount,type:On.type,xAxisId:0});var C0e=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+i,d=o+c+l+(r?n:0);return Math.round(d)}return 0},_0e=["dangerouslySetInnerHTML","ticks"];function xz(e,t,r){return(t=k0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k0e(e){var t=E0e(e,"string");return typeof t=="symbol"?t:t+""}function E0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xN(){return xN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xN.apply(null,arguments)}function P0e(e,t){if(e==null)return{};var r,n,a=A0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function A0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function T0e(e){var t=ar();return h.useEffect(()=>(t(h0e(e)),()=>{t(m0e(e))}),[e,t]),null}var O0e=e=>{var t,{yAxisId:r,className:n,width:a,label:i}=e,o=h.useRef(null),l=h.useRef(null),c=Te(sU),d=Os(),u=ar(),f="yAxis",m=Te(y=>yu(y,f,r,d)),p=Te(y=>Ppe(y,r)),x=Te(y=>Epe(y,r)),g=Te(y=>rB(y,f,r,d));if(h.useLayoutEffect(()=>{var y;if(!(a!=="auto"||!p||T_(i)||h.isValidElement(i))){var v=o.current,b=v==null||(y=v.tickRefs)===null||y===void 0?void 0:y.current,{tickSize:j,tickMargin:N}=v.props,S=C0e({ticks:b,label:l.current,labelGapWithTick:5,tickSize:j,tickMargin:N});Math.round(p.width)!==Math.round(S)&&u(p0e({id:r,width:S}))}},[o,o==null||(t=o.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,p==null?void 0:p.width,p,u,i,r,a]),p==null||x==null)return null;var w=P0e(e,_0e);return h.createElement(Qo,xN({},w,{ref:o,labelRef:l,scale:m,x:x.x,y:x.y,width:p.width,height:p.height,className:ct("recharts-".concat(f," ").concat(f),n),viewBox:c,ticks:g}))},R0e=e=>{var t,r,n,a,i;return h.createElement(h.Fragment,null,h.createElement(T0e,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),h.createElement(O0e,e))},D0e={allowDataOverflow:Rn.allowDataOverflow,allowDecimals:Rn.allowDecimals,allowDuplicatedCategory:Rn.allowDuplicatedCategory,hide:!1,mirror:Rn.mirror,orientation:Rn.orientation,padding:Rn.padding,reversed:Rn.reversed,scale:Rn.scale,tickCount:Rn.tickCount,type:Rn.type,width:Rn.width,yAxisId:0};class By extends h.Component{render(){return h.createElement(R0e,this.props)}}xz(By,"displayName","YAxis");xz(By,"defaultProps",D0e);var I0e={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm=h;function M0e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var L0e=typeof Object.is=="function"?Object.is:M0e,$0e=fm.useSyncExternalStore,F0e=fm.useRef,U0e=fm.useEffect,B0e=fm.useMemo,z0e=fm.useDebugValue;I0e.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=F0e(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=B0e(function(){function c(p){if(!d){if(d=!0,u=p,p=n(p),a!==void 0&&o.hasValue){var x=o.value;if(a(x,p))return f=x}return f=p}if(x=f,L0e(u,p))return x;var g=n(p);return a!==void 0&&a(x,g)?(u=p,x):(u=p,f=g)}var d=!1,u,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var l=$0e(e,i[0],i[1]);return U0e(function(){o.hasValue=!0,o.value=l},[l]),z0e(l),l};function V0e(e){e()}function W0e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){V0e(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var sO={notify(){},get:()=>[]};function q0e(e,t){let r,n=sO,a=0,i=!1;function o(g){u();const w=n.subscribe(g);let y=!1;return()=>{y||(y=!0,w(),f())}}function l(){n.notify()}function c(){x.onStateChange&&x.onStateChange()}function d(){return i}function u(){a++,r||(r=e.subscribe(c),n=W0e())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=sO)}function m(){i||(i=!0,u())}function p(){i&&(i=!1,f())}const x={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:m,tryUnsubscribe:p,getListeners:()=>n};return x}var H0e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",G0e=H0e(),K0e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Y0e=K0e(),Q0e=()=>G0e||Y0e?h.useLayoutEffect:h.useEffect,J0e=Q0e(),P0=Symbol.for("react-redux-context"),A0=typeof globalThis<"u"?globalThis:{};function Z0e(){if(!h.createContext)return{};const e=A0[P0]??(A0[P0]=new Map);let t=e.get(h.createContext);return t||(t=h.createContext(null),e.set(h.createContext,t)),t}var X0e=Z0e();function ewe(e){const{children:t,context:r,serverState:n,store:a}=e,i=h.useMemo(()=>{const c=q0e(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),o=h.useMemo(()=>a.getState(),[a]);J0e(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||X0e;return h.createElement(l.Provider,{value:i},t)}var twe=ewe,rwe=(e,t)=>t,q_=ae([rwe,bt,P8,wr,yB,Si,Ige,Er],Uge),H_=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},vz=ks("mouseClick"),yz=Xh();yz.startListening({actionCreator:vz,effect:(e,t)=>{var r=e.payload,n=q_(t.getState(),H_(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(zpe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var vN=ks("mouseMove"),bz=Xh();bz.startListening({actionCreator:vN,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=j_(n,n.tooltip.settings.shared),i=q_(n,H_(r));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(fB({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(uB()))}});function nwe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var aO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},wz=Qn({name:"rootProps",initialState:aO,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:aO.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),swe=wz.reducer,{updateOptions:awe}=wz.actions,jz=Qn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:iwe}=jz.actions,owe=jz.reducer,Nz=ks("keyDown"),Sz=ks("focus"),G_=Xh();G_.startListening({actionCreator:Nz,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(N_(a,wu(r))),l=Si(r);if(i==="Enter"){var c=mx(r,"axis","hover",String(a.index));t.dispatch(dN({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var d=Rpe(r),u=d==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,m=o+f*u;if(!(l==null||m>=l.length||m<0)){var p=mx(r,"axis","hover",String(m));t.dispatch(dN({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});G_.startListening({actionCreator:Sz,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=mx(r,"axis","hover",String(i));t.dispatch(dN({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var ts=ks("externalEvent"),Cz=Xh();Cz.startListening({actionCreator:ts,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:Cge(r),activeDataKey:Nge(r),activeIndex:Wd(r),activeLabel:jB(r),activeTooltipIndex:Wd(r),isTooltipActive:_ge(r)};e.payload.handler(n,e.payload.reactEvent)}}});var lwe=ae([bu],e=>e.tooltipItemPayloads),cwe=ae([lwe,cm,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),_z=ks("touchMove"),kz=Xh();kz.startListening({actionCreator:_z,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=j_(n,n.tooltip.settings.shared);if(a==="axis"){var i=q_(n,H_({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(fB({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(rU),u=(o=c.getAttribute(nU))!==null&&o!==void 0?o:void 0,f=cwe(t.getState(),d,u);t.dispatch(dB({activeDataKey:u,activeIndex:d,activeCoordinate:f}))}}});var dwe=E6({brush:Kye,cartesianAxis:g0e,chartData:txe,errorBars:Fye,graphicalItems:rye,layout:sde,legend:Fde,options:Qge,polarAxis:yve,polarOptions:owe,referenceElements:rbe,rootProps:swe,tooltip:Vpe}),uwe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Pce({reducer:dwe,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([yz.middleware,bz.middleware,G_.middleware,Cz.middleware,kz.middleware]),devTools:{serialize:{replacer:nwe},name:"recharts-".concat(r)}})};function Ez(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Os(),i=h.useRef(null);if(a)return r;i.current==null&&(i.current=uwe(t,n));var o=uC;return h.createElement(twe,{context:o,store:i.current},r)}function Pz(e){var{layout:t,width:r,height:n,margin:a}=e,i=ar(),o=Os();return h.useEffect(()=>{o||(i(tde(t)),i(rde({width:r,height:n})),i(ede(a)))},[i,o,t,r,n,a]),null}function Az(e){var t=ar();return h.useEffect(()=>{t(awe(e))},[t,e]),null}var fwe=["children"];function hwe(e,t){if(e==null)return{};var r,n,a=mwe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mwe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jx.apply(null,arguments)}var pwe={width:"100%",height:"100%"},gwe=h.forwardRef((e,t)=>{var r=iU(),n=oU(),a=uU();if(!Fd(r)||!Fd(n))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,d,u;return typeof o.tabIndex=="number"?d=o.tabIndex:d=a?0:void 0,typeof o.role=="string"?u=o.role:u=a?"application":void 0,h.createElement($F,jx({},o,{title:l,desc:c,role:u,tabIndex:d,width:r,height:n,style:pwe,ref:t}),i)}),xwe=e=>{var{children:t}=e,r=Te(Sy);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return h.createElement($F,{width:n,height:a,x:o,y:i},t)},iO=h.forwardRef((e,t)=>{var{children:r}=e,n=hwe(e,fwe),a=Os();return a?h.createElement(xwe,null,r):h.createElement(gwe,jx({ref:t},n),r)});function vwe(){var e=ar(),[t,r]=h.useState(null),n=Te(Ade);return h.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;da(i)&&i!==n&&e(nde(i))}},[t,e,n]),r}function oO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ywe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oO(Object(r),!0).forEach(function(n){bwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bwe(e,t,r){return(t=wwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wwe(e){var t=jwe(e,"string");return typeof t=="symbol"?t:t+""}function jwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nwe=h.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:f,onMouseUp:m,onTouchEnd:p,onTouchMove:x,onTouchStart:g,style:w,width:y}=e,v=ar(),[b,j]=h.useState(null),[N,S]=h.useState(null);sxe();var C=vwe(),k=h.useCallback(D=>{C(D),typeof t=="function"&&t(D),j(D),S(D)},[C,t,j,S]),A=h.useCallback(D=>{v(vz(D)),v(ts({handler:i,reactEvent:D}))},[v,i]),P=h.useCallback(D=>{v(vN(D)),v(ts({handler:d,reactEvent:D}))},[v,d]),_=h.useCallback(D=>{v(uB()),v(ts({handler:u,reactEvent:D}))},[v,u]),E=h.useCallback(D=>{v(vN(D)),v(ts({handler:f,reactEvent:D}))},[v,f]),M=h.useCallback(()=>{v(Sz())},[v]),R=h.useCallback(D=>{v(Nz(D.key))},[v]),T=h.useCallback(D=>{v(ts({handler:o,reactEvent:D}))},[v,o]),B=h.useCallback(D=>{v(ts({handler:l,reactEvent:D}))},[v,l]),K=h.useCallback(D=>{v(ts({handler:c,reactEvent:D}))},[v,c]),z=h.useCallback(D=>{v(ts({handler:m,reactEvent:D}))},[v,m]),V=h.useCallback(D=>{v(ts({handler:g,reactEvent:D}))},[v,g]),F=h.useCallback(D=>{v(_z(D)),v(ts({handler:x,reactEvent:D}))},[v,x]),W=h.useCallback(D=>{v(ts({handler:p,reactEvent:D}))},[v,p]);return h.createElement(EB.Provider,{value:b},h.createElement(Voe.Provider,{value:N},h.createElement("div",{className:ct("recharts-wrapper",n),style:ywe({position:"relative",cursor:"default",width:y,height:a},w),onClick:A,onContextMenu:T,onDoubleClick:B,onFocus:M,onKeyDown:R,onMouseDown:K,onMouseEnter:P,onMouseLeave:_,onMouseMove:E,onMouseUp:z,onTouchEnd:W,onTouchMove:F,onTouchStart:V,ref:k},r)))}),Swe=["children","className","width","height","style","compact","title","desc"];function Cwe(e,t){if(e==null)return{};var r,n,a=_we(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _we(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Tz=h.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:i,style:o,compact:l,title:c,desc:d}=e,u=Cwe(e,Swe),f=Wo(u);return l?h.createElement(iO,{otherAttributes:f,title:c,desc:d},r):h.createElement(Nwe,{className:n,style:o,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},h.createElement(iO,{otherAttributes:f,title:c,desc:d,ref:t},h.createElement(sbe,null,r)))}),kwe=["width","height"];function yN(){return yN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yN.apply(null,arguments)}function Ewe(e,t){if(e==null)return{};var r,n,a=Pwe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Pwe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Awe={top:5,right:5,bottom:5,left:5},Twe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Awe,reverseStackOrder:!1,syncMethod:"index"},Owe=h.forwardRef(function(t,r){var n,a=Rs(t.categoricalChartProps,Twe),{width:i,height:o}=a,l=Ewe(a,kwe);if(!Fd(i)||!Fd(o))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:m}=t,p={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return h.createElement(Ez,{preloadedState:{options:p},reduxStoreName:(n=m.id)!==null&&n!==void 0?n:c},h.createElement(az,{chartData:m.data}),h.createElement(Pz,{width:i,height:o,layout:a.layout,margin:a.margin}),h.createElement(Az,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),h.createElement(Tz,yN({},l,{width:i,height:o,ref:r})))}),Rwe=["axis"],Oz=h.forwardRef((e,t)=>h.createElement(Owe,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Rwe,tooltipPayloadSearcher:AB,categoricalChartProps:e,ref:t}));function Dwe(e){var t=ar();return h.useEffect(()=>{t(iwe(e))},[t,e]),null}var Iwe=["width","height","layout"];function bN(){return bN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bN.apply(null,arguments)}function Mwe(e,t){if(e==null)return{};var r,n,a=Lwe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lwe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $we={top:5,right:5,bottom:5,left:5},Fwe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:$we,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Uwe=h.forwardRef(function(t,r){var n,a=Rs(t.categoricalChartProps,Fwe),{width:i,height:o,layout:l}=a,c=Mwe(a,Iwe);if(!Fd(i)||!Fd(o))return null;var{chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:m}=t,p={chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:m,eventEmitter:void 0};return h.createElement(Ez,{preloadedState:{options:p},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:d},h.createElement(az,{chartData:a.data}),h.createElement(Pz,{width:i,height:o,layout:l,margin:a.margin}),h.createElement(Az,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),h.createElement(Dwe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),h.createElement(Tz,bN({width:i,height:o},c,{ref:r})))}),Bwe=["item"],zwe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Rz=h.forwardRef((e,t)=>{var r=Rs(e,zwe);return h.createElement(Uwe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Bwe,tooltipPayloadSearcher:AB,categoricalChartProps:r,ref:t})});function Dz({open:e,onOpenChange:t,onUserAdded:r}){const[n,a]=h.useState(!1),[i,o]=h.useState({firstName:"",lastName:"",email:"",mobile:"",password:"",status:"active"}),l=async d=>{d.preventDefault(),a(!0);try{if(!i.email||!i.password)throw new Error("Email and password are required");if(i.password.length<6)throw new Error("Password must be at least 6 characters long");const{data:u,error:f}=await $.auth.signUp({email:i.email,password:i.password,options:{data:{first_name:i.firstName,last_name:i.lastName,mobile:i.mobile}}});if(f)throw f;if(!u.user)throw new Error("Failed to create user account");if(i.status!=="active"){const{error:m}=await $.from("profiles").update({status:i.status}).eq("id",u.user.id);m&&console.error("Error updating profile status:",m)}re({title:"User Created",description:`Successfully created account for ${i.email}`}),o({firstName:"",lastName:"",email:"",mobile:"",password:"",status:"active"}),r(),t(!1)}catch(u){console.error("Error creating user:",u),re({title:"Error",description:u.message||"Failed to create user",variant:"destructive"})}finally{a(!1)}},c=(d,u)=>{o(f=>({...f,[d]:u}))};return s.jsx(Xe,{open:e,onOpenChange:t,children:s.jsxs(Qe,{className:"sm:max-w-[425px]",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Add New User"}),s.jsx(En,{children:"Create a new user account for the Tagmentia platform."})]}),s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"firstName",children:"First Name"}),s.jsx(de,{id:"firstName",placeholder:"Enter first name",value:i.firstName,onChange:d=>c("firstName",d.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"lastName",children:"Last Name"}),s.jsx(de,{id:"lastName",placeholder:"Enter last name",value:i.lastName,onChange:d=>c("lastName",d.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"email",children:"Email *"}),s.jsx(de,{id:"email",type:"email",placeholder:"Enter email address",value:i.email,onChange:d=>c("email",d.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"mobile",children:"Mobile Number"}),s.jsx(de,{id:"mobile",type:"tel",placeholder:"+1 (234) 567-8900",value:i.mobile,onChange:d=>c("mobile",d.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"password",children:"Password *"}),s.jsx(de,{id:"password",type:"password",placeholder:"Enter password (min 6 characters)",value:i.password,onChange:d=>c("password",d.target.value),required:!0,minLength:6})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"status",children:"Account Status"}),s.jsxs(qe,{value:i.status,onValueChange:d=>c("status",d),children:[s.jsx(Ve,{children:s.jsx(He,{placeholder:"Select status"})}),s.jsxs(We,{children:[s.jsx(se,{value:"active",children:"Active"}),s.jsx(se,{value:"frozen",children:"Frozen"})]})]})]}),s.jsxs(ln,{children:[s.jsx(O,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),s.jsx(O,{type:"submit",disabled:n,children:n?"Creating...":"Create User"})]})]})]})})}const Vwe=()=>{const[e,t]=h.useState({totalUsers:0,activeSubscriptions:0,totalRevenue:0,videosCount:0,categoriesCount:0,userGrowthData:[],subscriptionData:[]}),[r,n]=h.useState(!0),[a,i]=h.useState(null),o=async()=>{try{n(!0);const{count:l,error:c}=await $.from("profiles").select("*",{count:"exact",head:!0});if(c)throw c;const{count:d,error:u}=await $.from("user_subscriptions").select("*",{count:"exact",head:!0}).eq("status","active").or("end_date.is.null,end_date.gt.now()");if(u)throw u;let f=0;try{const{data:P,error:_}=await $.rpc("get_total_videos_count");if(_){console.error("Error fetching videos count via RPC:",_);const{count:E,error:M}=await $.from("videos").select("*",{count:"exact",head:!0});if(M)throw M;f=E||0}else f=Number(P)||0}catch(P){console.error("Error in videos count query:",P),f=0}let m=0;try{const{data:P,error:_}=await $.rpc("get_total_categories_count");if(_){console.error("Error fetching categories count via RPC:",_);const{count:E,error:M}=await $.from("categories").select("*",{count:"exact",head:!0});if(M)throw M;m=E||0}else m=Number(P)||0}catch(P){console.error("Error in categories count query:",P),m=0}const{data:p,error:x}=await $.from("profiles").select("created_at").gte("created_at",new Date(Date.now()-6*30*24*60*60*1e3).toISOString()).order("created_at");if(x)throw x;const g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],w=new Map;for(let P=5;P>=0;P--){const _=new Date;_.setMonth(_.getMonth()-P);const E=`${g[_.getMonth()]}-${_.getFullYear()}`;w.set(E,0)}p==null||p.forEach(P=>{const _=new Date(P.created_at),E=`${g[_.getMonth()]}-${_.getFullYear()}`;w.set(E,(w.get(E)||0)+1)});const y=Array.from(w.entries()).map(([P,_])=>({month:P.split("-")[0],users:_})),{data:v,error:b}=await $.from("user_subscriptions").select(`
          plan_id,
          plans!inner (
            name
          )
        `).eq("status","active").or("end_date.is.null,end_date.gt.now()");if(b)throw b;const j=new Map;v==null||v.forEach(P=>{var E;const _=((E=P.plans)==null?void 0:E.name)||"Unknown";j.set(_,(j.get(_)||0)+1)});const N=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"],S=Array.from(j.entries()).map(([P,_],E)=>({name:P,value:_,color:N[E%N.length]})),{data:C,error:k}=await $.from("user_subscriptions").select(`
          plans!inner (
            price_monthly,
            price_yearly
          ),
          billing_interval
        `).eq("status","active").or("end_date.is.null,end_date.gt.now()");if(k)throw k;let A=0;C==null||C.forEach(P=>{const _=P.plans;_&&(P.billing_interval==="yearly"?A+=Number(_.price_yearly)||0:A+=Number(_.price_monthly)||0)}),t({totalUsers:l||0,activeSubscriptions:d||0,totalRevenue:A,videosCount:f||0,categoriesCount:m||0,userGrowthData:y,subscriptionData:S})}catch(l){console.error("Error fetching dashboard data:",l),i("Failed to load dashboard data")}finally{n(!1)}};return h.useEffect(()=>{o()},[]),{stats:e,loading:r,error:a,refetch:o}};function lO(){Ie();const[e,t]=h.useState(!1),{stats:r,loading:n,error:a}=Vwe(),i=()=>{t(!0)},o=()=>{re({title:"System Logs",description:"Check the Supabase dashboard for detailed system logs and analytics."})},l=async()=>{try{re({title:"Generating Report",description:"Your user report is being prepared..."});const{data:d,error:u}=await $.from("profiles").select("*").order("created_at",{ascending:!1});if(u)throw u;const m=[["ID","Email","First Name","Last Name","Status","Created At"].join(","),...d.map(w=>[w.id,w.email||"",w.first_name||"",w.last_name||"",w.status||"active",new Date(w.created_at).toISOString().split("T")[0]].join(","))].join(`
`),p=new Blob([m],{type:"text/csv"}),x=window.URL.createObjectURL(p),g=document.createElement("a");g.href=x,g.download=`users-report-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(x),re({title:"Report Generated",description:"User report has been downloaded successfully."})}catch(d){re({title:"Error",description:d.message||"Failed to generate report",variant:"destructive"})}},c=()=>{re({title:"Success",description:"User has been added successfully."})};return s.jsxs("div",{className:"flex-1 space-y-6 p-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Admin Dashboard Home"})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[s.jsxs(Y,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(le,{className:"text-sm font-medium text-muted-foreground",children:"Total Users"}),s.jsx(E1,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold",children:n?"Loading...":r.totalUsers.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total registered users"})]})]}),s.jsxs(Y,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(le,{className:"text-sm font-medium text-muted-foreground",children:"Active Subscriptions"}),s.jsx(cg,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold",children:n?"Loading...":r.activeSubscriptions.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active subscriptions"})]})]}),s.jsxs(Y,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(le,{className:"text-sm font-medium text-muted-foreground",children:"Revenue This Month"}),s.jsx(Dw,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold",children:n?"Loading...":`$${r.totalRevenue.toLocaleString()}`}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total recurring revenue"})]})]}),s.jsxs(Y,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(le,{className:"text-sm font-medium text-muted-foreground",children:"Total Videos"}),s.jsx(_W,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold",children:n?"Loading...":r.videosCount.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total videos saved by users"})]})]}),s.jsxs(Y,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(le,{className:"text-sm font-medium text-muted-foreground",children:"Total Categories"}),s.jsx(Lr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold",children:n?"Loading...":r.categoriesCount.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total categories created by users"})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{children:"User Growth Over Time"})}),s.jsx(X,{children:n?s.jsx("div",{className:"flex items-center justify-center h-[300px]",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading chart data..."})}):s.jsx(gx,{width:"100%",height:300,children:s.jsxs(Oz,{data:r.userGrowthData,children:[s.jsx(z_,{strokeDasharray:"3 3"}),s.jsx(Uy,{dataKey:"month"}),s.jsx(By,{}),s.jsx(px,{}),s.jsx(W_,{type:"monotone",dataKey:"users",stroke:"#3B82F6",strokeWidth:2,dot:{fill:"#3B82F6"}})]})})})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{children:"Subscription Plan Distribution"})}),s.jsx(X,{children:n?s.jsx("div",{className:"flex items-center justify-center h-[300px]",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading chart data..."})}):r.subscriptionData.length>0?s.jsxs(s.Fragment,{children:[s.jsx(gx,{width:"100%",height:300,children:s.jsxs(Rz,{children:[s.jsx(L_,{data:r.subscriptionData,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:r.subscriptionData.map((d,u)=>s.jsx(um,{fill:d.color},`cell-${u}`))}),s.jsx(px,{})]})}),s.jsx("div",{className:"flex justify-center mt-4 space-x-4",children:r.subscriptionData.map(d=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:d.color}}),s.jsx("span",{className:"text-sm text-muted-foreground",children:d.name})]},d.name))})]}):s.jsx("div",{className:"flex items-center justify-center h-[300px]",children:s.jsx("div",{className:"text-muted-foreground",children:"No subscription data available"})})})]})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{children:"Quick Actions"})}),s.jsx(X,{children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(O,{className:"h-12 flex items-center justify-center space-x-2",onClick:i,children:[s.jsx(qW,{className:"h-4 w-4"}),s.jsx("span",{children:"Add New User"})]}),s.jsxs(O,{variant:"outline",className:"h-12 flex items-center justify-center space-x-2",onClick:o,children:[s.jsx(Mr,{className:"h-4 w-4"}),s.jsx("span",{children:"View System Logs"})]}),s.jsxs(O,{variant:"outline",className:"h-12 flex items-center justify-center space-x-2",onClick:l,children:[s.jsx(SW,{className:"h-4 w-4"}),s.jsx("span",{children:"Generate Report"})]})]})})]}),s.jsx(Dz,{open:e,onOpenChange:t,onUserAdded:c})]})}const ju=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:ne("w-full caption-bottom text-sm",e),...t})}));ju.displayName="Table";const Nu=h.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:ne("[&_tr]:border-b",e),...t}));Nu.displayName="TableHeader";const Su=h.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:ne("[&_tr:last-child]:border-0",e),...t}));Su.displayName="TableBody";const Wwe=h.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:ne("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Wwe.displayName="TableFooter";const _n=h.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:ne("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));_n.displayName="TableRow";const nt=h.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:ne("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));nt.displayName="TableHead";const Ze=h.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:ne("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ze.displayName="TableCell";const qwe=h.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:ne("mt-4 text-sm text-muted-foreground",e),...t}));qwe.displayName="TableCaption";function Hwe({user:e,open:t,onOpenChange:r,onUserUpdated:n}){const[a,i]=h.useState(!1),[o,l]=h.useState({first_name:(e==null?void 0:e.first_name)||"",last_name:(e==null?void 0:e.last_name)||"",email:(e==null?void 0:e.email)||"",mobile:(e==null?void 0:e.mobile)||"",birth_date:(e==null?void 0:e.birth_date)||"",status:(e==null?void 0:e.status)||"active"}),{toast:c}=Ge();h.useEffect(()=>{e&&l({first_name:e.first_name||"",last_name:e.last_name||"",email:e.email||"",mobile:e.mobile||"",birth_date:e.birth_date||"",status:e.status||"active"})},[e]);const d=async u=>{if(u.preventDefault(),!!e){i(!0);try{const{error:f}=await $.from("profiles").update({first_name:o.first_name||null,last_name:o.last_name||null,email:o.email,mobile:o.mobile||null,birth_date:o.birth_date||null,status:o.status}).eq("id",e.id);if(f)throw f;c({title:"Success",description:"User updated successfully"}),n(),r(!1)}catch(f){console.error("Error updating user:",f),c({title:"Error",description:"Failed to update user",variant:"destructive"})}finally{i(!1)}}};return s.jsx(Xe,{open:t,onOpenChange:r,children:s.jsxs(Qe,{className:"sm:max-w-[425px]",children:[s.jsx(et,{children:s.jsx(tt,{children:"Edit User"})}),s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"email",children:"Email"}),s.jsx(de,{id:"email",type:"email",value:o.email,onChange:u=>l({...o,email:u.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"first_name",children:"First Name"}),s.jsx(de,{id:"first_name",value:o.first_name,onChange:u=>l({...o,first_name:u.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"last_name",children:"Last Name"}),s.jsx(de,{id:"last_name",value:o.last_name,onChange:u=>l({...o,last_name:u.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"mobile",children:"Phone Number"}),s.jsx(de,{id:"mobile",type:"tel",value:o.mobile,onChange:u=>l({...o,mobile:u.target.value}),placeholder:"Enter phone number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"birth_date",children:"Birth Date"}),s.jsx(de,{id:"birth_date",type:"date",value:o.birth_date,onChange:u=>l({...o,birth_date:u.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"status",children:"Status"}),s.jsxs(qe,{value:o.status,onValueChange:u=>l({...o,status:u}),children:[s.jsx(Ve,{children:s.jsx(He,{placeholder:"Select status"})}),s.jsxs(We,{children:[s.jsx(se,{value:"active",children:"Active"}),s.jsx(se,{value:"frozen",children:"Frozen"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(O,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:a,children:"Cancel"}),s.jsx(O,{type:"submit",disabled:a,children:a?"Updating...":"Update User"})]})]})]})})}function Gwe({user:e,open:t,onOpenChange:r,onUserUpdated:n}){const[a,i]=h.useState(!1),{toast:o}=Ge(),l=u=>u.first_name||u.last_name?`${u.first_name||""} ${u.last_name||""}`.trim():u.email.split("@")[0],c=(e==null?void 0:e.status)==="frozen",d=async()=>{if(e){i(!0);try{const u=c?"active":"frozen",{error:f}=await $.from("profiles").update({status:u}).eq("id",e.id);if(f)throw f;o({title:"Success",description:`User ${c?"unfrozen":"frozen"} successfully`}),n(),r(!1)}catch(u){console.error("Error updating user status:",u),o({title:"Error",description:`Failed to ${c?"unfreeze":"freeze"} user`,variant:"destructive"})}finally{i(!1)}}};return e?s.jsx(Xe,{open:t,onOpenChange:r,children:s.jsxs(Qe,{className:"sm:max-w-[425px]",children:[s.jsxs(et,{children:[s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(_D,{className:"h-5 w-5"}),c?"Unfreeze User":"Freeze User"]}),s.jsx(En,{children:c?`Are you sure you want to unfreeze ${l(e)}? This will restore their account access.`:`Are you sure you want to freeze ${l(e)}? This will suspend their account access.`})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(O,{variant:"outline",onClick:()=>r(!1),disabled:a,children:"Cancel"}),s.jsx(O,{variant:c?"default":"destructive",onClick:d,disabled:a,children:a?c?"Unfreezing...":"Freezing...":c?"Unfreeze User":"Freeze User"})]})]})}):null}function Kwe({user:e,open:t,onOpenChange:r,onUserDeleted:n}){const[a,i]=h.useState(!1),[o,l]=h.useState(""),{toast:c}=Ge(),d=m=>m.first_name||m.last_name?`${m.first_name||""} ${m.last_name||""}`.trim():m.email.split("@")[0],u=async()=>{if(e){i(!0);try{const{data:{session:m}}=await $.auth.getSession();if(!m)throw new Error("No active session");await ti.logAdminAction(m.user.id,"delete_user",e.id,{target_user_email:e.email,target_user_name:d(e)});const p=await fetch("https://vgsavnlyathtlvrevtjb.supabase.co/functions/v1/delete-user",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m.access_token}`},body:JSON.stringify({userId:e.id})}),x=await p.json();if(!p.ok)throw new Error(x.error||"Failed to delete user");c({title:"Success",description:"User deleted successfully"}),n(),r(!1),l("")}catch(m){console.error("Error deleting user:",m);const{data:{session:p}}=await $.auth.getSession();p&&await ti.logAdminAction(p.user.id,"delete_user_failed",e.id,{error:m.message,target_user_email:e.email}),c({title:"Error",description:"Failed to delete user. Please try again.",variant:"destructive"})}finally{i(!1)}}},f=o==="DELETE";return e?s.jsx(Xe,{open:t,onOpenChange:r,children:s.jsxs(Qe,{className:"sm:max-w-[425px]",children:[s.jsxs(et,{children:[s.jsxs(tt,{className:"flex items-center gap-2 text-destructive",children:[s.jsx(yt,{className:"h-5 w-5"}),"Delete User"]}),s.jsxs(En,{children:["This action cannot be undone. This will permanently delete"," ",s.jsx("strong",{children:d(e)}),"'s account and remove all their data from our servers."]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:"confirm",children:["Type ",s.jsx("strong",{children:"DELETE"})," to confirm:"]}),s.jsx(de,{id:"confirm",value:o,onChange:m=>l(m.target.value),placeholder:"DELETE"})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(O,{variant:"outline",onClick:()=>{r(!1),l("")},disabled:a,children:"Cancel"}),s.jsx(O,{variant:"destructive",onClick:u,disabled:a||!f,children:a?"Deleting...":"Delete User"})]})]})]})}):null}function Ywe({open:e,onOpenChange:t,onUsersDeleted:r}){const[n,a]=h.useState(!1),[i,o]=h.useState(""),[l,c]=h.useState(""),d=async()=>{if(!l.trim()){re({title:"Error",description:"Please enter user IDs to delete",variant:"destructive"});return}a(!0);try{const m=l.split(/[,\n\r]+/).map(w=>w.trim()).filter(w=>w.length>0);if(m.length===0)throw new Error("No valid user IDs found");const{data:{session:p}}=await $.auth.getSession();if(!p)throw new Error("No active session");const x=await fetch("https://vgsavnlyathtlvrevtjb.supabase.co/functions/v1/bulk-delete-users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p.access_token}`},body:JSON.stringify({userIds:m})}),g=await x.json();if(!x.ok)throw new Error(g.error||"Failed to delete users");g.results.failed>0?re({title:"Partial Success",description:`Successfully deleted ${g.results.successful} users. Failed to delete ${g.results.failed} users.`,variant:"destructive"}):re({title:"Success",description:`Successfully deleted all ${g.results.successful} users`}),r(),t(!1),o(""),c("")}catch(m){console.error("Error bulk deleting users:",m),re({title:"Error",description:m.message||"Failed to delete users",variant:"destructive"})}finally{a(!1)}},u=i==="DELETE USERS",f=()=>{c(["d1628cd3-76b2-4f63-91a3-19e8949967dd","53c07167-e249-48c7-864f-c56f843e062e","a52b2604-df47-4ca2-a145-7b724a135d08","46065f08-1fdd-4191-a1e7-a804a77b02ba"].join(`
`))};return s.jsx(Xe,{open:e,onOpenChange:t,children:s.jsxs(Qe,{className:"sm:max-w-[525px]",children:[s.jsxs(et,{children:[s.jsxs(tt,{className:"flex items-center gap-2 text-destructive",children:[s.jsx(yt,{className:"h-5 w-5"}),"Bulk Delete Users"]}),s.jsxs(En,{className:"flex items-start gap-2",children:[s.jsx(us,{className:"h-4 w-4 text-orange-500 mt-0.5 flex-shrink-0"}),"This action cannot be undone. This will permanently delete all specified users and remove all their data from our servers."]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Q,{htmlFor:"userIds",children:"User IDs (one per line or comma-separated):"}),s.jsx(O,{type:"button",variant:"outline",size:"sm",onClick:f,children:"Fill Specific Users"})]}),s.jsx(_r,{id:"userIds",value:l,onChange:m=>c(m.target.value),placeholder:`Enter user IDs here...
d1628cd3-76b2-4f63-91a3-19e8949967dd
53c07167-e249-48c7-864f-c56f843e062e`,className:"h-32"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:"confirm",children:["Type ",s.jsx("strong",{children:"DELETE USERS"})," to confirm:"]}),s.jsx(de,{id:"confirm",value:i,onChange:m=>o(m.target.value),placeholder:"DELETE USERS"})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(O,{variant:"outline",onClick:()=>{t(!1),o(""),c("")},disabled:n,children:"Cancel"}),s.jsx(O,{variant:"destructive",onClick:d,disabled:n||!u||!l.trim(),children:n?"Deleting...":"Delete Users"})]})]})]})})}const Qwe=({open:e,onOpenChange:t,selectedUser:r,onSuccess:n})=>{const[a,i]=h.useState(!1),[o,l]=h.useState([]),[c,d]=h.useState([]),[u,f]=h.useState([]),[m,p]=h.useState("assign"),[x,g]=h.useState(""),[w,y]=h.useState({code:"",plan_id:"",validity_days:30,validity_period:"30 days"});h.useEffect(()=>{e&&(v(),b(),r&&j())},[e,r]);const v=async()=>{try{const{data:P,error:_}=await $.from("promotions").select(`
          *,
          plans (name)
        `).order("created_at",{ascending:!1});if(_)throw _;l(P||[])}catch{re({title:"Error",description:"Failed to fetch promotions",variant:"destructive"})}},b=async()=>{try{const{data:P,error:_}=await $.from("plans").select("id, name").eq("enabled",!0).order("name");if(_)throw _;d(P||[])}catch{re({title:"Error",description:"Failed to fetch plans",variant:"destructive"})}},j=async()=>{if(r)try{const{data:P,error:_}=await $.from("user_subscriptions").select(`
          *,
          plans (name)
        `).eq("user_id",r.id).eq("status","active").order("created_at",{ascending:!1});if(_)throw _;f(P||[])}catch{re({title:"Error",description:"Failed to fetch user subscriptions",variant:"destructive"})}},N=async P=>{try{i(!0);const{error:_}=await $.from("user_subscriptions").update({status:"expired",end_date:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",P);if(_)throw _;re({title:"Success",description:"User subscription removed successfully"}),j(),n==null||n()}catch(_){re({title:"Error",description:_.message||"Failed to remove subscription",variant:"destructive"})}finally{i(!1)}},S=async()=>{var P;if(!(!r||!x))try{i(!0);const _=o.find(R=>R.id===x);if(!_)throw new Error("Promotion not found");const{data:E,error:M}=await $.rpc("activate_promotion",{promo_code_input:_.code,user_uuid:r.id});if(M)throw M;E&&E.length>0&&E[0].success?(re({title:"Success",description:`Promotion "${_.code}" assigned to ${r.email}`}),n==null||n(),t(!1)):re({title:"Error",description:((P=E==null?void 0:E[0])==null?void 0:P.message)||"Failed to assign promotion",variant:"destructive"})}catch(_){re({title:"Error",description:_.message||"Failed to assign promotion",variant:"destructive"})}finally{i(!1)}},C=async()=>{if(!w.code||!w.plan_id){re({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}try{i(!0);const{error:P}=await $.from("promotions").insert({code:w.code.toUpperCase(),plan_id:w.plan_id,validity_days:w.validity_days,validity_period:w.validity_period,status:"active"});if(P)throw P;re({title:"Success",description:`Promotion "${w.code}" created successfully`}),y({code:"",plan_id:"",validity_days:30,validity_period:"30 days"}),v(),p("assign")}catch(P){re({title:"Error",description:P.message||"Failed to create promotion",variant:"destructive"})}finally{i(!1)}},k=async P=>{try{i(!0);const{error:_}=await $.from("promotions").delete().eq("id",P);if(_)throw _;re({title:"Success",description:"Promotion deleted successfully"}),v()}catch(_){re({title:"Error",description:_.message||"Failed to delete promotion",variant:"destructive"})}finally{i(!1)}},A=()=>{const P="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let _="";for(let E=0;E<8;E++)_+=P.charAt(Math.floor(Math.random()*P.length));y(E=>({...E,code:_}))};return s.jsx(Xe,{open:e,onOpenChange:t,children:s.jsxs(Qe,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(Wf,{className:"w-5 h-5"}),"Promotion Management",r&&s.jsx(je,{variant:"outline",className:"ml-2",children:r.email})]}),s.jsx(En,{children:"Assign, update, or remove user promotions and active subscriptions."})]}),s.jsxs(PS,{value:m,onValueChange:p,className:"w-full",children:[s.jsxs(Fv,{className:"grid w-full grid-cols-3",children:[s.jsx(os,{value:"assign",children:"Assign Promotion"}),s.jsx(os,{value:"create",children:"Create Promotion"}),s.jsx(os,{value:"manage",children:"Manage Promotions"})]}),s.jsx(ls,{value:"assign",className:"space-y-4",children:s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center gap-2",children:[s.jsx(Ph,{className:"w-4 h-4"}),"Assign Promotion to User"]})}),s.jsxs(X,{className:"space-y-4",children:[r&&s.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[s.jsx("p",{className:"font-medium",children:r.email}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.first_name," ",r.last_name]})]}),r&&u.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{className:"text-base font-medium",children:"Current Active Subscriptions"}),s.jsx("div",{className:"space-y-2",children:u.map(P=>{var _;return s.jsxs("div",{className:"flex items-center justify-between p-3 border border-orange-200 bg-orange-50 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:(_=P.plans)==null?void 0:_.name}),s.jsx(je,{variant:"outline",children:P.status}),P.promo_code&&s.jsx("code",{className:"text-xs px-2 py-1 bg-muted rounded font-mono",children:P.promo_code})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Started: ",new Date(P.start_date).toLocaleDateString(),P.end_date&&`  Expires: ${new Date(P.end_date).toLocaleDateString()}`]})]}),s.jsx(O,{variant:"destructive",size:"sm",onClick:()=>N(P.id),disabled:a,children:a?s.jsx(Rt,{className:"w-4 h-4 animate-spin"}):s.jsx(yt,{className:"w-4 h-4"})})]},P.id)})})]}),s.jsxs("div",{children:[s.jsx(Q,{children:"Select Promotion"}),s.jsxs(qe,{value:x,onValueChange:g,children:[s.jsx(Ve,{className:"mt-2",children:s.jsx(He,{placeholder:"Choose a promotion to assign"})}),s.jsx(We,{children:o.filter(P=>P.status==="active").map(P=>{var _;return s.jsx(se,{value:P.id,children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{className:"font-mono",children:P.code}),s.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:[(_=P.plans)==null?void 0:_.name," - ",P.validity_period]})]})},P.id)})})]})]}),s.jsxs(O,{onClick:S,disabled:!r||!x||a,className:"w-full",children:[a?s.jsx(Rt,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Wf,{className:"w-4 h-4 mr-2"}),"Assign Promotion"]})]})]})}),s.jsx(ls,{value:"create",className:"space-y-4",children:s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center gap-2",children:[s.jsx(wt,{className:"w-4 h-4"}),"Create New Promotion"]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"promo-code",children:"Promotion Code"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(de,{id:"promo-code",value:w.code,onChange:P=>y(_=>({..._,code:P.target.value.toUpperCase()})),placeholder:"PROMO2024",className:"font-mono"}),s.jsx(O,{type:"button",variant:"outline",onClick:A,children:"Generate"})]})]}),s.jsxs("div",{children:[s.jsx(Q,{children:"Target Plan"}),s.jsxs(qe,{value:w.plan_id,onValueChange:P=>y(_=>({..._,plan_id:P})),children:[s.jsx(Ve,{className:"mt-2",children:s.jsx(He,{placeholder:"Select plan"})}),s.jsx(We,{children:c.map(P=>s.jsx(se,{value:P.id,children:P.name},P.id))})]})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"validity-days",children:"Validity (Days)"}),s.jsx(de,{id:"validity-days",type:"number",value:w.validity_days,onChange:P=>{const _=parseInt(P.target.value);y(E=>({...E,validity_days:_,validity_period:`${_} days`}))},className:"mt-2",min:"1",max:"365"})]}),s.jsxs(O,{onClick:C,disabled:a,className:"w-full",children:[a?s.jsx(Rt,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Create Promotion"]})]})]})}),s.jsx(ls,{value:"manage",className:"space-y-4",children:s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{children:"Existing Promotions"})}),s.jsx(X,{children:s.jsx("div",{className:"space-y-3",children:o.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No promotions found"}):o.map(P=>{var _;return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"font-mono font-bold",children:P.code}),s.jsx(je,{variant:P.status==="active"?"default":"secondary",children:P.status})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[(_=P.plans)==null?void 0:_.name,"  ",P.validity_period]})]}),s.jsx(O,{variant:"destructive",size:"sm",onClick:()=>k(P.id),disabled:a,children:s.jsx(yt,{className:"w-4 h-4"})})]},P.id)})})})]})})]})]})})};function Jwe({user:e,open:t,onOpenChange:r,onUserPromoted:n}){const[a,i]=h.useState(!1),[o,l]=h.useState(""),[c,d]=h.useState(""),[u,f]=h.useState(""),[m,p]=h.useState(""),{toast:x}=Ge();h.useEffect(()=>{t&&(async()=>{const{data:{user:b}}=await $.auth.getUser();b&&(f(b.email||""),p(b.id))})()},[t]),h.useEffect(()=>{t||(l(""),d(""))},[t]);const g=v=>v.first_name||v.last_name?`${v.first_name||""} ${v.last_name||""}`.trim():v.email.split("@")[0],w=()=>e!=null&&e.user_roles?e.user_roles.some(v=>v.role==="admin"):!1,y=async v=>{var b,j;if(v.preventDefault(),!!e){if(!o.trim()){x({title:"Password Required",description:"Please enter your current password to confirm this action.",variant:"destructive"});return}if(c!=="Admin"){x({title:"Confirmation Required",description:'Please type "Admin" exactly to confirm this promotion.',variant:"destructive"});return}if(w()){x({title:"Already Admin",description:"This user is already an administrator.",variant:"destructive"});return}i(!0);try{const{data:N,error:S}=await $.rpc("secure_promote_to_admin",{target_user_id:e.id,current_admin_password:o});if(S){console.error("Error promoting user:",S),await ti.logSuspiciousActivity(m,"admin_promotion_error",{error:S.message,targetUserId:e.id}),x({title:"Error",description:"Failed to promote user to administrator. Please try again.",variant:"destructive"});return}const C=N;if(C&&!C.success){(b=C.error)!=null&&b.includes("already an admin")?x({title:"Already Admin",description:"This user is already an administrator.",variant:"destructive"}):(j=C.error)!=null&&j.includes("Unauthorized")?(await ti.logAuthFailure(u,"Unauthorized admin promotion attempt"),x({title:"Authentication Failed",description:"Incorrect password. Please enter your current password.",variant:"destructive"})):x({title:"Error",description:C.error||"Failed to promote user",variant:"destructive"});return}x({title:"Success",description:`${g(e)} has been promoted to administrator.`}),n(),r(!1)}catch(N){console.error("Error promoting user:",N),await ti.logSuspiciousActivity(m,"admin_promotion_error",{error:N==null?void 0:N.message,targetUserId:e==null?void 0:e.id}),x({title:"Error",description:"Failed to promote user to administrator. Please try again.",variant:"destructive"})}finally{i(!1)}}};return e?s.jsx(Xe,{open:t,onOpenChange:r,children:s.jsxs(Qe,{className:"sm:max-w-[500px]",children:[s.jsx(et,{children:s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(Wn,{className:"h-5 w-5 text-red-600"}),"Promote User to Administrator"]})}),s.jsxs($r,{className:"border-amber-200 bg-amber-50",children:[s.jsx(us,{className:"h-4 w-4 text-amber-600"}),s.jsxs(Fr,{className:"text-amber-800",children:[s.jsx("strong",{children:"Warning:"})," This action will grant full administrative privileges to this user. They will have access to all system functions, user management, and sensitive data."]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"User to be promoted:"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:g(e)})," (",e.email,")"]}),w()&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:" This user is already an administrator"})]}),s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:"admin-password",children:["Confirm Your Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(de,{id:"admin-password",type:"password",value:o,onChange:v=>l(v.target.value),placeholder:"Enter your current admin password",disabled:a,autoComplete:"current-password"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Logged in as: ",u]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:"confirmation-text",children:['Type "Admin" to confirm ',s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(de,{id:"confirmation-text",value:c,onChange:v=>d(v.target.value),placeholder:"Type exactly: Admin",disabled:a,autoComplete:"off"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This confirms you understand the implications of this action."})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(O,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:a,children:"Cancel"}),s.jsx(O,{type:"submit",disabled:a||w(),className:"bg-red-600 hover:bg-red-700 text-white",children:a?"Promoting...":"Promote to Admin"})]})]})]})]})}):null}function Zwe(){const[e,t]=h.useState(!1),[r,n]=h.useState(""),[a,i]=h.useState(!1),{toast:o}=Ge(),l=async()=>{if(!r.trim()){o({title:"Error",description:"Please enter an email address",variant:"destructive"});return}i(!0);try{const{data:c,error:d}=await $.functions.invoke("clear-rate-limits",{body:{identifier:r.trim().toLowerCase()}});if(d)throw d;o({title:"Success",description:c.message||`Rate limits cleared for ${r}`}),n(""),t(!1)}catch(c){console.error("Error clearing rate limits:",c),o({title:"Error",description:c.message||"Failed to clear rate limits",variant:"destructive"})}finally{i(!1)}};return s.jsxs(Xe,{open:e,onOpenChange:t,children:[s.jsx(xS,{asChild:!0,children:s.jsxs(O,{variant:"outline",size:"sm",children:[s.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Clear Rate Limits"]})}),s.jsxs(Qe,{children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Clear Rate Limits"}),s.jsx(En,{children:"Enter the email address to clear signup rate limit restrictions. This will allow the user to attempt signup again immediately."})]}),s.jsx("div",{className:"grid gap-4 py-4",children:s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Q,{htmlFor:"email",children:"Email Address"}),s.jsx(de,{id:"email",type:"email",placeholder:"user@example.com",value:r,onChange:c=>n(c.target.value),onKeyDown:c=>{c.key==="Enter"&&!a&&l()}})]})}),s.jsxs(ln,{children:[s.jsx(O,{variant:"outline",onClick:()=>t(!1),disabled:a,children:"Cancel"}),s.jsx(O,{onClick:l,disabled:a,children:a?"Clearing...":"Clear Rate Limits"})]})]})]})}const Xwe=e=>{switch(e){case"active":return s.jsx(je,{className:"bg-green-100 text-green-800 hover:bg-green-100 rounded px-3 py-1",children:"Active"});case"frozen":return s.jsx(je,{className:"bg-blue-100 text-blue-800 hover:bg-blue-100 rounded px-3 py-1",children:"Frozen"});default:return s.jsx(je,{className:"bg-green-100 text-green-800 hover:bg-green-100 rounded px-3 py-1",children:"Active"})}},eje=e=>{var r;if(!((r=e.subscription)!=null&&r.plan_name))return s.jsx(je,{variant:"outline",className:"rounded px-3 py-1",children:"No Plan"});const{plan_name:t}=e.subscription;switch(t.toLowerCase()){case"premium":case"premium plan":return s.jsx(je,{className:"bg-blue-100 text-blue-800 hover:bg-blue-100 rounded px-3 py-1",children:"Premium"});case"gold":case"gold plan":return s.jsx(je,{className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100 rounded px-3 py-1",children:"Gold"});case"free":case"free plan":return s.jsx(je,{variant:"outline",className:"rounded px-3 py-1",children:"Free"});default:return s.jsx(je,{variant:"secondary",className:"rounded px-3 py-1",children:t})}},tje=e=>{const t=e.user_roles||[];if(t.length===0)return s.jsx(je,{variant:"secondary",className:"rounded px-3 py-1",children:"User"});if(t.some(a=>a.role==="admin"))return s.jsx(je,{className:"bg-red-600 text-white hover:bg-red-600 rounded px-3 py-1",children:"Admin"});const n=t[0].role;return s.jsx(je,{className:"bg-blue-100 text-blue-800 hover:bg-blue-100 rounded px-3 py-1",children:n.charAt(0).toUpperCase()+n.slice(1)})},rje=e=>{var i;if(!((i=e.subscription)!=null&&i.promo_code))return s.jsx(je,{variant:"outline",className:"rounded px-3 py-1",children:"No Promo"});const{promo_code:t,status:r,end_date:n}=e.subscription;return n&&new Date(n)<new Date?s.jsx(je,{className:"bg-red-100 text-red-800 hover:bg-red-100 rounded px-3 py-1",children:"Expired"}):r==="active"?s.jsxs("div",{className:"space-y-1",children:[s.jsx(je,{className:"bg-green-100 text-green-800 hover:bg-green-100 rounded px-2 py-1 text-xs",children:"Active"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:t})]}):s.jsx(je,{variant:"outline",className:"rounded px-3 py-1",children:"Inactive"})},nje=e=>{if(!e.subscription)return s.jsx(je,{variant:"outline",className:"rounded px-3 py-1",children:"Free User"});const{status:t,promo_code:r,plan_name:n}=e.subscription;return t==="active"?n!=null&&n.toLowerCase().includes("free")?s.jsx(je,{variant:"outline",className:"rounded px-3 py-1",children:"Free User"}):r?s.jsx(je,{className:"bg-blue-100 text-blue-800 hover:bg-blue-100 rounded px-3 py-1",children:"Promo Access"}):s.jsx(je,{className:"bg-green-100 text-green-800 hover:bg-green-100 rounded px-3 py-1",children:"Paid User"}):s.jsx(je,{variant:"outline",className:"rounded px-3 py-1",children:"Free User"})};function T0(){const[e,t]=h.useState([]),[r,n]=h.useState([]),[a,i]=h.useState(!0),[o,l]=h.useState(null),[c,d]=h.useState(null),[u,f]=h.useState(!1),[m,p]=h.useState(!1),[x,g]=h.useState(!1),[w,y]=h.useState(!1),[v,b]=h.useState(!1),[j,N]=h.useState(!1),[S,C]=h.useState(!1),[k,A]=Rh(),[P,_]=h.useState(k.get("search")||""),[E,M]=h.useState("all"),[R,T]=h.useState("all"),[B,K]=h.useState("all"),[z,V]=h.useState("all"),[F,W]=h.useState("all"),[D,L]=h.useState("all");h.useEffect(()=>{ce()},[]),h.useEffect(()=>{let I=e;if(P.trim()){const ie=P.toLowerCase();I=I.filter(Z=>{var ke;const pe=H(Z).toLowerCase(),xe=Z.email.toLowerCase(),be=((ke=Z.mobile)==null?void 0:ke.toLowerCase())||"";return pe.includes(ie)||xe.includes(ie)||be.includes(ie)})}if(E!=="all"&&(I=I.filter(ie=>(ie.status||"active")===E)),R!=="all"&&(I=I.filter(ie=>{const Z=ie.user_roles||[];return R==="user"?Z.length===0||!Z.some(pe=>pe.role==="admin"):Z.some(pe=>pe.role===R)})),B!=="all"&&(I=I.filter(ie=>{var pe,xe,be;return B==="no_plan"?!((pe=ie.subscription)!=null&&pe.plan_name):(((be=(xe=ie.subscription)==null?void 0:xe.plan_name)==null?void 0:be.toLowerCase())||"").includes(B.toLowerCase())})),z!=="all"&&(I=I.filter(ie=>{var Z,pe;return z==="free"?!ie.subscription||ie.subscription.status!=="active":z==="paid"?((Z=ie.subscription)==null?void 0:Z.status)==="active"&&!ie.subscription.promo_code:z==="promo"?((pe=ie.subscription)==null?void 0:pe.status)==="active"&&ie.subscription.promo_code:!1})),F!=="all"&&(I=I.filter(ie=>{var Z,pe,xe,be,ke,ve;if(F==="no_promo")return!((Z=ie.subscription)!=null&&Z.promo_code);if(F==="active_promo"){const Le=(pe=ie.subscription)==null?void 0:pe.promo_code,ft=((xe=ie.subscription)==null?void 0:xe.status)==="active",tr=((be=ie.subscription)==null?void 0:be.end_date)&&new Date(ie.subscription.end_date)<new Date;return Le&&ft&&!tr}if(F==="expired_promo"){const Le=(ke=ie.subscription)==null?void 0:ke.promo_code,ft=((ve=ie.subscription)==null?void 0:ve.end_date)&&new Date(ie.subscription.end_date)<new Date;return Le&&ft}return!1})),D!=="all"){const ie=new Date,Z=new Date(ie.getTime()-24*60*60*1e3),pe=new Date(ie.getTime()-7*24*60*60*1e3),xe=new Date(ie.getTime()-30*24*60*60*1e3);I=I.filter(be=>{if(D==="never")return!be.last_login_at;if(!be.last_login_at)return!1;const ke=new Date(be.last_login_at);switch(D){case"today":return ke>=Z;case"week":return ke>=pe&&ke<Z;case"month":return ke>=xe&&ke<pe;case"older":return ke<xe;default:return!0}})}n(I)},[e,P,E,R,B,z,F,D]);const J=I=>{const ie=I.target.value;_(ie),ie.trim()?A({search:ie}):A({})},U=()=>{M("all"),T("all"),K("all"),V("all"),W("all"),L("all"),_(""),A({})},ee=E!=="all"||R!=="all"||B!=="all"||z!=="all"||F!=="all"||D!=="all"||P.trim()!=="",G=()=>{const I=["Name","Email","Mobile","Status","Role","Payment Status","Promo Code","Plan","Join Date","Last Login"],ie=r.map(ke=>{var rr,An,Ar,Zn,mc,Ci,mn;const ft=(ke.user_roles||[]).some(Zo=>Zo.role==="admin")?"Admin":"User",tr=((rr=ke.subscription)==null?void 0:rr.status)==="active"?(Ar=(An=ke.subscription)==null?void 0:An.plan_name)!=null&&Ar.toLowerCase().includes("free")?"Free User":(Zn=ke.subscription)!=null&&Zn.promo_code?"Promo Access":"Paid User":"Free User",It=(mc=ke.subscription)!=null&&mc.promo_code?(Ci=ke.subscription)!=null&&Ci.end_date&&new Date(ke.subscription.end_date)<new Date?"Expired Promo":"Active Promo":"No Promo";return[H(ke),ke.email,ke.mobile||"N/A",ke.status||"Active",ft,tr,It,((mn=ke.subscription)==null?void 0:mn.plan_name)||"No Plan",q(ke.created_at),te(ke.last_login_at)]}),Z=[I.join(","),...ie.map(ke=>ke.map(ve=>`"${ve}"`).join(","))].join(`
`),pe=new Blob([Z],{type:"text/csv;charset=utf-8;"}),xe=document.createElement("a"),be=URL.createObjectURL(pe);xe.setAttribute("href",be),xe.setAttribute("download",`users-export-${new Date().toISOString().split("T")[0]}.csv`),xe.style.visibility="hidden",document.body.appendChild(xe),xe.click(),document.body.removeChild(xe)},ce=async()=>{try{i(!0);const{data:I,error:ie}=await $.from("profiles").select("*").eq("email_confirmed",!0).order("created_at",{ascending:!1});if(ie)throw ie;const{data:Z,error:pe}=await $.from("user_roles").select("user_id, role");if(pe)throw pe;const{data:xe,error:be}=await $.from("user_subscriptions").select(`
          user_id,
          status,
          end_date,
          promo_code,
          plans:plan_id (name)
        `).eq("status","active");be&&console.warn("Error fetching subscriptions:",be);const ke=(I||[]).map(ve=>{var It;const Le=(Z==null?void 0:Z.filter(rr=>rr.user_id===ve.id))||[],ft=xe==null?void 0:xe.find(rr=>rr.user_id===ve.id);let tr=null;return ft&&(tr={plan_name:((It=ft.plans)==null?void 0:It.name)||null,promo_code:ft.promo_code,validity_period:null,status:ft.status,end_date:ft.end_date}),{...ve,user_roles:Le,subscription:tr}});t(ke)}catch(I){console.error("Error fetching profiles:",I),l("Failed to load users")}finally{i(!1)}},H=I=>I.first_name||I.last_name?`${I.first_name||""} ${I.last_name||""}`.trim():I.email.split("@")[0],q=I=>JE(new Date(I),"dd/MM/yyyy"),te=I=>I?JE(new Date(I),"dd/MM/yyyy HH:mm"):"Never";return a?s.jsx("div",{className:"flex-1 space-y-6 p-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-lg",children:"Loading users..."})})}):o?s.jsx("div",{className:"flex-1 space-y-6 p-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-lg text-destructive",children:o})})}):s.jsxs("div",{className:"flex-1 space-y-6 p-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"User Management"}),s.jsx("p",{className:"text-muted-foreground",children:"View, search, and manage all users of the Tagmentia platform."})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(O,{className:"flex items-center space-x-2",onClick:()=>y(!0),children:[s.jsx(wt,{className:"h-4 w-4"}),s.jsx("span",{children:"Add User"})]}),s.jsxs(O,{variant:"destructive",className:"flex items-center space-x-2",onClick:()=>b(!0),children:[s.jsx(yt,{className:"h-4 w-4"}),s.jsx("span",{children:"Bulk Delete"})]}),s.jsxs(O,{variant:"outline",className:"flex items-center space-x-2",onClick:G,children:[s.jsx(Vf,{className:"h-4 w-4"}),s.jsx("span",{children:"Export Data"})]}),s.jsx(Zwe,{})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(vt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(de,{placeholder:"Search by name, email, or mobile...",value:P,onChange:J,className:"pl-10 w-80"})]}),s.jsxs(nn,{children:[s.jsx(sn,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:"flex items-center space-x-2",children:[s.jsx(Vi,{className:"h-4 w-4"}),s.jsx("span",{children:"Status"}),E!=="all"&&s.jsx(je,{variant:"secondary",className:"ml-1 h-5 w-5 rounded-full p-0 text-xs",children:"1"}),s.jsx(Qs,{className:"h-4 w-4"})]})}),s.jsxs(Gr,{className:"bg-background border shadow-lg z-50",children:[s.jsx(Oe,{onClick:()=>M("all"),className:E==="all"?"bg-accent":"",children:"All Status"}),s.jsx(Wi,{}),s.jsx(Oe,{onClick:()=>M("active"),className:E==="active"?"bg-accent":"",children:"Active"}),s.jsx(Oe,{onClick:()=>M("frozen"),className:E==="frozen"?"bg-accent":"",children:"Frozen"})]})]}),s.jsxs(nn,{children:[s.jsx(sn,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:"flex items-center space-x-2",children:[s.jsx(Vi,{className:"h-4 w-4"}),s.jsx("span",{children:"Role"}),R!=="all"&&s.jsx(je,{variant:"secondary",className:"ml-1 h-5 w-5 rounded-full p-0 text-xs",children:"1"}),s.jsx(Qs,{className:"h-4 w-4"})]})}),s.jsxs(Gr,{className:"bg-background border shadow-lg z-50",children:[s.jsx(Oe,{onClick:()=>T("all"),className:R==="all"?"bg-accent":"",children:"All Roles"}),s.jsx(Wi,{}),s.jsx(Oe,{onClick:()=>T("admin"),className:R==="admin"?"bg-accent":"",children:"Admin"}),s.jsx(Oe,{onClick:()=>T("user"),className:R==="user"?"bg-accent":"",children:"User"})]})]}),s.jsxs(nn,{children:[s.jsx(sn,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:"flex items-center space-x-2",children:[s.jsx(Vi,{className:"h-4 w-4"}),s.jsx("span",{children:"Plan"}),B!=="all"&&s.jsx(je,{variant:"secondary",className:"ml-1 h-5 w-5 rounded-full p-0 text-xs",children:"1"}),s.jsx(Qs,{className:"h-4 w-4"})]})}),s.jsxs(Gr,{className:"bg-background border shadow-lg z-50",children:[s.jsx(Oe,{onClick:()=>K("all"),className:B==="all"?"bg-accent":"",children:"All Plans"}),s.jsx(Wi,{}),s.jsx(Oe,{onClick:()=>K("no_plan"),className:B==="no_plan"?"bg-accent":"",children:"No Plan"}),s.jsx(Oe,{onClick:()=>K("free"),className:B==="free"?"bg-accent":"",children:"Free"}),s.jsx(Oe,{onClick:()=>K("premium"),className:B==="premium"?"bg-accent":"",children:"Premium"}),s.jsx(Oe,{onClick:()=>K("gold"),className:B==="gold"?"bg-accent":"",children:"Gold"})]})]}),s.jsxs(nn,{children:[s.jsx(sn,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:"flex items-center space-x-2",children:[s.jsx(Vi,{className:"h-4 w-4"}),s.jsx("span",{children:"Payment"}),z!=="all"&&s.jsx(je,{variant:"secondary",className:"ml-1 h-5 w-5 rounded-full p-0 text-xs",children:"1"}),s.jsx(Qs,{className:"h-4 w-4"})]})}),s.jsxs(Gr,{className:"bg-background border shadow-lg z-50",children:[s.jsx(Oe,{onClick:()=>V("all"),className:z==="all"?"bg-accent":"",children:"All Payment Status"}),s.jsx(Wi,{}),s.jsx(Oe,{onClick:()=>V("paid"),className:z==="paid"?"bg-accent":"",children:"Paid Users"}),s.jsx(Oe,{onClick:()=>V("promo"),className:z==="promo"?"bg-accent":"",children:"Promo Access"}),s.jsx(Oe,{onClick:()=>V("free"),className:z==="free"?"bg-accent":"",children:"Free Users"})]})]}),s.jsxs(nn,{children:[s.jsx(sn,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:"flex items-center space-x-2",children:[s.jsx(Vi,{className:"h-4 w-4"}),s.jsx("span",{children:"Promo"}),F!=="all"&&s.jsx(je,{variant:"secondary",className:"ml-1 h-5 w-5 rounded-full p-0 text-xs",children:"1"}),s.jsx(Qs,{className:"h-4 w-4"})]})}),s.jsxs(Gr,{className:"bg-background border shadow-lg z-50",children:[s.jsx(Oe,{onClick:()=>W("all"),className:F==="all"?"bg-accent":"",children:"All Promo Status"}),s.jsx(Wi,{}),s.jsx(Oe,{onClick:()=>W("active_promo"),className:F==="active_promo"?"bg-accent":"",children:"Active Promo"}),s.jsx(Oe,{onClick:()=>W("expired_promo"),className:F==="expired_promo"?"bg-accent":"",children:"Expired Promo"}),s.jsx(Oe,{onClick:()=>W("no_promo"),className:F==="no_promo"?"bg-accent":"",children:"No Promo"})]})]}),s.jsxs(nn,{children:[s.jsx(sn,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:"flex items-center space-x-2",children:[s.jsx(Vi,{className:"h-4 w-4"}),s.jsx("span",{children:"Last Login"}),D!=="all"&&s.jsx(je,{variant:"secondary",className:"ml-1 h-5 w-5 rounded-full p-0 text-xs",children:"1"}),s.jsx(Qs,{className:"h-4 w-4"})]})}),s.jsxs(Gr,{className:"bg-background border shadow-lg z-50",children:[s.jsx(Oe,{onClick:()=>L("all"),className:D==="all"?"bg-accent":"",children:"All Users"}),s.jsx(Wi,{}),s.jsx(Oe,{onClick:()=>L("today"),className:D==="today"?"bg-accent":"",children:"Last 24 Hours"}),s.jsx(Oe,{onClick:()=>L("week"),className:D==="week"?"bg-accent":"",children:"Last Week"}),s.jsx(Oe,{onClick:()=>L("month"),className:D==="month"?"bg-accent":"",children:"Last Month"}),s.jsx(Oe,{onClick:()=>L("older"),className:D==="older"?"bg-accent":"",children:"Older than 30 days"}),s.jsx(Oe,{onClick:()=>L("never"),className:D==="never"?"bg-accent":"",children:"Never logged in"})]})]}),ee&&s.jsx(O,{variant:"outline",size:"icon",onClick:U,title:"Clear all filters",children:s.jsx(er,{className:"h-4 w-4"})})]})]}),s.jsx(Y,{children:s.jsx(X,{className:"p-0",children:s.jsxs(ju,{children:[s.jsx(Nu,{children:s.jsxs(_n,{children:[s.jsx(nt,{children:"Name"}),s.jsx(nt,{children:"Email"}),s.jsx(nt,{children:"Mobile"}),s.jsx(nt,{children:"Status"}),s.jsx(nt,{children:"Role"}),s.jsx(nt,{children:"Payment Status"}),s.jsx(nt,{children:"Promo Code"}),s.jsx(nt,{children:"Plan"}),s.jsx(nt,{children:"Join Date"}),s.jsx(nt,{children:"Last Login"}),s.jsx(nt,{children:"Actions"})]})}),s.jsxs(Su,{children:[r.map(I=>{var ie;return s.jsxs(_n,{children:[s.jsx(Ze,{className:"font-medium",children:H(I)}),s.jsx(Ze,{className:"text-muted-foreground",children:I.email}),s.jsx(Ze,{className:"text-muted-foreground",children:I.mobile||"N/A"}),s.jsx(Ze,{children:Xwe(I.status)}),s.jsx(Ze,{children:tje(I)}),s.jsx(Ze,{children:nje(I)}),s.jsx(Ze,{children:rje(I)}),s.jsx(Ze,{children:eje(I)}),s.jsx(Ze,{className:"text-muted-foreground",children:q(I.created_at)}),s.jsx(Ze,{className:"text-muted-foreground",children:te(I.last_login_at)}),s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>{d(I),f(!0)},children:s.jsx(Cn,{className:"h-4 w-4"})}),!((ie=I.user_roles)!=null&&ie.some(Z=>Z.role==="admin"))&&s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>{d(I),C(!0)},title:"Promote to Admin",className:"text-amber-600 hover:text-amber-800",children:s.jsx(Wn,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>{d(I),N(!0)},title:"Manage Promotions",children:s.jsx(Wf,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>{d(I),p(!0)},className:I.status==="frozen"?"text-blue-600 hover:text-blue-800":"",children:s.jsx(_D,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"icon",className:"text-red-600 hover:text-red-800",onClick:()=>{d(I),g(!0)},children:s.jsx(yt,{className:"h-4 w-4"})})]})})]},I.id)}),r.length===0&&s.jsx(_n,{children:s.jsx(Ze,{colSpan:11,className:"text-center text-muted-foreground py-8",children:P?`No users found matching "${P}"`:"No users found"})})]})]})})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:P?`Showing ${r.length} of ${e.length} users`:`Total users: ${e.length}`}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(O,{variant:"outline",size:"icon",children:s.jsx(Wx,{className:"h-4 w-4"})}),s.jsx(O,{variant:"outline",size:"icon",children:s.jsx(qx,{className:"h-4 w-4"})})]})]}),s.jsx(Dz,{open:w,onOpenChange:y,onUserAdded:ce}),s.jsx(Hwe,{user:c,open:u,onOpenChange:f,onUserUpdated:ce}),s.jsx(Gwe,{user:c,open:m,onOpenChange:p,onUserUpdated:ce}),s.jsx(Kwe,{user:c,open:x,onOpenChange:g,onUserDeleted:ce}),s.jsx(Ywe,{open:v,onOpenChange:b,onUsersDeleted:ce}),s.jsx(Qwe,{open:j,onOpenChange:N,selectedUser:c,onSuccess:ce}),s.jsx(Jwe,{user:c,open:S,onOpenChange:C,onUserPromoted:ce})]})}function cO(){const[e,t]=h.useState([]),[r,n]=h.useState([]),[a,i]=h.useState(!0),[o,l]=h.useState(""),[c,d]=h.useState("all"),[u,f]=h.useState(null),{toast:m}=Ge();h.useEffect(()=>{p()},[]),h.useEffect(()=>{x()},[e,o,c]);const p=async()=>{try{i(!0);const{data:v,error:b}=await $.from("waitlist").select("*").order("created_at",{ascending:!1});if(b)throw b;t(v||[])}catch(v){console.error("Error fetching waitlist:",v),m({title:"Error",description:"Failed to fetch waitlist entries",variant:"destructive"})}finally{i(!1)}},x=()=>{let v=e;o&&(v=v.filter(b=>b.email.toLowerCase().includes(o.toLowerCase()))),c!=="all"&&(v=v.filter(b=>b.plan===c)),n(v)},g=()=>{const v=[["Email","Plan","Joined Date"],...r.map(S=>[S.email,S.plan,new Date(S.created_at).toLocaleString()])].map(S=>S.join(",")).join(`
`),b=new Blob([v],{type:"text/csv"}),j=window.URL.createObjectURL(b),N=document.createElement("a");N.href=j,N.download=`waitlist-${new Date().toISOString().split("T")[0]}.csv`,N.click(),window.URL.revokeObjectURL(j),m({title:"Success",description:"Waitlist exported successfully"})},w=async()=>{if(u)try{const{error:v}=await $.from("waitlist").delete().eq("id",u);if(v)throw v;m({title:"Success",description:"Entry deleted successfully"}),p()}catch(v){console.error("Error deleting entry:",v),m({title:"Error",description:"Failed to delete entry",variant:"destructive"})}finally{f(null)}},y=Array.from(new Set(e.map(v=>v.plan)));return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Waitlist Management"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage users who joined the waitlist"})]}),s.jsxs(O,{onClick:g,disabled:r.length===0,children:[s.jsx(Vf,{className:"mr-2 h-4 w-4"}),"Export CSV"]})]}),s.jsxs(Y,{children:[s.jsxs(oe,{children:[s.jsxs(le,{children:["Waitlist Entries (",r.length,")"]}),s.jsxs(St,{children:["Total entries: ",e.length]})]}),s.jsxs(X,{children:[s.jsxs("div",{className:"flex gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(vt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(de,{placeholder:"Search by email...",value:o,onChange:v=>l(v.target.value),className:"pl-10"})]}),s.jsxs(qe,{value:c,onValueChange:d,children:[s.jsxs(Ve,{className:"w-[200px]",children:[s.jsx(Vi,{className:"mr-2 h-4 w-4"}),s.jsx(He,{placeholder:"Filter by plan"})]}),s.jsxs(We,{children:[s.jsx(se,{value:"all",children:"All Plans"}),y.map(v=>s.jsx(se,{value:v,children:v},v))]})]})]}),a?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading waitlist entries..."}):r.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No waitlist entries found"}):s.jsxs(ju,{children:[s.jsx(Nu,{children:s.jsxs(_n,{children:[s.jsx(nt,{children:"Email"}),s.jsx(nt,{children:"Plan"}),s.jsx(nt,{children:"Joined Date"}),s.jsx(nt,{className:"text-right",children:"Actions"})]})}),s.jsx(Su,{children:r.map(v=>s.jsxs(_n,{children:[s.jsx(Ze,{className:"font-medium",children:v.email}),s.jsx(Ze,{children:s.jsx("span",{className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium bg-primary/10 text-primary",children:v.plan})}),s.jsxs(Ze,{children:[new Date(v.created_at).toLocaleDateString()," ",new Date(v.created_at).toLocaleTimeString()]}),s.jsx(Ze,{className:"text-right",children:s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>f(v.id),children:s.jsx(yt,{className:"h-4 w-4 text-destructive"})})})]},v.id))})]})]})]}),s.jsx(la,{open:!!u,onOpenChange:()=>f(null),children:s.jsxs(vs,{children:[s.jsxs(ys,{children:[s.jsx(ws,{children:"Are you sure?"}),s.jsx(js,{children:"This will permanently delete this waitlist entry. This action cannot be undone."})]}),s.jsxs(bs,{children:[s.jsx(Ss,{children:"Cancel"}),s.jsx(Ns,{onClick:w,children:"Delete"})]})]})})]})}const sje=()=>{const[e,t]=h.useState({totalActiveSubscriptions:0,monthlyRecurringRevenue:0,annualRecurringRevenue:0,nextBillingCycleRevenue:0,subscriptionGrowth:0,revenueGrowth:0}),[r,n]=h.useState([]),[a,i]=h.useState([]),[o,l]=h.useState([]),[c,d]=h.useState(!0),[u,f]=h.useState(null),m=async()=>{try{d(!0);const{data:p,error:x}=await $.from("user_subscriptions").select("*").eq("status","active");if(x)throw x;if(!p||p.length===0){t({totalActiveSubscriptions:0,monthlyRecurringRevenue:0,annualRecurringRevenue:0,nextBillingCycleRevenue:0,subscriptionGrowth:0,revenueGrowth:0}),n([]),i([]),l([]);return}const g=[...new Set(p.map(z=>z.plan_id))],{data:w,error:y}=await $.from("plans").select("*").in("id",g);if(y)throw y;const v=[...new Set(p.map(z=>z.user_id))],{data:b,error:j}=await $.from("profiles").select("*").in("id",v);if(j)throw j;const N=(w==null?void 0:w.reduce((z,V)=>(z[V.id]=V,z),{}))||{},S=(b==null?void 0:b.reduce((z,V)=>(z[V.id]=V,z),{}))||{},C=p.map(z=>({...z,plans:N[z.plan_id],profiles:S[z.user_id]})),k=(C==null?void 0:C.length)||0,A=(C==null?void 0:C.reduce((z,V)=>{const F=V.plans;return V.billing_interval==="monthly"?z+((F==null?void 0:F.price_monthly)||0):V.billing_interval==="yearly"?z+((F==null?void 0:F.price_yearly)||0)/12:z},0))||0,P=A*12;t({totalActiveSubscriptions:k,monthlyRecurringRevenue:A,annualRecurringRevenue:P,nextBillingCycleRevenue:A,subscriptionGrowth:0,revenueGrowth:0});const _={},E={Free:"#94A3B8",Basic:"#3B82F6",Pro:"#10B981",Premium:"#8B5CF6",Enterprise:"#374151"};C==null||C.forEach(z=>{const V=z.plans,F=(V==null?void 0:V.name)||"Unknown";_[F]=(_[F]||0)+1});const M=Object.entries(_).map(([z,V])=>({name:z,value:V,color:E[z]||"#6B7280"}));n(M);const R=new Date().getMonth(),T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B=[];for(let z=5;z>=0;z--){const V=(R-z+12)%12;B.push({month:T[V],revenue:A*(.8+Math.random()*.4)})}i(B);const K=(C==null?void 0:C.map(z=>{const V=z.plans,F=z.profiles;return{id:z.id,name:`${(F==null?void 0:F.first_name)||""} ${(F==null?void 0:F.last_name)||""}`.trim()||"Unknown",email:(F==null?void 0:F.email)||"No email",plan:(V==null?void 0:V.name)||"Unknown",startDate:new Date(z.start_date).toLocaleDateString(),lastPayment:z.updated_at?new Date(z.updated_at).toLocaleDateString():null,status:z.status==="active"&&(V==null?void 0:V.name)!=="Free Plan"?"Paid":z.status==="active"?"Free":z.status}}))||[];l(K)}catch(p){console.error("Error fetching billing data:",p),f("Failed to load billing data")}finally{d(!1)}};return h.useEffect(()=>{m()},[]),{stats:e,subscriptionDistribution:r,revenueData:a,subscribers:o,loading:c,error:u,refetch:m}},aje=e=>{switch(e){case"Paid":return s.jsx(je,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:"Paid"});case"Due":return s.jsx(je,{className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100",children:"Due"});case"Cancelled":return s.jsx(je,{className:"bg-red-100 text-red-800 hover:bg-red-100",children:"Cancelled"});default:return s.jsx(je,{variant:"secondary",children:e})}};function dO(){const{stats:e,subscriptionDistribution:t,revenueData:r,subscribers:n,loading:a,error:i}=sje();return a?s.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:s.jsx(Rt,{className:"h-8 w-8 animate-spin"})}):i?s.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:s.jsx("p",{className:"text-muted-foreground",children:i})}):s.jsxs("div",{className:"flex-1 space-y-6 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Billing Overview"}),s.jsxs(O,{className:"flex items-center space-x-2",children:[s.jsx(Vf,{className:"h-4 w-4"}),s.jsx("span",{children:"Export All Reports"})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(Y,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(le,{className:"text-sm font-medium text-muted-foreground",children:"Total Active Subscriptions"}),s.jsx(k1,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.totalActiveSubscriptions.toLocaleString()}),s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center",children:[s.jsx(Cb,{className:"h-3 w-3 text-green-600 mr-1"}),e.subscriptionGrowth>0?`+${e.subscriptionGrowth.toFixed(1)}%`:"0%"," vs last month"]})]})]}),s.jsxs(Y,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(le,{className:"text-sm font-medium text-muted-foreground",children:"Monthly Recurring Revenue (MRR)"}),s.jsx(Dw,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(X,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",e.monthlyRecurringRevenue.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center",children:[s.jsx(Cb,{className:"h-3 w-3 text-green-600 mr-1"}),e.revenueGrowth>0?`+${e.revenueGrowth.toFixed(1)}%`:"0%"," vs last month"]})]})]}),s.jsxs(Y,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(le,{className:"text-sm font-medium text-muted-foreground",children:"Annual Recurring Revenue (ARR)"}),s.jsx(Dw,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(X,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",e.annualRecurringRevenue.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center",children:[s.jsx(Cb,{className:"h-3 w-3 text-green-600 mr-1"}),e.revenueGrowth>0?`+${(e.revenueGrowth*12).toFixed(1)}%`:"0%"," vs last year"]})]})]}),s.jsxs(Y,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(le,{className:"text-sm font-medium text-muted-foreground",children:"Next Billing Cycle Revenue"}),s.jsx(No,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(X,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",e.nextBillingCycleRevenue.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Due in 30 days"})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{children:"Subscription Plan Distribution"})}),s.jsx(X,{children:t.length>0?s.jsxs(s.Fragment,{children:[s.jsx(gx,{width:"100%",height:300,children:s.jsxs(Rz,{children:[s.jsx(L_,{data:t,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:t.map((o,l)=>s.jsx(um,{fill:o.color},`cell-${l}`))}),s.jsx(px,{})]})}),s.jsx("div",{className:"flex justify-center mt-4 space-x-4 flex-wrap",children:t.map(o=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:o.color}}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[o.name," (",o.value,")"]})]},o.name))})]}):s.jsx("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"No subscription data available"})})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{children:"Monthly Revenue Growth"})}),s.jsx(X,{children:r.length>0?s.jsx(gx,{width:"100%",height:300,children:s.jsxs(Oz,{data:r,children:[s.jsx(z_,{strokeDasharray:"3 3"}),s.jsx(Uy,{dataKey:"month"}),s.jsx(By,{}),s.jsx(px,{formatter:o=>[`$${Number(o).toLocaleString()}`,"Revenue"]}),s.jsx(W_,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",strokeWidth:2,dot:{fill:"#3B82F6"}})]})}):s.jsx("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"No revenue data available"})})]})]}),s.jsxs(Y,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between",children:[s.jsx(le,{children:"Current Subscribers"}),s.jsxs(O,{variant:"outline",className:"flex items-center space-x-2",children:[s.jsx(Vf,{className:"h-4 w-4"}),s.jsx("span",{children:"Export"})]})]}),s.jsx(X,{className:"p-0",children:s.jsxs(ju,{children:[s.jsx(Nu,{children:s.jsxs(_n,{children:[s.jsx(nt,{children:"Subscriber"}),s.jsx(nt,{children:"Plan"}),s.jsx(nt,{children:"Start Date"}),s.jsx(nt,{children:"Last Payment"}),s.jsx(nt,{children:"Status"})]})}),s.jsx(Su,{children:n.length>0?n.map(o=>s.jsxs(_n,{children:[s.jsx(Ze,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:o.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:o.email})]})}),s.jsx(Ze,{className:"font-medium",children:o.plan}),s.jsx(Ze,{className:"text-muted-foreground",children:o.startDate}),s.jsx(Ze,{className:"text-muted-foreground",children:o.lastPayment||"N/A"}),s.jsx(Ze,{children:aje(o.status)})]},o.id)):s.jsx(_n,{children:s.jsx(Ze,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No active subscribers found"})})})]})})]})]})}function uO(){var H;const{toast:e}=Ge(),[t,r]=h.useState(""),[n,a]=h.useState(""),[i,o]=h.useState(""),[l,c]=h.useState([]),[d,u]=h.useState([]),[f,m]=h.useState(!0),[p,x]=h.useState(!1),[g,w]=h.useState(null),[y,v]=h.useState({}),[b,j]=h.useState(null),[N,S]=h.useState(!1),[C,k]=h.useState(!1),[A,P]=h.useState({name:"",price_monthly:0,price_yearly:0,max_categories:3,max_videos_per_category:10,max_screenshots_per_user:5,enabled:!0,featuresText:"{}"}),[_,E]=h.useState(!1),[M,R]=h.useState(null);h.useEffect(()=>{K(),T()},[]);const T=async()=>{try{const{data:q,error:te}=await $.functions.invoke("manage-subscriptions",{body:{action:"check_stripe_env"}});if(te)throw te;if(q!=null&&q.error)throw new Error(q.error);R(q)}catch(q){console.error("Error checking Stripe status:",q),R({present:!1,startsWithSk:!1})}},B=async()=>{E(!0);try{await T(),e({title:"Stripe Status Checked",description:M!=null&&M.present&&(M!=null&&M.startsWithSk)?"Stripe configuration is valid and ready to use.":"Stripe configuration issue detected. Please check your secret key.",variant:M!=null&&M.present&&(M!=null&&M.startsWithSk)?"default":"destructive"})}catch(q){e({title:"Error",description:q.message||"Failed to verify Stripe configuration",variant:"destructive"})}finally{E(!1)}},K=async()=>{var q,te;try{const[I,ie]=await Promise.all([$.functions.invoke("manage-subscriptions",{body:{action:"get_plans"}}),$.functions.invoke("manage-subscriptions",{body:{action:"get_promotions"}})]);(q=I.data)!=null&&q.plans&&c(I.data.plans),(te=ie.data)!=null&&te.promotions&&u(ie.data.promotions)}catch(I){console.error("Error loading data:",I),e({title:"Error",description:"Failed to load subscription data",variant:"destructive"})}finally{m(!1)}},z=async()=>{if(!t||!n||!i){e({title:"Missing Information",description:"Please fill in all fields to activate the bundle.",variant:"destructive"});return}x(!0);try{const q=l.find(ie=>ie.name===i);if(!q)throw new Error("Selected plan not found");const{data:te,error:I}=await $.functions.invoke("manage-subscriptions",{body:{action:"create_promotion",data:{code:t,plan_id:q.id,validity_period:n}}});if(I)throw I;await K(),e({title:"Bundle Activated Successfully",description:`Promo code "${t}" has been activated for ${i} with ${n} validity.`}),r(""),a(""),o("")}catch(q){console.error("Error activating promotion:",q),e({title:"Error",description:q.message||"Failed to activate promotion",variant:"destructive"})}finally{x(!1)}},V=async()=>{if(!A.name){e({title:"Missing name",description:"Please provide a plan name.",variant:"destructive"});return}let q={};try{q=A.featuresText?JSON.parse(A.featuresText):{}}catch(te){e({title:"Invalid features JSON",description:te.message||"Please provide valid JSON.",variant:"destructive"});return}S(!0);try{const{error:te,data:I}=await $.functions.invoke("manage-subscriptions",{body:{action:"create_plan",data:{name:A.name,price_monthly:A.price_monthly,price_yearly:A.price_yearly,max_categories:A.max_categories,max_videos_per_category:A.max_videos_per_category,max_screenshots_per_user:A.max_screenshots_per_user,enabled:A.enabled,features:q}}});if(te)throw te;if(I!=null&&I.error)throw new Error(I.error);await K(),e({title:"Plan created",description:`Plan "${A.name}" has been added.`}),k(!1),P({name:"",price_monthly:0,price_yearly:0,max_categories:3,max_videos_per_category:10,max_screenshots_per_user:5,enabled:!0,featuresText:"{}"})}catch(te){console.error("Error creating plan:",te),e({title:"Error",description:te.message||"Failed to create plan",variant:"destructive"})}finally{S(!1)}},F=async q=>{try{const{error:te}=await $.functions.invoke("manage-subscriptions",{body:{action:"delete_plan",data:{id:q}}});if(te)throw te;c(I=>I.filter(ie=>ie.id!==q)),e({title:"Success",description:"Plan deleted successfully"})}catch(te){console.error("Error deleting plan:",te),e({title:"Error",description:te.message||"Failed to delete plan",variant:"destructive"})}},W=async(q,te)=>{try{const{error:I}=await $.functions.invoke("manage-subscriptions",{body:{action:"update_plan",data:{id:q,...te}}});if(I)throw I;c(ie=>ie.map(Z=>Z.id===q?{...Z,...te}:Z)),e({title:"Success",description:"Plan updated successfully"})}catch(I){console.error("Error updating plan:",I),e({title:"Error",description:I.message||"Failed to update plan",variant:"destructive"})}},D=q=>{w(q.id),v({price_monthly:q.price_monthly,price_yearly:q.price_yearly,max_categories:q.max_categories,max_videos_per_category:q.max_videos_per_category,max_screenshots_per_user:q.max_screenshots_per_user,storage_quota_mb:q.storage_quota_mb,stripe_monthly_price_id:q.stripe_monthly_price_id,stripe_yearly_price_id:q.stripe_yearly_price_id})},L=()=>{w(null),v({})},J=async q=>{await W(q,y),w(null),v({})},U=(q,te)=>{v(I=>({...I,[q]:te}))},ee=async(q,te)=>{j(q);try{console.log(`${te}ing promotion:`,q);const I={freeze:"freeze_promotion",unfreeze:"unfreeze_promotion",delete:"delete_promotion"},{data:ie,error:Z}=await $.functions.invoke("manage-subscriptions",{body:{action:I[te],data:{id:q}}});if(console.log("Function response:",{data:ie,error:Z}),Z)throw Z;if(ie!=null&&ie.error)throw new Error(ie.error);await K(),e({title:"Success",description:`Promotion ${te==="freeze"?"frozen":te==="unfreeze"?"unfrozen":"deleted"} successfully`})}catch(I){console.error(`Error ${te}ing promotion:`,I),e({title:"Error",description:I.message||`Failed to ${te} promotion`,variant:"destructive"})}finally{j(null)}},G=q=>new Date(q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),ce=(q,te)=>{const I=new Date(q);return I.setDate(I.getDate()+te),I.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})};return f?s.jsx("div",{className:"flex-1 space-y-6 p-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Rt,{className:"w-8 h-8 animate-spin"})})}):s.jsxs("div",{className:"flex-1 space-y-6 p-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Subscription Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your subscription tiers and activate temporary promotional bundles for marketing campaigns."})]})}),s.jsxs(Y,{children:[s.jsxs(oe,{children:[s.jsxs(le,{className:"flex items-center gap-2",children:["Stripe Configuration Status",M&&s.jsx(je,{className:M.present&&M.startsWithSk?"bg-green-100 text-green-800 hover:bg-green-100":"bg-red-100 text-red-800 hover:bg-red-100",children:M.present&&M.startsWithSk?"Connected":"Not Connected"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Verify your Stripe configuration before testing checkouts."})]}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(O,{onClick:B,disabled:_,variant:"outline",children:[_&&s.jsx(Rt,{className:"w-4 h-4 mr-2 animate-spin"}),_?"Verifying...":"Verify Stripe Setup"]}),M&&s.jsx("div",{className:"text-sm text-muted-foreground",children:M.present?M.startsWithSk?" Stripe secret key is properly configured":" Stripe key found but invalid format (must start with 'sk_')":" No Stripe secret key found"})]}),s.jsxs("div",{className:"rounded-lg bg-blue-50 dark:bg-blue-950 p-4 border border-blue-200 dark:border-blue-800",children:[s.jsx("h4",{className:"font-medium text-sm mb-2 text-blue-900 dark:text-blue-100",children:"How to configure Stripe Price IDs"}),s.jsxs("ol",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1 list-decimal list-inside",children:[s.jsxs("li",{children:["Go to your ",s.jsx("a",{href:"https://dashboard.stripe.com/products",target:"_blank",rel:"noopener noreferrer",className:"underline font-medium",children:"Stripe Dashboard Products"})]}),s.jsx("li",{children:"Create or select a product for each subscription plan"}),s.jsx("li",{children:"Add prices (monthly/yearly) to each product"}),s.jsxs("li",{children:["Copy the Price IDs (starting with ",s.jsx("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded",children:"price_"}),") and paste them in the plan configuration below"]}),s.jsx("li",{children:"Save the plan and test the checkout flow"})]}),s.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-3",children:[s.jsx("strong",{children:"Note:"})," Make sure you're using Price IDs from the same Stripe account (test/live) as your configured API keys."]})]})]})]}),s.jsxs(Y,{children:[s.jsxs(oe,{children:[s.jsx(le,{children:"Activate Promotional Bundle"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Temporarily enable a subscription tier for a specified duration using a promo code."})]}),s.jsxs(X,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm",children:"To activate a promotional bundle:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 ml-4",children:[s.jsxs("li",{children:[" Enter the ",s.jsx("strong",{children:"Promo Code"})," you wish to activate."]}),s.jsxs("li",{children:[" Select the ",s.jsx("strong",{children:"Validity Period"})," for how long the bundle will be active."]}),s.jsxs("li",{children:[" Choose the ",s.jsx("strong",{children:"Subscription Bundle"})," (e.g., Premium, Gold) to be activated."]}),s.jsxs("li",{children:[" Click ",s.jsx("strong",{children:"Activate Bundle"})," to apply the promotion."]}),s.jsx("li",{children:" For current active promotions, refer to the table below."})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"promo-code",children:"Promo Code"}),s.jsx(de,{id:"promo-code",placeholder:"",value:t,onChange:q=>r(q.target.value.toUpperCase()),style:{textTransform:"uppercase"}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"validity-period",children:"Validity Period"}),s.jsxs(qe,{value:n,onValueChange:a,children:[s.jsx(Ve,{children:s.jsx(He,{placeholder:""})}),s.jsxs(We,{children:[s.jsx(se,{value:"7 days",children:"7 days"}),s.jsx(se,{value:"1 Month",children:"1 Month"}),s.jsx(se,{value:"3 Months",children:"3 Months"}),s.jsx(se,{value:"6 Months",children:"6 Months"}),s.jsx(se,{value:"1 Year",children:"1 Year"}),s.jsx(se,{value:"Lifetime",children:"Lifetime"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"subscription-bundle",children:"Subscription Bundle"}),s.jsxs(qe,{value:i,onValueChange:o,children:[s.jsx(Ve,{children:s.jsx(He,{placeholder:""})}),s.jsx(We,{children:l.map(q=>s.jsx(se,{value:q.name,children:q.name},q.id))})]})]})]}),s.jsxs(O,{className:"w-fit",onClick:z,disabled:p,children:[p&&s.jsx(Rt,{className:"w-4 h-4 mr-2 animate-spin"}),p?"Activating...":"Activate Bundle"]})]})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsx(le,{children:"Active Promotions"})}),s.jsx(X,{className:"p-0",children:s.jsxs(ju,{children:[s.jsx(Nu,{children:s.jsxs(_n,{children:[s.jsx(nt,{children:"Promo Code"}),s.jsx(nt,{children:"Bundle"}),s.jsx(nt,{children:"Start Date"}),s.jsx(nt,{children:"End Date"}),s.jsx(nt,{children:"Status"}),s.jsx(nt,{children:"Actions"})]})}),s.jsx(Su,{children:d.length>0?d.map((q,te)=>s.jsxs(_n,{children:[s.jsx(Ze,{className:"font-medium",children:q.code}),s.jsx(Ze,{children:q.plans.name}),s.jsx(Ze,{className:"text-muted-foreground",children:G(q.created_at)}),s.jsx(Ze,{className:"text-muted-foreground",children:ce(q.created_at,q.validity_days)}),s.jsx(Ze,{children:s.jsx(je,{className:q.status==="active"?"bg-green-100 text-green-800 hover:bg-green-100":"bg-yellow-100 text-yellow-800 hover:bg-yellow-100",children:q.status})}),s.jsx(Ze,{children:s.jsxs("div",{className:"flex gap-2",children:[q.status==="active"?s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>ee(q.id,"freeze"),disabled:b===q.id,children:b===q.id?s.jsx(Rt,{className:"h-4 w-4 animate-spin"}):s.jsx(zW,{className:"h-4 w-4"})}):s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>ee(q.id,"unfreeze"),disabled:b===q.id,className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:b===q.id?s.jsx(Rt,{className:"h-4 w-4 animate-spin"}):s.jsx(yr,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>ee(q.id,"delete"),disabled:b===q.id,children:b===q.id?s.jsx(Rt,{className:"h-4 w-4 animate-spin"}):s.jsx(yt,{className:"h-4 w-4"})})]})})]},te)):s.jsx(_n,{children:s.jsx(Ze,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No active promotions at the moment."})})})]})})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsx(O,{onClick:()=>k(!C),variant:C?"outline":"default",children:C?"Cancel":"Create New Plan"})}),C&&s.jsxs(Y,{children:[s.jsx(oe,{className:"pb-3",children:s.jsx(le,{className:"text-lg",children:"Create New Plan"})}),s.jsxs(X,{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"plan-name",className:"text-xs",children:"Name"}),s.jsx(de,{id:"plan-name",className:"h-8",value:A.name,onChange:q=>P({...A,name:q.target.value})})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"plan-price-monthly",className:"text-xs",children:"Monthly ($)"}),s.jsx(de,{id:"plan-price-monthly",className:"h-8",type:"number",step:"0.01",value:A.price_monthly,onChange:q=>P({...A,price_monthly:parseFloat(q.target.value)||0})})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"plan-price-yearly",className:"text-xs",children:"Yearly ($)"}),s.jsx(de,{id:"plan-price-yearly",className:"h-8",type:"number",step:"0.01",value:A.price_yearly,onChange:q=>P({...A,price_yearly:parseFloat(q.target.value)||0})})]}),s.jsxs("div",{children:[s.jsx(Q,{className:"text-xs",children:"Categories"}),s.jsxs(qe,{value:A.max_categories.toString(),onValueChange:q=>P({...A,max_categories:parseInt(q)}),children:[s.jsx(Ve,{className:"h-8",children:s.jsx(He,{})}),s.jsxs(We,{children:[s.jsx(se,{value:"1",children:"1"}),s.jsx(se,{value:"3",children:"3"}),s.jsx(se,{value:"10",children:"10"}),s.jsx(se,{value:"20",children:"20"}),s.jsx(se,{value:"50",children:"50"}),s.jsx(se,{value:"-1",children:"Unlimited"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx(Q,{className:"text-xs",children:"Videos/Category"}),s.jsxs(qe,{value:A.max_videos_per_category.toString(),onValueChange:q=>P({...A,max_videos_per_category:parseInt(q)}),children:[s.jsx(Ve,{className:"h-8",children:s.jsx(He,{})}),s.jsxs(We,{children:[s.jsx(se,{value:"5",children:"5"}),s.jsx(se,{value:"10",children:"10"}),s.jsx(se,{value:"25",children:"25"}),s.jsx(se,{value:"50",children:"50"}),s.jsx(se,{value:"100",children:"100"}),s.jsx(se,{value:"-1",children:"Unlimited"})]})]})]}),s.jsxs("div",{children:[s.jsxs(Q,{className:"text-xs",children:["Max Snapshots",s.jsx("span",{className:"block text-[10px] font-normal text-muted-foreground mt-0.5",children:"Set limit or choose unlimited"})]}),s.jsxs(qe,{value:((H=A.max_screenshots_per_user)==null?void 0:H.toString())||"5",onValueChange:q=>P({...A,max_screenshots_per_user:parseInt(q)}),children:[s.jsx(Ve,{className:"h-8",children:s.jsx(He,{})}),s.jsxs(We,{children:[s.jsx(se,{value:"5",children:"5"}),s.jsx(se,{value:"25",children:"25"}),s.jsx(se,{value:"50",children:"50"}),s.jsx(se,{value:"100",children:"100"}),s.jsx(se,{value:"250",children:"250"}),s.jsx(se,{value:"500",children:"500"}),s.jsx(se,{value:"-1",children:"Unlimited"})]})]})]}),s.jsxs("div",{children:[s.jsx(Q,{className:"text-xs",children:"Features (JSON)"}),s.jsx(de,{className:"h-8",value:A.featuresText,onChange:q=>P({...A,featuresText:q.target.value}),placeholder:"{}"})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-4",children:[s.jsx(gt,{checked:A.enabled,onCheckedChange:q=>P({...A,enabled:q})}),s.jsx(Q,{className:"text-xs",children:"Enabled"})]})]}),s.jsxs(O,{size:"sm",onClick:V,disabled:N||!A.name,children:[N&&s.jsx(Rt,{className:"w-3 h-3 mr-2 animate-spin"}),N?"Creating...":"Create Plan"]})]})]}),s.jsxs(Y,{children:[s.jsxs(oe,{children:[s.jsx(le,{children:"Subscription Plan Configuration"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Click the edit button on any plan to adjust pricing, limits, and features. Changes are saved individually per plan."})]}),s.jsx(X,{children:s.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:l.map(q=>{var ie,Z,pe,xe,be,ke;const te=g===q.id,I=te?y:q;return s.jsxs(Y,{children:[s.jsxs(oe,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(le,{className:"text-lg",children:q.name}),s.jsx("div",{className:"flex items-center gap-2",children:te?s.jsxs("div",{className:"flex gap-2",children:[s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>J(q.id),children:s.jsx(aa,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:L,children:s.jsx(xi,{className:"h-4 w-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>D(q),children:s.jsx(VW,{className:"h-4 w-4"})}),s.jsxs(la,{children:[s.jsx(Dv,{asChild:!0,children:s.jsx(O,{variant:"ghost",size:"sm",className:"text-destructive hover:bg-destructive hover:text-destructive-foreground",children:s.jsx(yt,{className:"h-4 w-4"})})}),s.jsxs(vs,{children:[s.jsxs(ys,{children:[s.jsx(ws,{children:"Delete Plan"}),s.jsxs(js,{children:['Are you sure you want to delete the "',q.name,'" plan? This action cannot be undone.']})]}),s.jsxs(bs,{children:[s.jsx(Ss,{children:"Cancel"}),s.jsx(Ns,{onClick:()=>F(q.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(Q,{className:"text-xs text-muted-foreground",children:"Monthly Price ($)"}),te?s.jsx(de,{type:"number",step:"0.01",value:I.price_monthly,onChange:ve=>U("price_monthly",parseFloat(ve.target.value)||0),className:"text-lg font-bold"}):s.jsxs("div",{className:"text-2xl font-bold",children:["$ ",(ie=I.price_monthly)==null?void 0:ie.toFixed(2)]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Q,{className:"text-xs text-muted-foreground",children:"Yearly Price ($)"}),te?s.jsx(de,{type:"number",step:"0.01",value:I.price_yearly,onChange:ve=>U("price_yearly",parseFloat(ve.target.value)||0),className:"text-base font-semibold"}):s.jsxs("div",{className:"text-lg font-semibold",children:["$ ",(Z=I.price_yearly)==null?void 0:Z.toFixed(2)]})]})]})]}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Q,{className:"text-sm font-medium",children:"STRIPE CONFIGURATION"}),s.jsx("a",{href:"https://dashboard.stripe.com/products",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline",children:"Open Stripe Dashboard "})]}),s.jsxs("div",{className:"space-y-3 mt-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{className:"text-xs text-muted-foreground",children:["Monthly Price ID",!I.stripe_monthly_price_id&&s.jsx("span",{className:"ml-2 text-amber-600",children:" Required for checkout"})]}),te?s.jsx(de,{placeholder:"price_1234... (from Stripe Dashboard)",value:I.stripe_monthly_price_id||"",onChange:ve=>U("stripe_monthly_price_id",ve.target.value||null),className:"text-xs font-mono"}):s.jsx("div",{className:`text-xs font-mono p-2 rounded ${I.stripe_monthly_price_id?"bg-muted":"bg-amber-50 dark:bg-amber-950 text-amber-900 dark:text-amber-100 border border-amber-200 dark:border-amber-800"}`,children:I.stripe_monthly_price_id||"Not configured - Click edit to add"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{className:"text-xs text-muted-foreground",children:["Yearly Price ID",!I.stripe_yearly_price_id&&s.jsx("span",{className:"ml-2 text-amber-600",children:" Required for checkout"})]}),te?s.jsx(de,{placeholder:"price_5678... (from Stripe Dashboard)",value:I.stripe_yearly_price_id||"",onChange:ve=>U("stripe_yearly_price_id",ve.target.value||null),className:"text-xs font-mono"}):s.jsx("div",{className:`text-xs font-mono p-2 rounded ${I.stripe_yearly_price_id?"bg-muted":"bg-amber-50 dark:bg-amber-950 text-amber-900 dark:text-amber-100 border border-amber-200 dark:border-amber-800"}`,children:I.stripe_yearly_price_id||"Not configured - Click edit to add"})]})]})]}),s.jsxs("div",{children:[s.jsx(Q,{className:"text-sm font-medium",children:"LIMITS"}),s.jsxs("div",{className:"space-y-3 mt-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Categories:"}),te?s.jsxs(qe,{value:(pe=I.max_categories)==null?void 0:pe.toString(),onValueChange:ve=>U("max_categories",parseInt(ve)),children:[s.jsx(Ve,{className:"w-24 h-8",children:s.jsx(He,{})}),s.jsxs(We,{children:[s.jsx(se,{value:"1",children:"1"}),s.jsx(se,{value:"3",children:"3"}),s.jsx(se,{value:"10",children:"10"}),s.jsx(se,{value:"20",children:"20"}),s.jsx(se,{value:"50",children:"50"}),s.jsx(se,{value:"-1",children:"Unlimited"})]})]}):s.jsx("span",{className:"font-medium",children:I.max_categories===-1?"Unlimited":I.max_categories})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Videos per category:"}),te?s.jsxs(qe,{value:(xe=I.max_videos_per_category)==null?void 0:xe.toString(),onValueChange:ve=>U("max_videos_per_category",parseInt(ve)),children:[s.jsx(Ve,{className:"w-24 h-8",children:s.jsx(He,{})}),s.jsxs(We,{children:[s.jsx(se,{value:"5",children:"5"}),s.jsx(se,{value:"10",children:"10"}),s.jsx(se,{value:"25",children:"25"}),s.jsx(se,{value:"50",children:"50"}),s.jsx(se,{value:"100",children:"100"}),s.jsx(se,{value:"-1",children:"Unlimited"})]})]}):s.jsx("span",{className:"font-medium",children:I.max_videos_per_category===-1?"Unlimited":I.max_videos_per_category})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Max Snapshots:"}),te?s.jsxs(qe,{value:((be=I.max_screenshots_per_user)==null?void 0:be.toString())||"5",onValueChange:ve=>U("max_screenshots_per_user",parseInt(ve)),children:[s.jsx(Ve,{className:"w-24 h-8",children:s.jsx(He,{})}),s.jsxs(We,{children:[s.jsx(se,{value:"5",children:"5"}),s.jsx(se,{value:"25",children:"25"}),s.jsx(se,{value:"50",children:"50"}),s.jsx(se,{value:"100",children:"100"}),s.jsx(se,{value:"250",children:"250"}),s.jsx(se,{value:"500",children:"500"}),s.jsx(se,{value:"-1",children:"Unlimited"})]})]}):s.jsx("span",{className:"font-medium",children:I.max_screenshots_per_user===-1?"Unlimited":I.max_screenshots_per_user})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Storage Quota:"}),te?s.jsxs(qe,{value:((ke=I.storage_quota_mb)==null?void 0:ke.toString())||"null",onValueChange:ve=>U("storage_quota_mb",ve==="null"?null:parseInt(ve)),children:[s.jsx(Ve,{className:"w-32 h-8",children:s.jsx(He,{})}),s.jsxs(We,{children:[s.jsx(se,{value:"10",children:"10 MB"}),s.jsx(se,{value:"50",children:"50 MB"}),s.jsx(se,{value:"100",children:"100 MB"}),s.jsx(se,{value:"500",children:"500 MB"}),s.jsx(se,{value:"1024",children:"1 GB"}),s.jsx(se,{value:"5120",children:"5 GB"}),s.jsx(se,{value:"10240",children:"10 GB"}),s.jsx(se,{value:"null",children:"Unlimited"})]})]}):s.jsx("span",{className:"font-medium",children:I.storage_quota_mb===null?"Unlimited":I.storage_quota_mb>=1024?`${(I.storage_quota_mb/1024).toFixed(0)} GB`:`${I.storage_quota_mb} MB`})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Plan Enabled"}),s.jsx(gt,{checked:q.enabled,onCheckedChange:ve=>W(q.id,{enabled:ve}),disabled:te})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(O,{className:"w-full transition-all duration-200 hover:bg-primary/90 hover:shadow-md active:scale-95 active:shadow-sm",variant:"default",disabled:te||!q.stripe_monthly_price_id&&q.price_monthly>0,onClick:()=>{if(q.price_monthly===0){e({title:"Free Plan",description:"Free plans do not require Stripe checkout. Users can select this plan directly.",variant:"default"});return}$.functions.invoke("create-subscription-checkout",{body:{plan_id:q.id,billing_interval:"monthly",redirect_base:window.location.origin}}).then(async({data:ve,error:Le})=>{var ft;if(console.log("Test Monthly Checkout Response:",{data:ve,error:Le}),ve!=null&&ve.error){e({title:"Checkout error",description:ve.error,variant:"destructive"});return}if(Le){let tr=Le.message||"Failed to start checkout";try{const It=(ft=Le==null?void 0:Le.context)==null?void 0:ft.response;if(It&&typeof It.text=="function"){const rr=await It.text();try{const An=JSON.parse(rr);An.error&&(tr=An.error)}catch{rr&&rr.length<300&&(tr=rr)}}}catch{}e({title:"Checkout error",description:tr,variant:"destructive"});return}ve!=null&&ve.url?(window.open(ve.url,"_blank"),e({title:"Test Checkout Created",description:"Stripe checkout page opened in new tab. Check for popup blockers if you don't see it."})):e({title:"Checkout error",description:"No checkout URL returned",variant:"destructive"})})},children:q.price_monthly===0?"Free Plan - No Checkout":q.stripe_monthly_price_id?"Test Monthly":"Monthly - No Price ID"}),s.jsx(O,{className:"w-full transition-all duration-200 hover:bg-secondary/80 hover:shadow-md active:scale-95 active:shadow-sm border-2",variant:"outline",disabled:te||!q.stripe_yearly_price_id&&q.price_yearly>0,onClick:()=>{if(q.price_yearly===0){e({title:"Free Plan",description:"Free plans do not require Stripe checkout. Users can select this plan directly.",variant:"default"});return}$.functions.invoke("create-subscription-checkout",{body:{plan_id:q.id,billing_interval:"yearly",redirect_base:window.location.origin}}).then(async({data:ve,error:Le})=>{var ft;if(console.log("Test Yearly Checkout Response:",{data:ve,error:Le}),ve!=null&&ve.error){e({title:"Checkout error",description:ve.error,variant:"destructive"});return}if(Le){let tr=Le.message||"Failed to start checkout";try{const It=(ft=Le==null?void 0:Le.context)==null?void 0:ft.response;if(It&&typeof It.text=="function"){const rr=await It.text();try{const An=JSON.parse(rr);An.error&&(tr=An.error)}catch{rr&&rr.length<300&&(tr=rr)}}}catch{}e({title:"Checkout error",description:tr,variant:"destructive"});return}ve!=null&&ve.url?(window.open(ve.url,"_blank"),e({title:"Test Checkout Created",description:"Stripe checkout page opened in new tab. Check for popup blockers if you don't see it."})):e({title:"Checkout error",description:"No checkout URL returned",variant:"destructive"})})},children:q.price_yearly===0?"Free Plan - No Checkout":q.stripe_yearly_price_id?"Test Yearly":"Yearly - No Price ID"})]})]})]},q.id)})})})]})]})}function ije({open:e,onOpenChange:t}){const{toast:r}=Ge(),[n,a]=h.useState(""),[i,o]=h.useState(""),[l,c]=h.useState(""),[d,u]=h.useState(!1),f=()=>{a(""),o(""),c("")},m=async p=>{var x;if(p.preventDefault(),!n||!i||!l){r({title:"Missing information",description:"Please fill in all fields."});return}if(i.length<8){r({title:"Weak password",description:"New password must be at least 8 characters."});return}if(i!==l){r({title:"Password mismatch",description:"New password and confirmation do not match."});return}u(!0);try{const{data:g,error:w}=await $.auth.getUser();if(w||!((x=g.user)!=null&&x.email))throw new Error((w==null?void 0:w.message)||"Unable to load current user.");const{error:y}=await $.auth.signInWithPassword({email:g.user.email,password:n});if(y)throw new Error("Current password is incorrect.");const{error:v}=await $.auth.updateUser({password:i});if(v)throw new Error(v.message);r({title:"Password updated",description:"Your password has been changed successfully."}),t(!1),f()}catch(g){r({title:"Update failed",description:g.message||"Please try again."})}finally{u(!1)}};return s.jsx(Xe,{open:e,onOpenChange:p=>{t(p),p||f()},children:s.jsxs(Qe,{className:"sm:max-w-md",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Change Password"}),s.jsx(En,{children:"Enter your current password and choose a new one."})]}),s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"current",children:"Current password"}),s.jsx(de,{id:"current",type:"password",autoComplete:"current-password",value:n,onChange:p=>a(p.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"new",children:"New password"}),s.jsx(de,{id:"new",type:"password",autoComplete:"new-password",value:i,onChange:p=>o(p.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"confirm",children:"Confirm new password"}),s.jsx(de,{id:"confirm",type:"password",autoComplete:"new-password",value:l,onChange:p=>c(p.target.value)})]}),s.jsxs(ln,{children:[s.jsx(O,{type:"button",variant:"outline",onClick:()=>{t(!1),f()},children:"Cancel"}),s.jsx(O,{type:"submit",disabled:d,children:d?"Updating...":"Update Password"})]})]})]})})}var hm={},oje=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Iz={},Jn={};let K_;const lje=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Jn.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Jn.getSymbolTotalCodewords=function(t){return lje[t]};Jn.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};Jn.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');K_=t};Jn.isKanjiModeEnabled=function(){return typeof K_<"u"};Jn.toSJIS=function(t){return K_(t)};var zy={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,a){if(e.isValid(n))return n;try{return t(n)}catch{return a}}})(zy);function Mz(){this.buffer=[],this.length=0}Mz.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var cje=Mz;function mm(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}mm.prototype.set=function(e,t,r,n){const a=e*this.size+t;this.data[a]=r,n&&(this.reservedBit[a]=!0)};mm.prototype.get=function(e,t){return this.data[e*this.size+t]};mm.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};mm.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var dje=mm,Lz={};(function(e){const t=Jn.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const a=Math.floor(n/7)+2,i=t(n),o=i===145?26:Math.ceil((i-13)/(2*a-2))*2,l=[i-7];for(let c=1;c<a-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},e.getPositions=function(n){const a=[],i=e.getRowColCoords(n),o=i.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||a.push([i[l],i[c]]);return a}})(Lz);var $z={};const uje=Jn.getSymbolSize,fO=7;$z.getPositions=function(t){const r=uje(t);return[[0,0],[r-fO,0],[0,r-fO]]};var Fz={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},e.from=function(a){return e.isValid(a)?parseInt(a,10):void 0},e.getPenaltyN1=function(a){const i=a.size;let o=0,l=0,c=0,d=null,u=null;for(let f=0;f<i;f++){l=c=0,d=u=null;for(let m=0;m<i;m++){let p=a.get(f,m);p===d?l++:(l>=5&&(o+=t.N1+(l-5)),d=p,l=1),p=a.get(m,f),p===u?c++:(c>=5&&(o+=t.N1+(c-5)),u=p,c=1)}l>=5&&(o+=t.N1+(l-5)),c>=5&&(o+=t.N1+(c-5))}return o},e.getPenaltyN2=function(a){const i=a.size;let o=0;for(let l=0;l<i-1;l++)for(let c=0;c<i-1;c++){const d=a.get(l,c)+a.get(l,c+1)+a.get(l+1,c)+a.get(l+1,c+1);(d===4||d===0)&&o++}return o*t.N2},e.getPenaltyN3=function(a){const i=a.size;let o=0,l=0,c=0;for(let d=0;d<i;d++){l=c=0;for(let u=0;u<i;u++)l=l<<1&2047|a.get(d,u),u>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|a.get(u,d),u>=10&&(c===1488||c===93)&&o++}return o*t.N3},e.getPenaltyN4=function(a){let i=0;const o=a.data.length;for(let c=0;c<o;c++)i+=a.data[c];return Math.abs(Math.ceil(i*100/o/5)-10)*t.N4};function r(n,a,i){switch(n){case e.Patterns.PATTERN000:return(a+i)%2===0;case e.Patterns.PATTERN001:return a%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(a+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return a*i%2+a*i%3===0;case e.Patterns.PATTERN110:return(a*i%2+a*i%3)%2===0;case e.Patterns.PATTERN111:return(a*i%3+(a+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(a,i){const o=i.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)i.isReserved(c,l)||i.xor(c,l,r(a,c,l))},e.getBestMask=function(a,i){const o=Object.keys(e.Patterns).length;let l=0,c=1/0;for(let d=0;d<o;d++){i(d),e.applyMask(d,a);const u=e.getPenaltyN1(a)+e.getPenaltyN2(a)+e.getPenaltyN3(a)+e.getPenaltyN4(a);e.applyMask(d,a),u<c&&(c=u,l=d)}return l}})(Fz);var Vy={};const io=zy,hp=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],mp=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Vy.getBlocksCount=function(t,r){switch(r){case io.L:return hp[(t-1)*4+0];case io.M:return hp[(t-1)*4+1];case io.Q:return hp[(t-1)*4+2];case io.H:return hp[(t-1)*4+3];default:return}};Vy.getTotalCodewordsCount=function(t,r){switch(r){case io.L:return mp[(t-1)*4+0];case io.M:return mp[(t-1)*4+1];case io.Q:return mp[(t-1)*4+2];case io.H:return mp[(t-1)*4+3];default:return}};var Uz={},Wy={};const Sf=new Uint8Array(512),Nx=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)Sf[r]=t,Nx[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)Sf[r]=Sf[r-255]})();Wy.log=function(t){if(t<1)throw new Error("log("+t+")");return Nx[t]};Wy.exp=function(t){return Sf[t]};Wy.mul=function(t,r){return t===0||r===0?0:Sf[Nx[t]+Nx[r]]};(function(e){const t=Wy;e.mul=function(n,a){const i=new Uint8Array(n.length+a.length-1);for(let o=0;o<n.length;o++)for(let l=0;l<a.length;l++)i[o+l]^=t.mul(n[o],a[l]);return i},e.mod=function(n,a){let i=new Uint8Array(n);for(;i.length-a.length>=0;){const o=i[0];for(let c=0;c<a.length;c++)i[c]^=t.mul(a[c],o);let l=0;for(;l<i.length&&i[l]===0;)l++;i=i.slice(l)}return i},e.generateECPolynomial=function(n){let a=new Uint8Array([1]);for(let i=0;i<n;i++)a=e.mul(a,new Uint8Array([1,t.exp(i)]));return a}})(Uz);const Bz=Uz;function Y_(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Y_.prototype.initialize=function(t){this.degree=t,this.genPoly=Bz.generateECPolynomial(this.degree)};Y_.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const n=Bz.mod(r,this.genPoly),a=this.degree-n.length;if(a>0){const i=new Uint8Array(this.degree);return i.set(n,a),i}return n};var fje=Y_,zz={},Jo={},Q_={};Q_.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var $a={};const Vz="[0-9]+",hje="[A-Z $%*+\\-./:]+";let yh="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";yh=yh.replace(/u/g,"\\u");const mje="(?:(?![A-Z0-9 $%*+\\-./:]|"+yh+`)(?:.|[\r
]))+`;$a.KANJI=new RegExp(yh,"g");$a.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");$a.BYTE=new RegExp(mje,"g");$a.NUMERIC=new RegExp(Vz,"g");$a.ALPHANUMERIC=new RegExp(hje,"g");const pje=new RegExp("^"+yh+"$"),gje=new RegExp("^"+Vz+"$"),xje=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");$a.testKanji=function(t){return pje.test(t)};$a.testNumeric=function(t){return gje.test(t)};$a.testAlphanumeric=function(t){return xje.test(t)};(function(e){const t=Q_,r=$a;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return r.testNumeric(i)?e.NUMERIC:r.testAlphanumeric(i)?e.ALPHANUMERIC:r.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function n(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+a)}}e.from=function(i,o){if(e.isValid(i))return i;try{return n(i)}catch{return o}}})(Jo);(function(e){const t=Jn,r=Vy,n=zy,a=Jo,i=Q_,o=7973,l=t.getBCHDigit(o);function c(m,p,x){for(let g=1;g<=40;g++)if(p<=e.getCapacity(g,x,m))return g}function d(m,p){return a.getCharCountIndicator(m,p)+4}function u(m,p){let x=0;return m.forEach(function(g){const w=d(g.mode,p);x+=w+g.getBitsLength()}),x}function f(m,p){for(let x=1;x<=40;x++)if(u(m,x)<=e.getCapacity(x,p,a.MIXED))return x}e.from=function(p,x){return i.isValid(p)?parseInt(p,10):x},e.getCapacity=function(p,x,g){if(!i.isValid(p))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=a.BYTE);const w=t.getSymbolTotalCodewords(p),y=r.getTotalCodewordsCount(p,x),v=(w-y)*8;if(g===a.MIXED)return v;const b=v-d(g,p);switch(g){case a.NUMERIC:return Math.floor(b/10*3);case a.ALPHANUMERIC:return Math.floor(b/11*2);case a.KANJI:return Math.floor(b/13);case a.BYTE:default:return Math.floor(b/8)}},e.getBestVersionForData=function(p,x){let g;const w=n.from(x,n.M);if(Array.isArray(p)){if(p.length>1)return f(p,w);if(p.length===0)return 1;g=p[0]}else g=p;return c(g.mode,g.getLength(),w)},e.getEncodedBits=function(p){if(!i.isValid(p)||p<7)throw new Error("Invalid QR Code version");let x=p<<12;for(;t.getBCHDigit(x)-l>=0;)x^=o<<t.getBCHDigit(x)-l;return p<<12|x}})(zz);var Wz={};const wN=Jn,qz=1335,vje=21522,hO=wN.getBCHDigit(qz);Wz.getEncodedBits=function(t,r){const n=t.bit<<3|r;let a=n<<10;for(;wN.getBCHDigit(a)-hO>=0;)a^=qz<<wN.getBCHDigit(a)-hO;return(n<<10|a)^vje};var Hz={};const yje=Jo;function qd(e){this.mode=yje.NUMERIC,this.data=e.toString()}qd.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};qd.prototype.getLength=function(){return this.data.length};qd.prototype.getBitsLength=function(){return qd.getBitsLength(this.data.length)};qd.prototype.write=function(t){let r,n,a;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),a=parseInt(n,10),t.put(a,10);const i=this.data.length-r;i>0&&(n=this.data.substr(r),a=parseInt(n,10),t.put(a,i*3+1))};var bje=qd;const wje=Jo,O0=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Hd(e){this.mode=wje.ALPHANUMERIC,this.data=e}Hd.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Hd.prototype.getLength=function(){return this.data.length};Hd.prototype.getBitsLength=function(){return Hd.getBitsLength(this.data.length)};Hd.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=O0.indexOf(this.data[r])*45;n+=O0.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(O0.indexOf(this.data[r]),6)};var jje=Hd;const Nje=Jo;function Gd(e){this.mode=Nje.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Gd.getBitsLength=function(t){return t*8};Gd.prototype.getLength=function(){return this.data.length};Gd.prototype.getBitsLength=function(){return Gd.getBitsLength(this.data.length)};Gd.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var Sje=Gd;const Cje=Jo,_je=Jn;function Kd(e){this.mode=Cje.KANJI,this.data=e}Kd.getBitsLength=function(t){return t*13};Kd.prototype.getLength=function(){return this.data.length};Kd.prototype.getBitsLength=function(){return Kd.getBitsLength(this.data.length)};Kd.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=_je.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var kje=Kd,Gz={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,a){var i={},o={};o[n]=0;var l=t.PriorityQueue.make();l.push(n,0);for(var c,d,u,f,m,p,x,g,w;!l.empty();){c=l.pop(),d=c.value,f=c.cost,m=r[d]||{};for(u in m)m.hasOwnProperty(u)&&(p=m[u],x=f+p,g=o[u],w=typeof o[u]>"u",(w||g>x)&&(o[u]=x,l.push(u,x),i[u]=d))}if(typeof a<"u"&&typeof o[a]>"u"){var y=["Could not find a path from ",n," to ",a,"."].join("");throw new Error(y)}return i},extract_shortest_path_from_predecessor_list:function(r,n){for(var a=[],i=n;i;)a.push(i),r[i],i=r[i];return a.reverse(),a},find_path:function(r,n,a){var i=t.single_source_shortest_paths(r,n,a);return t.extract_shortest_path_from_predecessor_list(i,a)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,a={},i;r=r||{};for(i in n)n.hasOwnProperty(i)&&(a[i]=n[i]);return a.queue=[],a.sorter=r.sorter||n.default_sorter,a},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var a={value:r,cost:n};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Gz);var Eje=Gz.exports;(function(e){const t=Jo,r=bje,n=jje,a=Sje,i=kje,o=$a,l=Jn,c=Eje;function d(y){return unescape(encodeURIComponent(y)).length}function u(y,v,b){const j=[];let N;for(;(N=y.exec(b))!==null;)j.push({data:N[0],index:N.index,mode:v,length:N[0].length});return j}function f(y){const v=u(o.NUMERIC,t.NUMERIC,y),b=u(o.ALPHANUMERIC,t.ALPHANUMERIC,y);let j,N;return l.isKanjiModeEnabled()?(j=u(o.BYTE,t.BYTE,y),N=u(o.KANJI,t.KANJI,y)):(j=u(o.BYTE_KANJI,t.BYTE,y),N=[]),v.concat(b,j,N).sort(function(C,k){return C.index-k.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function m(y,v){switch(v){case t.NUMERIC:return r.getBitsLength(y);case t.ALPHANUMERIC:return n.getBitsLength(y);case t.KANJI:return i.getBitsLength(y);case t.BYTE:return a.getBitsLength(y)}}function p(y){return y.reduce(function(v,b){const j=v.length-1>=0?v[v.length-1]:null;return j&&j.mode===b.mode?(v[v.length-1].data+=b.data,v):(v.push(b),v)},[])}function x(y){const v=[];for(let b=0;b<y.length;b++){const j=y[b];switch(j.mode){case t.NUMERIC:v.push([j,{data:j.data,mode:t.ALPHANUMERIC,length:j.length},{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.ALPHANUMERIC:v.push([j,{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.KANJI:v.push([j,{data:j.data,mode:t.BYTE,length:d(j.data)}]);break;case t.BYTE:v.push([{data:j.data,mode:t.BYTE,length:d(j.data)}])}}return v}function g(y,v){const b={},j={start:{}};let N=["start"];for(let S=0;S<y.length;S++){const C=y[S],k=[];for(let A=0;A<C.length;A++){const P=C[A],_=""+S+A;k.push(_),b[_]={node:P,lastCount:0},j[_]={};for(let E=0;E<N.length;E++){const M=N[E];b[M]&&b[M].node.mode===P.mode?(j[M][_]=m(b[M].lastCount+P.length,P.mode)-m(b[M].lastCount,P.mode),b[M].lastCount+=P.length):(b[M]&&(b[M].lastCount=P.length),j[M][_]=m(P.length,P.mode)+4+t.getCharCountIndicator(P.mode,v))}}N=k}for(let S=0;S<N.length;S++)j[N[S]].end=0;return{map:j,table:b}}function w(y,v){let b;const j=t.getBestModeForData(y);if(b=t.from(v,j),b!==t.BYTE&&b.bit<j.bit)throw new Error('"'+y+'" cannot be encoded with mode '+t.toString(b)+`.
 Suggested mode is: `+t.toString(j));switch(b===t.KANJI&&!l.isKanjiModeEnabled()&&(b=t.BYTE),b){case t.NUMERIC:return new r(y);case t.ALPHANUMERIC:return new n(y);case t.KANJI:return new i(y);case t.BYTE:return new a(y)}}e.fromArray=function(v){return v.reduce(function(b,j){return typeof j=="string"?b.push(w(j,null)):j.data&&b.push(w(j.data,j.mode)),b},[])},e.fromString=function(v,b){const j=f(v,l.isKanjiModeEnabled()),N=x(j),S=g(N,b),C=c.find_path(S.map,"start","end"),k=[];for(let A=1;A<C.length-1;A++)k.push(S.table[C[A]].node);return e.fromArray(p(k))},e.rawSplit=function(v){return e.fromArray(f(v,l.isKanjiModeEnabled()))}})(Hz);const qy=Jn,R0=zy,Pje=cje,Aje=dje,Tje=Lz,Oje=$z,jN=Fz,NN=Vy,Rje=fje,Sx=zz,Dje=Wz,Ije=Jo,D0=Hz;function Mje(e,t){const r=e.size,n=Oje.getPositions(t);for(let a=0;a<n.length;a++){const i=n[a][0],o=n[a][1];for(let l=-1;l<=7;l++)if(!(i+l<=-1||r<=i+l))for(let c=-1;c<=7;c++)o+c<=-1||r<=o+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?e.set(i+l,o+c,!0,!0):e.set(i+l,o+c,!1,!0))}}function Lje(e){const t=e.size;for(let r=8;r<t-8;r++){const n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function $je(e,t){const r=Tje.getPositions(t);for(let n=0;n<r.length;n++){const a=r[n][0],i=r[n][1];for(let o=-2;o<=2;o++)for(let l=-2;l<=2;l++)o===-2||o===2||l===-2||l===2||o===0&&l===0?e.set(a+o,i+l,!0,!0):e.set(a+o,i+l,!1,!0)}}function Fje(e,t){const r=e.size,n=Sx.getEncodedBits(t);let a,i,o;for(let l=0;l<18;l++)a=Math.floor(l/3),i=l%3+r-8-3,o=(n>>l&1)===1,e.set(a,i,o,!0),e.set(i,a,o,!0)}function I0(e,t,r){const n=e.size,a=Dje.getEncodedBits(t,r);let i,o;for(i=0;i<15;i++)o=(a>>i&1)===1,i<6?e.set(i,8,o,!0):i<8?e.set(i+1,8,o,!0):e.set(n-15+i,8,o,!0),i<8?e.set(8,n-i-1,o,!0):i<9?e.set(8,15-i-1+1,o,!0):e.set(8,15-i-1,o,!0);e.set(n-8,8,1,!0)}function Uje(e,t){const r=e.size;let n=-1,a=r-1,i=7,o=0;for(let l=r-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!e.isReserved(a,l-c)){let d=!1;o<t.length&&(d=(t[o]>>>i&1)===1),e.set(a,l-c,d),i--,i===-1&&(o++,i=7)}if(a+=n,a<0||r<=a){a-=n,n=-n;break}}}function Bje(e,t,r){const n=new Pje;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),Ije.getCharCountIndicator(c.mode,e)),c.write(n)});const a=qy.getSymbolTotalCodewords(e),i=NN.getTotalCodewordsCount(e,t),o=(a-i)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const l=(o-n.getLengthInBits())/8;for(let c=0;c<l;c++)n.put(c%2?17:236,8);return zje(n,e,t)}function zje(e,t,r){const n=qy.getSymbolTotalCodewords(t),a=NN.getTotalCodewordsCount(t,r),i=n-a,o=NN.getBlocksCount(t,r),l=n%o,c=o-l,d=Math.floor(n/o),u=Math.floor(i/o),f=u+1,m=d-u,p=new Rje(m);let x=0;const g=new Array(o),w=new Array(o);let y=0;const v=new Uint8Array(e.buffer);for(let C=0;C<o;C++){const k=C<c?u:f;g[C]=v.slice(x,x+k),w[C]=p.encode(g[C]),x+=k,y=Math.max(y,k)}const b=new Uint8Array(n);let j=0,N,S;for(N=0;N<y;N++)for(S=0;S<o;S++)N<g[S].length&&(b[j++]=g[S][N]);for(N=0;N<m;N++)for(S=0;S<o;S++)b[j++]=w[S][N];return b}function Vje(e,t,r,n){let a;if(Array.isArray(e))a=D0.fromArray(e);else if(typeof e=="string"){let d=t;if(!d){const u=D0.rawSplit(e);d=Sx.getBestVersionForData(u,r)}a=D0.fromString(e,d||40)}else throw new Error("Invalid data");const i=Sx.getBestVersionForData(a,r);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=Bje(t,r,a),l=qy.getSymbolSize(t),c=new Aje(l);return Mje(c,t),Lje(c),$je(c,t),I0(c,r,0),t>=7&&Fje(c,t),Uje(c,o),isNaN(n)&&(n=jN.getBestMask(c,I0.bind(null,c,r))),jN.applyMask(n,c),I0(c,r,n),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:n,segments:a}}Iz.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=R0.M,a,i;return typeof r<"u"&&(n=R0.from(r.errorCorrectionLevel,R0.M),a=Sx.from(r.version),i=jN.from(r.maskPattern),r.toSJISFunc&&qy.setToSJISFunction(r.toSJISFunc)),Vje(t,a,n,i)};var Kz={},J_={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");const a=parseInt(n.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const a=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:i,scale:i?4:o,margin:a,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,a){return a.width&&a.width>=n+a.margin*2?a.width/(n+a.margin*2):a.scale},e.getImageWidth=function(n,a){const i=e.getScale(n,a);return Math.floor((n+a.margin*2)*i)},e.qrToImageData=function(n,a,i){const o=a.modules.size,l=a.modules.data,c=e.getScale(o,i),d=Math.floor((o+i.margin*2)*c),u=i.margin*c,f=[i.color.light,i.color.dark];for(let m=0;m<d;m++)for(let p=0;p<d;p++){let x=(m*d+p)*4,g=i.color.light;if(m>=u&&p>=u&&m<d-u&&p<d-u){const w=Math.floor((m-u)/c),y=Math.floor((p-u)/c);g=f[l[w*o+y]?1:0]}n[x++]=g.r,n[x++]=g.g,n[x++]=g.b,n[x]=g.a}}})(J_);(function(e){const t=J_;function r(a,i,o){a.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,o,l){let c=l,d=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(d=n()),c=t.getOptions(c);const u=t.getImageWidth(i.modules.size,c),f=d.getContext("2d"),m=f.createImageData(u,u);return t.qrToImageData(m.data,i,c),r(f,d,u),f.putImageData(m,0,0),d},e.renderToDataURL=function(i,o,l){let c=l;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const d=e.render(i,o,c),u=c.type||"image/png",f=c.rendererOpts||{};return d.toDataURL(u,f.quality)}})(Kz);var Yz={};const Wje=J_;function mO(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function M0(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function qje(e,t,r){let n="",a=0,i=!1,o=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),d=Math.floor(l/t);!c&&!i&&(i=!0),e[l]?(o++,l>0&&c>0&&e[l-1]||(n+=i?M0("M",c+r,.5+d+r):M0("m",a,0),a=0,i=!1),c+1<t&&e[l+1]||(n+=M0("h",o),o=0)):a++}return n}Yz.render=function(t,r,n){const a=Wje.getOptions(r),i=t.modules.size,o=t.modules.data,l=i+a.margin*2,c=a.color.light.a?"<path "+mO(a.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",d="<path "+mO(a.color.dark,"stroke")+' d="'+qje(o,i,a.margin)+'"/>',u='viewBox="0 0 '+l+" "+l+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+d+`</svg>
`;return typeof n=="function"&&n(null,m),m};const Hje=oje,SN=Iz,Qz=Kz,Gje=Yz;function Z_(e,t,r,n,a){const i=[].slice.call(arguments,1),o=i.length,l=typeof i[o-1]=="function";if(!l&&!Hje())throw new Error("Callback required as last argument");if(l){if(o<2)throw new Error("Too few arguments provided");o===2?(a=r,r=t,t=n=void 0):o===3&&(t.getContext&&typeof a>"u"?(a=n,n=void 0):(a=n,n=r,r=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=t,t=n=void 0):o===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(c,d){try{const u=SN.create(r,n);c(e(u,t,n))}catch(u){d(u)}})}try{const c=SN.create(r,n);a(null,e(c,t,n))}catch(c){a(c)}}hm.create=SN.create;hm.toCanvas=Z_.bind(null,Qz.render);hm.toDataURL=Z_.bind(null,Qz.renderToDataURL);hm.toString=Z_.bind(null,function(e,t,r){return Gje.render(e,r)});function Kje({open:e,onOpenChange:t}){const[r,n]=h.useState("enroll"),[a,i]=h.useState(""),[o,l]=h.useState(""),[c,d]=h.useState(""),[u,f]=h.useState(""),[m,p]=h.useState(""),[x,g]=h.useState(!1),[w,y]=h.useState([]),{toast:v}=Ge();h.useEffect(()=>{e&&b()},[e]);const b=async()=>{try{const{data:P,error:_}=await $.auth.mfa.listFactors();if(_)throw _;y((P==null?void 0:P.totp)||[])}catch(P){console.error("Error loading factors:",P)}},j=async()=>{g(!0);try{const{data:P,error:_}=await $.auth.mfa.enroll({factorType:"totp",friendlyName:"Admin 2FA"});if(_)throw _;if(P){d(P.id),l(P.totp.secret);const E=await hm.toDataURL(P.totp.uri);i(E),n("verify")}}catch(P){v({title:"Enrollment failed",description:P.message,variant:"destructive"})}finally{g(!1)}},N=async()=>{if(!m||m.length!==6){v({title:"Invalid code",description:"Please enter a 6-digit verification code",variant:"destructive"});return}g(!0);try{const{data:P,error:_}=await $.auth.mfa.challenge({factorId:c});if(_)throw _;const{data:E,error:M}=await $.auth.mfa.verify({factorId:c,challengeId:P.id,code:m});if(M)throw M;v({title:"2FA enabled successfully",description:"Your two-factor authentication has been set up successfully."}),t(!1),k(),b()}catch(P){v({title:"Verification failed",description:P.message,variant:"destructive"})}finally{g(!1)}},S=async P=>{g(!0);try{const{error:_}=await $.auth.mfa.unenroll({factorId:P});if(_)throw _;v({title:"2FA disabled",description:"Two-factor authentication has been disabled."}),b()}catch(_){v({title:"Failed to disable 2FA",description:_.message,variant:"destructive"})}finally{g(!1)}},C=()=>{navigator.clipboard.writeText(o),v({title:"Secret copied",description:"The setup secret has been copied to your clipboard."})},k=()=>{n("enroll"),i(""),l(""),d(""),f(""),p("")},A=()=>{t(!1),k()};return s.jsx(Xe,{open:e,onOpenChange:A,children:s.jsxs(Qe,{className:"sm:max-w-2xl",children:[s.jsxs(et,{children:[s.jsxs(tt,{className:"flex items-center space-x-2",children:[s.jsx(Wn,{className:"h-5 w-5"}),s.jsx("span",{children:"Two-Factor Authentication Setup"})]}),s.jsx(En,{children:"Secure your admin account with an additional layer of protection."})]}),s.jsxs("div",{className:"space-y-6",children:[w.length>0&&s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsxs(le,{className:"text-base flex items-center space-x-2",children:[s.jsx(wd,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Active 2FA Methods"})]})}),s.jsx(X,{children:w.map(P=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Qx,{className:"h-4 w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:P.friendly_name||"TOTP Authenticator"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Status: ",P.status]})]})]}),s.jsx(O,{variant:"outline",size:"sm",onClick:()=>S(P.id),disabled:x,children:"Remove"})]},P.id))})]}),r==="enroll"&&s.jsxs(Y,{children:[s.jsxs(oe,{children:[s.jsx(le,{className:"text-base",children:"Set Up New Authenticator"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add a new TOTP authenticator app to your account."})]}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Before you begin:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm text-muted-foreground",children:[s.jsx("li",{children:"Install an authenticator app (Google Authenticator, Authy, etc.)"}),s.jsx("li",{children:"Make sure you have access to your phone"}),s.jsx("li",{children:'Click "Start Setup" to generate a QR code'})]})]}),s.jsx(O,{onClick:j,disabled:x,className:"w-full",children:x?"Setting up...":"Start 2FA Setup"})]})]}),r==="verify"&&s.jsxs(Y,{children:[s.jsxs(oe,{children:[s.jsx(le,{className:"text-base",children:"Scan QR Code"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Scan this QR code with your authenticator app, then enter the verification code."})]}),s.jsx(X,{className:"space-y-4",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a&&s.jsx("img",{src:a,alt:"2FA QR Code",className:"border rounded-lg p-4 bg-white"}),s.jsxs("div",{className:"w-full",children:[s.jsx(Q,{className:"text-sm font-medium",children:"Manual Setup Key"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx(de,{value:o,readOnly:!0,className:"font-mono text-xs"}),s.jsx(O,{variant:"outline",size:"sm",onClick:C,children:s.jsx(Pp,{className:"h-3 w-3"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Use this key if you can't scan the QR code"})]}),s.jsxs("div",{className:"w-full space-y-2",children:[s.jsx(Q,{htmlFor:"verification-code",children:"Verification Code"}),s.jsx(de,{id:"verification-code",placeholder:"Enter 6-digit code",value:m,onChange:P=>p(P.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6,className:"text-center font-mono text-lg tracking-widest"})]}),s.jsx(O,{onClick:N,disabled:x||m.length!==6,className:"w-full",children:x?"Verifying...":"Verify & Enable 2FA"})]})})]})]}),s.jsx(ln,{children:s.jsx(O,{variant:"outline",onClick:A,children:r==="verify"?"Cancel":"Close"})})]})})}function Yje({open:e,onOpenChange:t}){const[r,n]=h.useState({}),[a,i]=h.useState(!0),[o,l]=h.useState(!1),{toast:c}=Ge(),d=["enforce_2fa_for_admins","allow_2fa_for_users","require_2fa_for_sensitive_operations"];h.useEffect(()=>{e&&u()},[e]);const u=async()=>{i(!0);const{data:m,error:p}=await $.from("system_settings").select("setting_key, setting_value").in("setting_key",d);if(p)c({title:"Failed to load 2FA settings",description:p.message});else if(m){const x={};m.forEach(g=>{x[g.setting_key]=g.setting_value}),n(x)}i(!1)},f=async(m,p)=>{n(g=>({...g,[m]:p}));const{error:x}=await $.from("system_settings").upsert({setting_key:m,setting_value:p},{onConflict:"setting_key"});x?(n(g=>({...g,[m]:!p})),c({title:"Update failed",description:x.message})):c({title:"2FA setting updated",description:"Your change has been saved."})};return s.jsxs(Xe,{open:e,onOpenChange:t,children:[s.jsxs(Qe,{className:"sm:max-w-2xl",children:[s.jsxs(et,{children:[s.jsxs(tt,{className:"flex items-center space-x-2",children:[s.jsx(Wn,{className:"h-5 w-5"}),s.jsx("span",{children:"Two-Factor Authentication Management"})]}),s.jsx(En,{children:"Configure 2FA policies and requirements for your application."})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsxs(le,{className:"text-base flex items-center space-x-2",children:[s.jsx(E1,{className:"h-4 w-4"}),s.jsx("span",{children:"Admin 2FA Policies"})]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{className:"text-sm font-medium",children:"Enforce 2FA for All Admins"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Require all administrators to enable 2FA for their accounts."})]}),s.jsx(gt,{checked:!!r.enforce_2fa_for_admins,onCheckedChange:m=>f("enforce_2fa_for_admins",m),disabled:a})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{className:"text-sm font-medium",children:"Require 2FA for Sensitive Operations"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Require 2FA verification for critical admin actions."})]}),s.jsx(gt,{checked:!!r.require_2fa_for_sensitive_operations,onCheckedChange:m=>f("require_2fa_for_sensitive_operations",m),disabled:a})]})]})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsxs(le,{className:"text-base flex items-center space-x-2",children:[s.jsx(Kx,{className:"h-4 w-4"}),s.jsx("span",{children:"User 2FA Options"})]})}),s.jsx(X,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{className:"text-sm font-medium",children:"Allow 2FA for Regular Users"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable 2FA as an optional security feature for all users."})]}),s.jsx(gt,{checked:!!r.allow_2fa_for_users,onCheckedChange:m=>f("allow_2fa_for_users",m),disabled:a})]})})]}),s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsxs(le,{className:"text-base flex items-center space-x-2",children:[s.jsx(Qx,{className:"h-4 w-4"}),s.jsx("span",{children:"Technical Setup"})]})}),s.jsx(X,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Q,{className:"text-sm font-medium",children:"Configure TOTP Authentication"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Set up time-based one-time passwords using authenticator apps."}),s.jsx(O,{variant:"outline",className:"mt-2 w-full",onClick:()=>l(!0),children:"Setup TOTP 2FA"})]}),s.jsx("div",{className:"p-3 bg-muted rounded-lg",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Note:"})," Policy settings above will be enforced once users have 2FA enabled."]})})]})})]})]}),s.jsx(ln,{children:s.jsx(O,{variant:"outline",onClick:()=>t(!1),children:"Close"})})]}),s.jsx(Kje,{open:o,onOpenChange:l})]})}function Qje(){const[e,t]=h.useState([]),[r,n]=h.useState(!0),{toast:a}=Ge(),i=async()=>{n(!0);try{const{data:u,error:f}=await $.from("security_audit_log").select("*").order("created_at",{ascending:!1}).limit(50);if(f){console.error("Error fetching audit events:",f),a({title:"Error",description:"Failed to load security audit logs",variant:"destructive"});return}t(u||[])}catch(u){console.error("Error:",u),a({title:"Error",description:"Failed to load security audit logs",variant:"destructive"})}finally{n(!1)}};h.useEffect(()=>{i()},[]);const o=u=>{switch(u){case"critical":return s.jsx(S1,{className:"h-4 w-4 text-red-600"});case"high":return s.jsx(us,{className:"h-4 w-4 text-orange-600"});case"medium":return s.jsx(jd,{className:"h-4 w-4 text-yellow-600"});case"low":return s.jsx(Wn,{className:"h-4 w-4 text-blue-600"});default:return s.jsx(jd,{className:"h-4 w-4 text-gray-600"})}},l=u=>{switch(u){case"critical":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},c=u=>u.replace(/_/g," ").replace(/\b\w/g,f=>f.toUpperCase()),d=u=>{if(!u||typeof u!="object")return"-";const f=Object.keys(u);return f.length===0?"-":f.slice(0,3).map(m=>`${m}: ${u[m]}`).join(", ")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:"Security Audit Dashboard"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Monitor security events and system activities"})]}),s.jsxs(O,{onClick:i,disabled:r,variant:"outline",size:"sm",children:[s.jsx(vk,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"Refresh"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:["critical","high","medium","low"].map(u=>{const f=e.filter(m=>m.severity===u).length;return s.jsxs(Y,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsxs(le,{className:"text-sm font-medium capitalize",children:[u," Priority"]}),o(u)]}),s.jsx(X,{children:s.jsx("div",{className:"text-2xl font-bold",children:f})})]},u)})}),s.jsxs(Y,{children:[s.jsxs(oe,{children:[s.jsx(le,{children:"Recent Security Events"}),s.jsx(St,{children:"Last 50 security events, ordered by most recent"})]}),s.jsx(X,{children:r?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(vk,{className:"h-6 w-6 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Loading audit logs..."})]}):e.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No security events found"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ju,{children:[s.jsx(Nu,{children:s.jsxs(_n,{children:[s.jsx(nt,{children:"Severity"}),s.jsx(nt,{children:"Event Type"}),s.jsx(nt,{children:"User ID"}),s.jsx(nt,{children:"Details"}),s.jsx(nt,{children:"IP Address"}),s.jsx(nt,{children:"Timestamp"})]})}),s.jsx(Su,{children:e.map(u=>s.jsxs(_n,{children:[s.jsx(Ze,{children:s.jsx(je,{className:l(u.severity),children:s.jsxs("span",{className:"flex items-center gap-1",children:[o(u.severity),u.severity]})})}),s.jsx(Ze,{className:"font-medium",children:c(u.event_type)}),s.jsx(Ze,{className:"font-mono text-sm",children:u.user_id?`${u.user_id.slice(0,8)}...`:"-"}),s.jsx(Ze,{className:"max-w-xs truncate",children:d(u.details)}),s.jsx(Ze,{className:"font-mono text-sm",children:u.ip_address||"-"}),s.jsx(Ze,{className:"text-sm",children:new Date(u.created_at).toLocaleString()})]},u.id))})]})})})]})]})}const Jje=({className:e})=>{const t=[{id:"leaked_password_protection",title:"Leaked Password Protection",description:"Prevent users from using passwords found in data breaches",status:"warning",actionRequired:!0,dashboardPath:"auth/settings",instructions:'Navigate to Authentication  Settings  Password Settings and enable "Check for breached passwords"'},{id:"database_version",title:"PostgreSQL Version",description:"Ensure database is running the latest secure version",status:"warning",actionRequired:!0,dashboardPath:"settings/infrastructure",instructions:"Navigate to Settings  Infrastructure  Database and follow the upgrade wizard"},{id:"rls_policies",title:"Row Level Security",description:"Database access is properly secured with RLS policies",status:"success",actionRequired:!1,instructions:"All tables have appropriate RLS policies configured"},{id:"admin_functions",title:"Admin Functions Security",description:"Critical admin functions use SECURITY DEFINER and proper validation",status:"success",actionRequired:!1,instructions:"All admin functions properly secured with role validation"},{id:"audit_logging",title:"Enhanced Audit Logging",description:"Comprehensive security event logging with IP tracking and geographic monitoring",status:"success",actionRequired:!1,instructions:"Enhanced security logging implemented with session correlation"}],r=i=>{switch(i){case"success":return s.jsx(wd,{className:"w-5 h-5 text-emerald-500"});case"warning":return s.jsx(us,{className:"w-5 h-5 text-amber-500"});default:return s.jsx(Wn,{className:"w-5 h-5 text-blue-500"})}},n=(i,o)=>i==="success"?s.jsx(je,{variant:"default",className:"bg-emerald-100 text-emerald-700 border-emerald-200",children:"Secure"}):o?s.jsx(je,{variant:"destructive",children:"Action Required"}):s.jsx(je,{variant:"secondary",children:"Review"}),a=i=>{const l=`https://supabase.com/dashboard/project/vgsavnlyathtlvrevtjb/${i}`;window.open(l,"_blank","noopener,noreferrer")};return s.jsx("div",{className:e,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-2",children:"Security Configuration"}),s.jsx("p",{className:"text-muted-foreground",children:"Review and configure security settings to ensure your application is properly protected."})]}),s.jsxs($r,{children:[s.jsx(Wn,{className:"h-4 w-4"}),s.jsxs(Fr,{children:[s.jsx("strong",{children:"Security Status:"})," Your application has strong foundational security, but some configuration updates are recommended."]})]}),s.jsx("div",{className:"grid gap-4",children:t.map(i=>s.jsxs(Y,{className:"border-l-4 border-l-blue-200",children:[s.jsxs(oe,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[r(i.status),s.jsx(le,{className:"text-lg",children:i.title})]}),n(i.status,i.actionRequired)]}),s.jsx(St,{children:i.description})]}),s.jsxs(X,{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:i.instructions}),i.actionRequired&&i.dashboardPath&&s.jsxs(O,{onClick:()=>a(i.dashboardPath),variant:"outline",size:"sm",className:"gap-2",children:[s.jsx(So,{className:"w-4 h-4"}),"Configure in Supabase Dashboard"]})]})]},i.id))}),s.jsxs(Y,{className:"bg-blue-50 border-blue-200",children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bD,{className:"w-5 h-5 text-blue-600"}),s.jsx(le,{className:"text-blue-900",children:"Enhanced Security Features"})]})}),s.jsx(X,{className:"space-y-3",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-blue-900",children:"Implemented Security Enhancements:"}),s.jsxs("ul",{className:"space-y-1 text-blue-700",children:[s.jsx("li",{children:" Enhanced IP address detection with multiple fallbacks"}),s.jsx("li",{children:" Geographic location tracking for anomaly detection"}),s.jsx("li",{children:" Session correlation for event tracking"}),s.jsx("li",{children:" Browser fingerprinting for device identification"}),s.jsx("li",{children:" Brute force attack detection and logging"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-blue-900",children:"Active Monitoring:"}),s.jsxs("ul",{className:"space-y-1 text-blue-700",children:[s.jsx("li",{children:" Real-time security event processing"}),s.jsx("li",{children:" Automated threat pattern detection"}),s.jsx("li",{children:" Admin activity audit trails"}),s.jsx("li",{children:" Critical event immediate alerts"}),s.jsx("li",{children:" Geographic login anomaly detection"})]})]})]})})]}),s.jsxs($r,{children:[s.jsx(FW,{className:"h-4 w-4"}),s.jsxs(Fr,{children:[s.jsx("strong",{children:"Next Steps:"})," Complete the configuration tasks above, then regularly review security logs and consider implementing additional monitoring based on your specific security requirements."]})]})]})})};function Zje({open:e,onOpenChange:t}){const[r,n]=h.useState("90"),[a,i]=h.useState(!0),[o,l]=h.useState("delete"),[c,d]=h.useState(!1),[u,f]=h.useState(!0),{toast:m}=Ge();h.useEffect(()=>{e&&p()},[e]);const p=async()=>{try{f(!0);const{data:g,error:w}=await $.from("system_settings").select("setting_key, setting_value, description").in("setting_key",["audit_retention_days_config","auto_archival_enabled","archival_method_configured"]);if(w)throw w;g==null||g.forEach(y=>{var v,b;switch(y.setting_key){case"audit_retention_days_config":const j=(v=y.description)==null?void 0:v.match(/Retention period: (\d+) days/);j&&n(j[1]);break;case"auto_archival_enabled":i(y.setting_value||!0);break;case"archival_method_configured":const N=(b=y.description)==null?void 0:b.match(/Method: (\w+)/);N&&l(N[1]);break}})}catch(g){m({title:"Failed to load settings",description:g.message,variant:"destructive"})}finally{f(!1)}},x=async()=>{try{d(!0);const{error:g}=await $.from("system_settings").upsert({setting_key:"audit_retention_days_config",setting_value:!0,description:`Retention period: ${r} days`},{onConflict:"setting_key"});if(g)throw g;const{error:w}=await $.from("system_settings").upsert({setting_key:"auto_archival_enabled",setting_value:a},{onConflict:"setting_key"});if(w)throw w;const{error:y}=await $.from("system_settings").upsert({setting_key:"archival_method_configured",setting_value:!0,description:`Method: ${o}`},{onConflict:"setting_key"});if(y)throw y;m({title:"Retention policy updated",description:"Your audit log retention settings have been saved successfully."}),t(!1)}catch(g){m({title:"Failed to update policy",description:g.message,variant:"destructive"})}finally{d(!1)}};return s.jsx(Xe,{open:e,onOpenChange:t,children:s.jsxs(Qe,{className:"sm:max-w-md",children:[s.jsx(et,{children:s.jsx(tt,{children:"Configure Retention Policy"})}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"retention-days",children:"Retention Period (Days)"}),s.jsx(de,{id:"retention-days",type:"number",min:"1",max:"3650",value:r,onChange:g=>n(g.target.value),placeholder:"90",disabled:u}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Number of days to retain audit logs before archival (1-3650 days)"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{className:"text-sm font-medium",children:"Auto-Archival"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically archive logs when retention period expires"})]}),s.jsx(gt,{checked:a,onCheckedChange:i,disabled:u})]}),a&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"archival-method",children:"Archival Method"}),s.jsxs(qe,{value:o,onValueChange:l,disabled:u,children:[s.jsx(Ve,{children:s.jsx(He,{placeholder:"Select archival method"})}),s.jsxs(We,{children:[s.jsx(se,{value:"delete",children:"Delete permanently"}),s.jsx(se,{value:"compress",children:"Compress and store"}),s.jsx(se,{value:"export",children:"Export to external storage"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose how to handle logs after retention period"})]}),s.jsxs("div",{className:"rounded-lg bg-muted p-3",children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Current Policy Summary"}),s.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[s.jsxs("p",{children:[" Logs will be retained for ",r," days"]}),s.jsxs("p",{children:[" Auto-archival: ",a?"Enabled":"Disabled"]}),a&&s.jsxs("p",{children:[" Archival method: ",o]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(O,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),s.jsx(O,{onClick:x,disabled:c||u,children:c?"Saving...":"Save Policy"})]})]})})}function Xje({open:e,onOpenChange:t}){const[r,n]=h.useState(!0),[a,i]=h.useState(!0),[o,l]=h.useState(!1),[c,d]=h.useState(!0),[u,f]=h.useState(!0),[m,p]=h.useState(!0),[x,g]=h.useState(!1),[w,y]=h.useState(!0),{toast:v}=Ge(),b=["email_notifications_enabled","security_alerts_enabled","system_updates_enabled","user_activity_alerts_enabled","subscription_updates_enabled","maintenance_notices_enabled"];h.useEffect(()=>{e&&j()},[e]);const j=async()=>{try{y(!0);const{data:S,error:C}=await $.from("system_settings").select("setting_key, setting_value").in("setting_key",b);if(C)throw C;S==null||S.forEach(k=>{switch(k.setting_key){case"email_notifications_enabled":n(k.setting_value||!0);break;case"security_alerts_enabled":i(k.setting_value||!0);break;case"system_updates_enabled":l(k.setting_value||!1);break;case"user_activity_alerts_enabled":d(k.setting_value||!0);break;case"subscription_updates_enabled":f(k.setting_value||!0);break;case"maintenance_notices_enabled":p(k.setting_value||!0);break}})}catch(S){v({title:"Failed to load preferences",description:S.message,variant:"destructive"})}finally{y(!1)}},N=async()=>{try{g(!0);const S=[{setting_key:"email_notifications_enabled",setting_value:r},{setting_key:"security_alerts_enabled",setting_value:a},{setting_key:"system_updates_enabled",setting_value:o},{setting_key:"user_activity_alerts_enabled",setting_value:c},{setting_key:"subscription_updates_enabled",setting_value:u},{setting_key:"maintenance_notices_enabled",setting_value:m}];for(const C of S){const{error:k}=await $.from("system_settings").upsert(C,{onConflict:"setting_key"});if(k)throw k}v({title:"Preferences updated",description:"Your notification preferences have been saved successfully."}),t(!1)}catch(S){v({title:"Failed to update preferences",description:S.message,variant:"destructive"})}finally{g(!1)}};return s.jsx(Xe,{open:e,onOpenChange:t,children:s.jsxs(Qe,{className:"sm:max-w-md",children:[s.jsx(et,{children:s.jsx(tt,{children:"Notification Preferences"})}),s.jsx("div",{className:"space-y-6 py-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{className:"text-sm font-medium",children:"Email Notifications"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive notifications via email"})]}),s.jsx(gt,{checked:r,onCheckedChange:n,disabled:w})]}),s.jsx(xn,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{className:"text-sm font-medium",children:"Security Alerts"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified about security events and breaches"})]}),s.jsx(gt,{checked:a,onCheckedChange:i,disabled:w})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{className:"text-sm font-medium",children:"System Updates"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Notifications about system updates and new features"})]}),s.jsx(gt,{checked:o,onCheckedChange:l,disabled:w})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{className:"text-sm font-medium",children:"User Activity Alerts"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified about unusual user activity"})]}),s.jsx(gt,{checked:c,onCheckedChange:d,disabled:w})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{className:"text-sm font-medium",children:"Subscription Updates"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Notifications about subscription changes and billing"})]}),s.jsx(gt,{checked:u,onCheckedChange:f,disabled:w})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{className:"text-sm font-medium",children:"Maintenance Notices"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified about scheduled maintenance windows"})]}),s.jsx(gt,{checked:m,onCheckedChange:p,disabled:w})]})]})}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(O,{variant:"outline",onClick:()=>t(!1),disabled:x,children:"Cancel"}),s.jsx(O,{onClick:N,disabled:x||w,children:x?"Saving...":"Save Preferences"})]})]})})}function eNe({open:e,onOpenChange:t}){const[r,n]=h.useState(""),[a,i]=h.useState(""),[o,l]=h.useState(!1),{toast:c}=Ge(),d=async()=>{var u;if(r!=="RESET ALL PASSWORDS"){c({title:"Confirmation required",description:"Please type 'RESET ALL PASSWORDS' to confirm",variant:"destructive"});return}if(!a.trim()){c({title:"Reason required",description:"Please provide a reason for this action",variant:"destructive"});return}try{l(!0);const{data:f,error:m}=await $.from("user_roles").select("user_id").eq("role","admin");if(m)throw m;if(!f||f.length===0){c({title:"No admin users found",description:"No administrators were found to reset passwords for.",variant:"destructive"});return}const{error:p}=await $.from("security_audit_log").insert({event_type:"mass_password_reset",user_id:(u=(await $.auth.getUser()).data.user)==null?void 0:u.id,details:{action:"reset_all_admin_passwords",reason:a,affected_users_count:f.length,admin_user_ids:f.map(g=>g.user_id),timestamp:new Date().toISOString()},severity:"critical"});p&&console.error("Failed to log security event:",p);const{error:x}=await $.from("system_settings").upsert({setting_key:"force_password_reset_all_admins",setting_value:!0,description:`Password reset initiated: ${a}`},{onConflict:"setting_key"});if(x)throw x;c({title:"Password reset initiated",description:`All ${f.length} administrator(s) will be required to reset their passwords on next login.`}),n(""),i(""),t(!1)}catch(f){c({title:"Failed to reset passwords",description:f.message,variant:"destructive"})}finally{l(!1)}};return s.jsx(Xe,{open:e,onOpenChange:t,children:s.jsxs(Qe,{className:"sm:max-w-md",children:[s.jsx(et,{children:s.jsxs(tt,{className:"flex items-center space-x-2",children:[s.jsx(Wn,{className:"h-5 w-5 text-destructive"}),s.jsx("span",{children:"Reset All Admin Passwords"})]})}),s.jsxs($r,{variant:"destructive",children:[s.jsx(us,{className:"h-4 w-4"}),s.jsx(Fr,{children:"This action will force ALL administrators to reset their passwords on next login. This cannot be undone."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"reason",children:"Reason for password reset"}),s.jsx(_r,{id:"reason",placeholder:"Enter the reason for requiring all administrators to reset their passwords...",value:a,onChange:u=>i(u.target.value),rows:3,disabled:o}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This reason will be logged for security audit purposes."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"confirm-text",children:"Confirmation"}),s.jsx(de,{id:"confirm-text",placeholder:"Type 'RESET ALL PASSWORDS' to confirm",value:r,onChange:u=>n(u.target.value),disabled:o}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Type exactly: ",s.jsx("code",{className:"text-xs",children:"RESET ALL PASSWORDS"})]})]}),s.jsxs("div",{className:"rounded-lg bg-muted p-3",children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"What will happen:"}),s.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[s.jsx("p",{children:" All administrators will be logged out"}),s.jsx("p",{children:" They will be required to reset passwords on next login"}),s.jsx("p",{children:" This action will be logged for security audit"}),s.jsx("p",{children:" Email notifications will be sent (if enabled)"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(O,{variant:"outline",onClick:()=>{n(""),i(""),t(!1)},disabled:o,children:"Cancel"}),s.jsx(O,{variant:"destructive",onClick:d,disabled:o||r!=="RESET ALL PASSWORDS"||!a.trim(),children:o?"Processing...":"Reset All Passwords"})]})]})})}function L0(){const[e,t]=h.useState(!1),[r,n]=h.useState(!1),[a,i]=h.useState(!1),[o,l]=h.useState(!1),[c,d]=h.useState(!1),[u,f]=h.useState(!1),{toast:m}=Ge(),[p,x]=h.useState({}),[g,w]=h.useState(!0),y=["enable_new_user_registration","activate_maintenance_mode","receive_system_notifications","public_analytics_dashboard","require_strong_passwords","automated_security_audits"];h.useEffect(()=>{(async()=>{const{data:N,error:S}=await $.from("system_settings").select("setting_key, setting_value").in("setting_key",y);if(S)m({title:"Failed to load settings",description:S.message});else if(N){const C={};N.forEach(k=>{C[k.setting_key]=k.setting_value}),x(C)}w(!1)})()},[]);const v=async(j,N)=>{x(C=>({...C,[j]:N}));const{error:S}=await $.from("system_settings").upsert({setting_key:j,setting_value:N},{onConflict:"setting_key"});S?(x(C=>({...C,[j]:!N})),m({title:"Update failed",description:S.message})):m({title:"Setting saved",description:"Your change has been saved."})},b=async()=>{var j;try{await $.from("security_events").insert({event_type:"admin_action",user_id:(j=(await $.auth.getUser()).data.user)==null?void 0:j.id,details:{action:"terminate_all_sessions",timestamp:new Date().toISOString(),description:"Administrator initiated global session termination"},severity:"high"}),await $.auth.signOut({scope:"global"}),m({title:"Session termination initiated",description:"All active sessions are being terminated. You have been signed out."})}catch(N){m({title:"Failed to terminate sessions",description:N.message||"Please try again."})}};return s.jsxs("div",{className:"flex-1 space-y-6 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"System & Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage essential aspects of the Tagmentia application, including admin accounts, site-wide toggles, and security configurations."})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs(O,{className:"flex items-center space-x-2",children:[s.jsx(vt,{className:"h-4 w-4"}),s.jsx("span",{children:"Search"})]})})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[s.jsxs(Y,{children:[s.jsxs(oe,{children:[s.jsxs(le,{className:"flex items-center space-x-2",children:[s.jsx(Ph,{className:"h-5 w-5 text-primary"}),s.jsx("span",{children:"Admin Account Management"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage personal account details and credentials."})]}),s.jsx(X,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(Q,{className:"text-sm font-medium",children:"Change Password"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Update your current administrator password securely."}),s.jsx(O,{variant:"outline",className:"mt-2 w-full",onClick:()=>t(!0),children:"Change Password"})]}),s.jsxs("div",{children:[s.jsx(Q,{className:"text-sm font-medium",children:"Manage Notification Preferences"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Control how you receive alerts and updates."}),s.jsx(O,{variant:"outline",className:"mt-2 w-full",onClick:()=>d(!0),children:"Preferences"})]}),s.jsxs("div",{children:[s.jsx(Q,{className:"text-sm font-medium",children:"Reset All Admin Passwords"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Force all administrators to reset their passwords on next login."}),s.jsx(O,{variant:"outline",className:"mt-2 w-full",onClick:()=>f(!0),children:"Reset All"})]})]})})]}),s.jsxs(Y,{children:[s.jsxs(oe,{children:[s.jsxs(le,{className:"flex items-center space-x-2",children:[s.jsx(Kx,{className:"h-5 w-5 text-primary"}),s.jsx("span",{children:"General Site Settings"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure site-wide functionalities and user experience."})]}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{className:"text-sm font-medium",children:"Enable New User Registration"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow new users to create accounts on the platform."})]}),s.jsx(gt,{checked:!!p.enable_new_user_registration,onCheckedChange:j=>v("enable_new_user_registration",j),disabled:g})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{className:"text-sm font-medium",children:"Activate Maintenance Mode"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Temporarily disable public access for system updates."})]}),s.jsx(gt,{checked:!!p.activate_maintenance_mode,onCheckedChange:j=>v("activate_maintenance_mode",j),disabled:g})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{className:"text-sm font-medium",children:"Receive System Notifications"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Get email alerts for critical system events."})]}),s.jsx(gt,{checked:!!p.receive_system_notifications,onCheckedChange:j=>v("receive_system_notifications",j),disabled:g})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{className:"text-sm font-medium",children:"Public Analytics Dashboard"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Make key performance indicators publicly accessible."})]}),s.jsx(gt,{checked:!!p.public_analytics_dashboard,onCheckedChange:j=>v("public_analytics_dashboard",j),disabled:g})]})]})]}),s.jsxs(Y,{children:[s.jsxs(oe,{children:[s.jsxs(le,{className:"flex items-center space-x-2",children:[s.jsx(Wn,{className:"h-5 w-5 text-primary"}),s.jsx("span",{children:"Security Settings"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enhance the security of your Tagmentia application."})]}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{className:"text-sm font-medium",children:"Require Strong Passwords"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enforce complex password policies for all user accounts."})]}),s.jsx(gt,{checked:!!p.require_strong_passwords,onCheckedChange:j=>v("require_strong_passwords",j),disabled:g})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{className:"text-sm font-medium",children:"Two-Factor Authentication (2FA)"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"2FA is currently enabled for admin accounts."}),s.jsx(O,{variant:"outline",size:"sm",onClick:()=>n(!0),children:"Manage 2FA"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{className:"text-sm font-medium",children:"Terminate All Active Sessions"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Log out all users and administrators from all devices."}),s.jsx(O,{variant:"outline",size:"sm",onClick:b,children:"Terminate All"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{className:"text-sm font-medium",children:"Automated Security Audits"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Schedule regular security scans and vulnerability checks."})]}),s.jsx(gt,{checked:!!p.automated_security_audits,onCheckedChange:j=>v("automated_security_audits",j),disabled:g})]})]})]})]}),s.jsxs(Y,{children:[s.jsxs(oe,{children:[s.jsxs(le,{className:"flex items-center space-x-2",children:[s.jsx(Wn,{className:"h-5 w-5 text-primary"}),s.jsx("span",{children:"Security Configuration & Review"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Review and configure comprehensive security settings for optimal protection."})]}),s.jsx(X,{children:s.jsx(Jje,{})})]}),s.jsxs(Y,{children:[s.jsxs(oe,{children:[s.jsxs(le,{className:"flex items-center space-x-2",children:[s.jsx(Qr,{className:"h-5 w-5 text-primary"}),s.jsx("span",{children:"Audit Log & Activity"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Review recent administrative actions and system events."})]}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(Q,{className:"text-sm font-medium",children:"View Recent Activity"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Access a detailed log of all system changes and actions."}),s.jsx(O,{variant:"outline",className:"mt-2",onClick:()=>i(!a),children:a?"Hide Logs":"View Logs"})]}),s.jsxs("div",{children:[s.jsx(Q,{className:"text-sm font-medium",children:"Configure Retention Policy"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Set how long audit logs are stored before archival."}),s.jsx(O,{variant:"outline",className:"mt-2",onClick:()=>l(!0),children:"Set Policy"})]})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsx("p",{children:"Last audit: 2024-07-26, 10:30 AM"}),s.jsx("p",{children:"Status: All systems nominal"})]})})]})]}),a&&s.jsx(Qje,{}),s.jsx(ije,{open:e,onOpenChange:t}),s.jsx(Yje,{open:r,onOpenChange:n}),s.jsx(Zje,{open:o,onOpenChange:l}),s.jsx(Xje,{open:c,onOpenChange:d}),s.jsx(eNe,{open:u,onOpenChange:f})]})}function pO(){const{toast:e}=Ge(),[t,r]=h.useState([]),[n,a]=h.useState(!0),[i,o]=h.useState(!1),[l,c]=h.useState({title:"",message:"",type:"info"}),[d,u]=h.useState(!1);h.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:b,error:j}=await $.from("broadcasts").select("*").order("created_at",{ascending:!1});if(j){console.error("Error loading broadcasts:",j),e({title:"Error",description:"Failed to load broadcasts.",variant:"destructive"});return}r(b||[])}catch(b){console.error("Error:",b)}finally{a(!1)}},m=async()=>{if(!l.title.trim()||!l.message.trim()){e({title:"Error",description:"Please fill in both title and message fields.",variant:"destructive"});return}try{const{data:{user:b}}=await $.auth.getUser(),{data:j,error:N}=await $.from("broadcasts").insert([{title:l.title,message:l.message,type:l.type,active:!0,created_by:b==null?void 0:b.id}]).select().single();if(N){console.error("Error creating broadcast:",N),e({title:"Error",description:"Failed to create broadcast.",variant:"destructive"});return}await $.functions.invoke("send-push",{body:{title:l.title,message:l.message,type:l.type}}),r(S=>[j,...S]),c({title:"",message:"",type:"info"}),o(!1),e({title:"Success",description:"Broadcast sent as push notification."})}catch(b){console.error("Error:",b),e({title:"Error",description:"An unexpected error occurred.",variant:"destructive"})}},p=async b=>{try{const j=t.find(S=>S.id===b);if(!j)return;const{error:N}=await $.from("broadcasts").update({active:!j.active}).eq("id",b);if(N){console.error("Error updating broadcast:",N),e({title:"Error",description:"Failed to update broadcast status.",variant:"destructive"});return}r(S=>S.map(C=>C.id===b?{...C,active:!C.active}:C)),e({title:"Success",description:"Broadcast status updated."})}catch(j){console.error("Error:",j)}},x=async b=>{try{const{error:j}=await $.from("broadcasts").delete().eq("id",b);if(j){console.error("Error deleting broadcast:",j),e({title:"Error",description:"Failed to delete broadcast.",variant:"destructive"});return}r(N=>N.filter(S=>S.id!==b)),e({title:"Success",description:"Broadcast deleted successfully."})}catch(j){console.error("Error:",j)}},g=b=>{switch(b){case"info":return"default";case"warning":return"secondary";case"success":return"default";case"error":return"destructive";default:return"default"}},w=b=>{switch(b){case"info":return"text-white";case"warning":return"text-yellow-600";case"success":return"text-green-600";case"error":return"text-red-600";default:return"text-white"}},y=b=>{switch(b){case"error":return"destructive";default:return"default"}},v=()=>{if(!l.title.trim()||!l.message.trim()){e({title:"Error",description:"Please fill in both title and message fields to preview.",variant:"destructive"});return}u(!0)};return n?s.jsx("div",{className:"p-6 space-y-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-muted rounded mb-2"}),s.jsx("div",{className:"h-4 bg-muted rounded mb-6"}),s.jsx("div",{className:"h-32 bg-muted rounded"})]})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Broadcasting"}),s.jsx("p",{className:"text-muted-foreground",children:"Create and manage broadcast messages for all users"})]}),s.jsxs(O,{onClick:()=>o(!0),className:"bg-primary hover:bg-primary/90",children:[s.jsx(wt,{className:"mr-2 h-4 w-4"}),"New Broadcast"]})]}),i&&s.jsxs(Y,{children:[s.jsxs(oe,{children:[s.jsx(le,{children:"Create New Broadcast"}),s.jsx(St,{children:"Send a message to all users of the application"})]}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"title",children:"Title"}),s.jsx(de,{id:"title",placeholder:"Enter broadcast title...",value:l.title,onChange:b=>c(j=>({...j,title:b.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"message",children:"Message"}),s.jsx(_r,{id:"message",placeholder:"Enter your broadcast message...",value:l.message,onChange:b=>c(j=>({...j,message:b.target.value})),rows:4})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"type",children:"Message Type"}),s.jsxs("select",{id:"type",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:l.type,onChange:b=>c(j=>({...j,type:b.target.value})),children:[s.jsx("option",{value:"info",children:"Info"}),s.jsx("option",{value:"warning",children:"Warning"}),s.jsx("option",{value:"success",children:"Success"}),s.jsx("option",{value:"error",children:"Error"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(O,{variant:"outline",onClick:()=>{o(!1),c({title:"",message:"",type:"info"})},children:"Cancel"}),s.jsxs(O,{variant:"outline",onClick:v,children:[s.jsx(yr,{className:"mr-2 h-4 w-4"}),"Preview"]}),s.jsxs(O,{onClick:m,children:[s.jsx(yk,{className:"mr-2 h-4 w-4"}),"Create Broadcast"]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Active Broadcasts"}),t.length===0?s.jsx(Y,{children:s.jsx(X,{className:"flex flex-col items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:"No broadcasts yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create your first broadcast to communicate with users"}),s.jsxs(O,{onClick:()=>o(!0),children:[s.jsx(wt,{className:"mr-2 h-4 w-4"}),"Create First Broadcast"]})]})})}):t.map(b=>s.jsx(Y,{children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:b.title}),s.jsx(je,{variant:g(b.type),className:w(b.type),children:b.type.charAt(0).toUpperCase()+b.type.slice(1)}),s.jsx(je,{variant:b.active?"default":"secondary",children:b.active?"Active":"Inactive"})]}),s.jsx("p",{className:"text-muted-foreground",children:b.message}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Created: ",new Date(b.created_at).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex space-x-2 ml-4",children:[s.jsx(O,{variant:"outline",size:"sm",onClick:()=>p(b.id),children:s.jsx(Mr,{className:"h-4 w-4"})}),s.jsx(O,{variant:"outline",size:"sm",onClick:()=>x(b.id),children:s.jsx(yt,{className:"h-4 w-4"})})]})]})})},b.id))]}),s.jsx(Xe,{open:d,onOpenChange:u,children:s.jsxs(Qe,{className:"max-w-2xl",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Message Preview"}),s.jsx(En,{children:"This is how your broadcast message will appear to users"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 border-l-4 border-l-primary",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Preview:"}),s.jsxs($r,{variant:y(l.type),className:"border-2",children:[s.jsx(wS,{className:"text-base font-semibold",children:l.title}),s.jsx(Fr,{className:"text-sm mt-2",children:l.message})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[s.jsx(je,{variant:g(l.type),children:l.type.charAt(0).toUpperCase()+l.type.slice(1)}),s.jsx("span",{children:""}),s.jsx("span",{children:"Will be sent to all active users"})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(O,{variant:"outline",onClick:()=>u(!1),children:"Close Preview"}),s.jsxs(O,{onClick:()=>{u(!1),m()},children:[s.jsx(yk,{className:"mr-2 h-4 w-4"}),"Send Broadcast"]})]})]})]})})]})}function tNe(){const{logoConfig:e,isLoading:t,isUploading:r,uploadLogo:n,resetToDefault:a,currentLogoUrl:i}=hn();console.log(" Admin Config: Current logo config:",e),console.log(" Admin Config: Current logo URL from hook:",i);const[o,l]=h.useState(""),[c,d]=h.useState(i),u=h.useRef(null),f=h.useRef(null);h.useEffect(()=>{console.log(" Admin Config: Logo URL changed, updating display:",i),d(i)},[i]);const m=async x=>{var y;const g=(y=x.target.files)==null?void 0:y[0];if(!g)return;const w=URL.createObjectURL(g);l(w);try{await n(g,"logo"),l("")}catch{l("")}x.target.value=""},p=async x=>{var w;const g=(w=x.target.files)==null?void 0:w[0];if(g){try{await n(g,"favicon")}catch{}x.target.value=""}};return t?s.jsx(Y,{children:s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(ug,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(le,{className:"text-xl",children:"Brand Configuration"}),s.jsx(St,{children:"Loading logo settings..."})]})]})})}):s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(ug,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(le,{className:"text-xl",children:"Brand Configuration"}),s.jsx(St,{children:"Upload and manage your organization's logo and branding elements"})]})]})}),s.jsxs(X,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Q,{className:"font-medium",children:"Current Logo"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"This logo will appear across all pages, headers, and authentication screens"})]}),s.jsx(je,{variant:"secondary",className:"text-xs",children:"Active"})]}),s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-muted/30 rounded-lg",children:[s.jsxs("div",{className:"relative",children:[o||c?s.jsx("img",{src:o||c,alt:"Current Logo",className:"h-16 w-auto max-w-[200px] object-contain bg-white rounded border",onLoad:()=>console.log(" Admin Config: Logo loaded successfully:",o||i)},c):s.jsx("div",{className:"h-16 w-32 bg-muted/20 animate-pulse rounded"}),o&&s.jsx(je,{className:"absolute -top-2 -right-2 text-xs",variant:"default",children:"Preview"})]}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(O,{variant:"outline",size:"sm",onClick:()=>{var x;return(x=u.current)==null?void 0:x.click()},disabled:r,className:"flex items-center gap-2",children:[s.jsx(qf,{className:"h-4 w-4"}),r?"Uploading...":"Upload New Logo"]}),s.jsxs(O,{variant:"outline",size:"sm",onClick:a,disabled:r,className:"flex items-center gap-2",children:[s.jsx(xi,{className:"h-4 w-4"}),"Reset to Default"]}),s.jsxs(O,{variant:"outline",size:"sm",onClick:()=>i?window.open(i,"_blank"):null,disabled:!i,className:"flex items-center gap-2",children:[s.jsx(Mr,{className:"h-4 w-4"}),"View Full Size"]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.jsx("p",{children:" Recommended size: 200x60px (or similar aspect ratio)"}),s.jsx("p",{children:" Formats: PNG, JPG, SVG  Max size: 5MB"}),s.jsx("p",{children:" Will be automatically scaled to fit different screen sizes"})]})]})]})]}),s.jsx(xn,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Q,{className:"font-medium",children:"Favicon"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Small icon that appears in browser tabs and bookmarks"})]}),s.jsx(je,{variant:e.favicon_url?"secondary":"outline",className:"text-xs",children:e.favicon_url?"Custom":"Default"})]}),s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"w-8 h-8 bg-white rounded border flex items-center justify-center",children:e.favicon_url?s.jsx("img",{src:e.favicon_url,alt:"Favicon",className:"w-6 h-6 object-contain"}):s.jsx(OW,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs(O,{variant:"outline",size:"sm",onClick:()=>{var x;return(x=f.current)==null?void 0:x.click()},disabled:r,className:"flex items-center gap-2",children:[s.jsx(qf,{className:"h-4 w-4"}),e.favicon_url?"Update Favicon":"Upload Favicon"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Recommended: 32x32px PNG or ICO format"})]})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-950/20 dark:border-blue-800",children:[s.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Logo Usage"}),s.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[s.jsx("p",{children:" Header navigation (all pages)"}),s.jsx("p",{children:" Login and authentication screens"}),s.jsx("p",{children:" Splash screen and loading states"}),s.jsx("p",{children:" Email templates and notifications"}),s.jsx("p",{children:" Progressive Web App (PWA) icons"})]})]}),s.jsx("input",{type:"file",ref:u,onChange:m,accept:"image/*",className:"hidden"}),s.jsx("input",{type:"file",ref:f,onChange:p,accept:"image/png,image/x-icon,image/vnd.microsoft.icon",className:"hidden"})]})]})}function rNe(){const[e,t]=h.useState({client_id:"",client_secret:"",enabled:!1}),[r,n]=h.useState({client_id:"",client_secret:"",enabled:!1}),[a,i]=h.useState(!0),[o,l]=h.useState(!1),[c,d]=h.useState(!1),[u,f]=h.useState(!1),m=JSON.stringify(e)!==JSON.stringify(r);h.useEffect(()=>{p()},[]);const p=async()=>{try{i(!0);const{data:y,error:v}=await $.rpc("get_google_oauth_settings");if(v)throw v;if(y&&y.length>0){const b={client_id:y[0].client_id||"",client_secret:y[0].client_secret||"",enabled:y[0].enabled||!1};t(b),n(b)}}catch(y){console.error("Error loading Google OAuth settings:",y),re({title:"Error loading settings",description:y.message,variant:"destructive"})}finally{i(!1)}},x=async()=>{l(!0),d(!1);try{const{error:y}=await $.rpc("update_google_oauth_settings",{p_client_id:e.client_id,p_client_secret:e.client_secret,p_enabled:e.enabled});if(y)throw y;n(e),d(!0),setTimeout(()=>d(!1),3e3),re({title:"Configuration saved",description:"Google OAuth settings have been updated successfully."})}catch(y){console.error("Error saving Google OAuth settings:",y),re({title:"Error saving settings",description:y.message,variant:"destructive"})}finally{l(!1)}},g=()=>{t(r)},w=(y,v)=>{t(b=>({...b,[y]:v}))};return a?s.jsx(Y,{children:s.jsx(oe,{children:s.jsxs(le,{className:"flex items-center gap-2",children:[s.jsx(Rt,{className:"h-5 w-5 animate-spin"}),"Loading Google OAuth Configuration..."]})})}):s.jsxs(Y,{children:[s.jsxs(oe,{children:[s.jsxs(le,{className:"text-xl flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsxs("svg",{className:"h-5 w-5 text-primary",viewBox:"0 0 24 24",fill:"currentColor",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}),"Google OAuth Configuration"]}),s.jsx(St,{children:"Configure Google Sign-In for your application. Users will be able to sign up and sign in using their Google accounts."})]}),s.jsxs(X,{className:"space-y-6",children:[s.jsxs($r,{children:[s.jsx(So,{className:"h-4 w-4"}),s.jsxs(Fr,{children:["To set up Google OAuth, you need to create a project in the"," ",s.jsx("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noopener noreferrer",className:"underline text-primary hover:text-primary/80",children:"Google Cloud Console"})," ","and configure OAuth credentials. The redirect URL should be:"," ",s.jsx("code",{className:"bg-muted px-2 py-1 rounded text-sm",children:"https://vgsavnlyathtlvrevtjb.supabase.co/auth/v1/callback"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(Q,{className:"text-base font-medium",children:"Enable Google OAuth"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow users to sign up and sign in with their Google accounts"})]}),s.jsx(gt,{checked:e.enabled,onCheckedChange:y=>w("enabled",y)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"client-id",children:"Google Client ID"}),s.jsx(de,{id:"client-id",placeholder:"Enter your Google OAuth Client ID",value:e.client_id,onChange:y=>w("client_id",y.target.value),className:"font-mono"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"The Client ID from your Google Cloud Console OAuth credentials"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"client-secret",children:"Google Client Secret"}),s.jsxs("div",{className:"relative",children:[s.jsx(de,{id:"client-secret",type:u?"text":"password",placeholder:"Enter your Google OAuth Client Secret",value:e.client_secret,onChange:y=>w("client_secret",y.target.value),className:"font-mono pr-10"}),s.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>f(!u),children:u?s.jsx(xs,{className:"h-4 w-4"}):s.jsx(Mr,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"The Client Secret from your Google Cloud Console OAuth credentials (keep this secure)"})]})]})]}),s.jsxs(ac,{className:"flex flex-col gap-3 bg-muted/20 border-t",children:[m&&!c&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600 dark:text-amber-400 w-full",children:[s.jsx(je,{variant:"outline",className:"border-amber-600 dark:border-amber-400",children:"Unsaved Changes"}),s.jsx("span",{className:"text-xs",children:"You have unsaved changes"})]}),c&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400 w-full",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Configuration saved successfully"})]}),s.jsxs("div",{className:"flex gap-2 w-full",children:[s.jsxs(O,{onClick:g,disabled:o||!m,variant:"outline",className:"flex-1",children:[s.jsx(xi,{className:"mr-2 h-4 w-4"}),"Reset"]}),s.jsx(O,{onClick:x,disabled:o||!m,className:"flex-1",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Rt,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):c?s.jsxs(s.Fragment,{children:[s.jsx(st,{className:"mr-2 h-4 w-4"}),"Saved"]}):"Save Configuration"})]})]})]})}function nNe(){const[e,t]=h.useState({api_key:"",enabled:!1}),[r,n]=h.useState({api_key:"",enabled:!1}),[a,i]=h.useState(!0),[o,l]=h.useState(!1),[c,d]=h.useState(!1),[u,f]=h.useState(!1),m=JSON.stringify(e)!==JSON.stringify(r);h.useEffect(()=>{p()},[]);const p=async()=>{try{i(!0);const{data:y,error:v}=await $.rpc("get_openai_settings");if(v)throw v;if(y&&y.length>0){const b={api_key:y[0].api_key||"",enabled:y[0].enabled||!1};t(b),n(b)}}catch(y){console.error("Error loading OpenAI settings:",y),re({title:"Error loading settings",description:y.message,variant:"destructive"})}finally{i(!1)}},x=async()=>{if(!e.api_key.trim()){re({title:"Validation error",description:"API key is required",variant:"destructive"});return}l(!0),d(!1);try{const{error:y}=await $.rpc("update_openai_settings",{p_api_key:e.api_key,p_enabled:e.enabled});if(y)throw y;n(e),d(!0),setTimeout(()=>d(!1),3e3),re({title:"Configuration saved",description:"OpenAI settings have been updated successfully."})}catch(y){console.error("Error saving OpenAI settings:",y),re({title:"Error saving settings",description:y.message,variant:"destructive"})}finally{l(!1)}},g=()=>{t(r)},w=(y,v)=>{t(b=>({...b,[y]:v}))};return a?s.jsx(Y,{children:s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(gk,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(le,{className:"text-xl",children:"OpenAI Configuration"}),s.jsx(St,{children:"Loading settings..."})]})]})})}):s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(gk,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(le,{className:"text-xl",children:"OpenAI Configuration"}),s.jsx(St,{children:"Configure OpenAI API for AI video summaries and other AI features"})]})]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsx($r,{children:s.jsxs(Fr,{children:["Configure your OpenAI API key to enable AI-powered video summaries. Get your API key from the"," ",s.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"font-medium underline",children:"OpenAI Platform"}),"."]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gt,{id:"openai-enabled",checked:e.enabled,onCheckedChange:y=>w("enabled",y)}),s.jsx(Q,{htmlFor:"openai-enabled",className:"cursor-pointer",children:"Enable OpenAI Integration"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"api-key",children:"API Key"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(de,{id:"api-key",type:u?"text":"password",value:e.api_key,onChange:y=>w("api_key",y.target.value),placeholder:"sk-...",className:"font-mono text-sm"}),s.jsx(O,{type:"button",variant:"outline",size:"icon",onClick:()=>f(!u),children:u?s.jsx(xs,{className:"h-4 w-4"}):s.jsx(Mr,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your OpenAI API key (keep secure)"})]})]})]}),s.jsxs(ac,{className:"flex flex-col gap-3 bg-muted/20 border-t",children:[m&&!c&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600 dark:text-amber-400 w-full",children:[s.jsx(je,{variant:"outline",className:"border-amber-600 dark:border-amber-400",children:"Unsaved Changes"}),s.jsx("span",{className:"text-xs",children:"You have unsaved changes"})]}),c&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400 w-full",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Configuration saved successfully"})]}),s.jsxs("div",{className:"flex gap-2 w-full",children:[s.jsxs(O,{onClick:g,disabled:o||!m,variant:"outline",className:"flex-1",children:[s.jsx(xi,{className:"mr-2 h-4 w-4"}),"Reset"]}),s.jsx(O,{onClick:x,disabled:o||!m||!e.api_key.trim(),className:"flex-1",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Rt,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):c?s.jsxs(s.Fragment,{children:[s.jsx(st,{className:"mr-2 h-4 w-4"}),"Saved"]}):"Save Configuration"})]})]})]})}function sNe(){const[e,t]=h.useState(""),r={projectId:"vgsavnlyathtlvrevtjb",url:"https://vgsavnlyathtlvrevtjb.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZnc2F2bmx5YXRodGx2cmV2dGpiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU0NjI1MzMsImV4cCI6MjA3MTAzODUzM30.F8KXmmqb4dqgZJJSqGb0O9fpgUY9WIRnVe7ZanquWGY"},n=async(a,i)=>{try{await navigator.clipboard.writeText(a),t(i),re({title:"Copied to clipboard",description:`${i} has been copied to your clipboard.`}),setTimeout(()=>t(""),2e3)}catch{re({title:"Failed to copy",description:"Could not copy to clipboard.",variant:"destructive"})}};return s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(bD,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(le,{className:"text-xl",children:"Supabase Configuration"}),s.jsx(St,{children:"Database and authentication settings (read-only)"})]})]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q,{className:"font-medium",children:"Project ID"}),s.jsx(je,{variant:"secondary",className:"text-xs",children:"Public"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Your Supabase project identifier"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(de,{value:r.projectId,readOnly:!0,className:"font-mono text-sm bg-background"}),s.jsx(O,{variant:"outline",size:"sm",onClick:()=>n(r.projectId,"Project ID"),className:"px-2",children:e==="Project ID"?s.jsx(st,{className:"h-4 w-4 text-green-600"}):s.jsx(Pp,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q,{className:"font-medium",children:"URL"}),s.jsx(je,{variant:"secondary",className:"text-xs",children:"Public"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Your Supabase project URL"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(de,{value:r.url,readOnly:!0,className:"font-mono text-sm bg-background"}),s.jsx(O,{variant:"outline",size:"sm",onClick:()=>n(r.url,"URL"),className:"px-2",children:e==="URL"?s.jsx(st,{className:"h-4 w-4 text-green-600"}):s.jsx(Pp,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q,{className:"font-medium",children:"Public Anon Key"}),s.jsx(je,{variant:"secondary",className:"text-xs",children:"Public"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Public key for client-side operations"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(de,{value:r.anonKey,readOnly:!0,className:"font-mono text-sm bg-background"}),s.jsx(O,{variant:"outline",size:"sm",onClick:()=>n(r.anonKey,"Anon Key"),className:"px-2",children:e==="Anon Key"?s.jsx(st,{className:"h-4 w-4 text-green-600"}):s.jsx(Pp,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-950/20 dark:border-blue-800",children:s.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["These values are configured in your Lovable project and cannot be changed here. Visit the"," ",s.jsx("a",{href:"https://supabase.com/dashboard/project/vgsavnlyathtlvrevtjb",target:"_blank",rel:"noopener noreferrer",className:"font-medium underline",children:"Supabase Dashboard"})," ","to manage your project."]})})]})]})}function aNe(){const[e,t]=h.useState({secret_key:"",publishable_key:"",webhook_secret:"",enabled:!1}),[r,n]=h.useState({secret_key:"",publishable_key:"",webhook_secret:"",enabled:!1}),[a,i]=h.useState(!0),[o,l]=h.useState(!1),[c,d]=h.useState(!1),[u,f]=h.useState({secret_key:!1,webhook_secret:!1}),m=JSON.stringify(e)!==JSON.stringify(r);h.useEffect(()=>{p()},[]);const p=async()=>{try{const{data:y,error:v}=await $.rpc("get_stripe_configuration");if(v)throw v;y&&y.length>0&&(t(y[0]),n(y[0]))}catch(y){console.error("Error loading Stripe settings:",y),re({title:"Error loading settings",description:y.message,variant:"destructive"})}finally{i(!1)}},x=async()=>{l(!0),d(!1);try{const{error:y}=await $.rpc("update_stripe_configuration",{p_secret_key:e.secret_key,p_publishable_key:e.publishable_key,p_webhook_secret:e.webhook_secret,p_enabled:e.enabled});if(y)throw y;n(e),d(!0),setTimeout(()=>d(!1),3e3),re({title:"Configuration saved",description:"Stripe settings have been updated successfully."})}catch(y){console.error("Error saving Stripe settings:",y),re({title:"Error saving settings",description:y.message,variant:"destructive"})}finally{l(!1)}},g=()=>{t(r)},w=(y,v)=>{t(b=>({...b,[y]:v}))};return a?s.jsx(Y,{children:s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(cg,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(le,{className:"text-xl",children:"Stripe Configuration"}),s.jsx(St,{children:"Loading settings..."})]})]})})}):s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(cg,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(le,{className:"text-xl",children:"Stripe Configuration"}),s.jsx(St,{children:"Configure Stripe payment processing and billing settings"})]})]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsx($r,{children:s.jsxs(Fr,{children:["Get your Stripe keys from the"," ",s.jsx("a",{href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noopener noreferrer",className:"font-medium underline",children:"Stripe Dashboard"}),". Webhook endpoint: ",s.jsx("code",{className:"bg-muted px-1 py-0.5 rounded text-xs",children:"https://vgsavnlyathtlvrevtjb.supabase.co/functions/v1/stripe-webhook"})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gt,{id:"stripe-enabled",checked:e.enabled,onCheckedChange:y=>w("enabled",y)}),s.jsx(Q,{htmlFor:"stripe-enabled",className:"cursor-pointer",children:"Enable Stripe Integration"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"publishable-key",children:"Publishable Key"}),s.jsx(de,{id:"publishable-key",type:"text",value:e.publishable_key,onChange:y=>w("publishable_key",y.target.value),placeholder:"pk_test_...",className:"font-mono text-sm"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Public key used in client-side code"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"secret-key",children:"Secret Key"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(de,{id:"secret-key",type:u.secret_key?"text":"password",value:e.secret_key,onChange:y=>w("secret_key",y.target.value),placeholder:"sk_test_...",className:"font-mono text-sm"}),s.jsx(O,{type:"button",variant:"outline",size:"icon",onClick:()=>f(y=>({...y,secret_key:!y.secret_key})),children:u.secret_key?s.jsx(xs,{className:"h-4 w-4"}):s.jsx(Mr,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Private key for server-side operations (keep secure)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"webhook-secret",children:"Webhook Secret"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(de,{id:"webhook-secret",type:u.webhook_secret?"text":"password",value:e.webhook_secret,onChange:y=>w("webhook_secret",y.target.value),placeholder:"whsec_...",className:"font-mono text-sm"}),s.jsx(O,{type:"button",variant:"outline",size:"icon",onClick:()=>f(y=>({...y,webhook_secret:!y.webhook_secret})),children:u.webhook_secret?s.jsx(xs,{className:"h-4 w-4"}):s.jsx(Mr,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used to verify webhook events from Stripe"})]})]})]}),s.jsxs(ac,{className:"flex flex-col gap-3 bg-muted/20 border-t",children:[m&&!c&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600 dark:text-amber-400 w-full",children:[s.jsx(je,{variant:"outline",className:"border-amber-600 dark:border-amber-400",children:"Unsaved Changes"}),s.jsx("span",{className:"text-xs",children:"You have unsaved changes"})]}),c&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400 w-full",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Configuration saved successfully"})]}),s.jsxs("div",{className:"flex gap-2 w-full",children:[s.jsxs(O,{onClick:g,disabled:o||!m,variant:"outline",className:"flex-1",children:[s.jsx(xi,{className:"mr-2 h-4 w-4"}),"Reset"]}),s.jsx(O,{onClick:x,disabled:o||!m,className:"flex-1",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Rt,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):c?s.jsxs(s.Fragment,{children:[s.jsx(st,{className:"mr-2 h-4 w-4"}),"Saved"]}):"Save Configuration"})]})]})]})}function iNe(){const[e,t]=h.useState({vapid_public_key:"",vapid_private_key:"",enabled:!1}),[r,n]=h.useState({vapid_public_key:"",vapid_private_key:"",enabled:!1}),[a,i]=h.useState(!0),[o,l]=h.useState(!1),[c,d]=h.useState(!1),[u,f]=h.useState(!1),m=JSON.stringify(e)!==JSON.stringify(r);h.useEffect(()=>{p()},[]);const p=async()=>{try{const{data:y,error:v}=await $.rpc("get_push_notification_settings");if(v)throw v;y&&y.length>0&&(t(y[0]),n(y[0]))}catch(y){console.error("Error loading push notification settings:",y),re({title:"Error loading settings",description:y.message,variant:"destructive"})}finally{i(!1)}},x=async()=>{l(!0),d(!1);try{const{error:y}=await $.rpc("update_push_notification_settings",{p_vapid_public_key:e.vapid_public_key,p_vapid_private_key:e.vapid_private_key,p_enabled:e.enabled});if(y)throw y;n(e),d(!0),setTimeout(()=>d(!1),3e3),re({title:"Configuration saved",description:"Push notification settings have been updated successfully."})}catch(y){console.error("Error saving push notification settings:",y),re({title:"Error saving settings",description:y.message,variant:"destructive"})}finally{l(!1)}},g=()=>{t(r)},w=(y,v)=>{t(b=>({...b,[y]:v}))};return a?s.jsx(Y,{children:s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(dg,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(le,{className:"text-xl",children:"Push Notification Configuration"}),s.jsx(St,{children:"Loading settings..."})]})]})})}):s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(dg,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(le,{className:"text-xl",children:"Push Notification Configuration"}),s.jsx(St,{children:"Configure VAPID keys for web push notifications"})]})]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsx($r,{children:s.jsxs(Fr,{children:["Generate VAPID keys using"," ",s.jsx("a",{href:"https://vapidkeys.com/",target:"_blank",rel:"noopener noreferrer",className:"font-medium underline",children:"vapidkeys.com"})," ","or use the web-push library to generate them."]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gt,{id:"push-enabled",checked:e.enabled,onCheckedChange:y=>w("enabled",y)}),s.jsx(Q,{htmlFor:"push-enabled",className:"cursor-pointer",children:"Enable Push Notifications"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"vapid-public",children:"VAPID Public Key"}),s.jsx(de,{id:"vapid-public",type:"text",value:e.vapid_public_key,onChange:y=>w("vapid_public_key",y.target.value),placeholder:"Public key for push subscriptions",className:"font-mono text-sm"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Public key shared with clients for push subscriptions"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"vapid-private",children:"VAPID Private Key"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(de,{id:"vapid-private",type:u?"text":"password",value:e.vapid_private_key,onChange:y=>w("vapid_private_key",y.target.value),placeholder:"Private key for sending notifications",className:"font-mono text-sm"}),s.jsx(O,{type:"button",variant:"outline",size:"icon",onClick:()=>f(!u),children:u?s.jsx(xs,{className:"h-4 w-4"}):s.jsx(Mr,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Private key used server-side to send push notifications (keep secure)"})]})]})]}),s.jsxs(ac,{className:"flex flex-col gap-3 bg-muted/20 border-t",children:[m&&!c&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600 dark:text-amber-400 w-full",children:[s.jsx(je,{variant:"outline",className:"border-amber-600 dark:border-amber-400",children:"Unsaved Changes"}),s.jsx("span",{className:"text-xs",children:"You have unsaved changes"})]}),c&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400 w-full",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Configuration saved successfully"})]}),s.jsxs("div",{className:"flex gap-2 w-full",children:[s.jsxs(O,{onClick:g,disabled:o||!m,variant:"outline",className:"flex-1",children:[s.jsx(xi,{className:"mr-2 h-4 w-4"}),"Reset"]}),s.jsx(O,{onClick:x,disabled:o||!m,className:"flex-1",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Rt,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):c?s.jsxs(s.Fragment,{children:[s.jsx(st,{className:"mr-2 h-4 w-4"}),"Saved"]}):"Save Configuration"})]})]})]})}function oNe(){const[e,t]=h.useState({account_sid:"",auth_token:"",phone_number:"",enabled:!1}),[r,n]=h.useState({account_sid:"",auth_token:"",phone_number:"",enabled:!1}),[a,i]=h.useState(!0),[o,l]=h.useState(!1),[c,d]=h.useState(!1),[u,f]=h.useState(!1),m=JSON.stringify(e)!==JSON.stringify(r);h.useEffect(()=>{p()},[]);const p=async()=>{try{const{data:y,error:v}=await $.rpc("get_twilio_settings");if(v)throw v;y&&y.length>0&&(t(y[0]),n(y[0]))}catch(y){console.error("Error loading Twilio settings:",y),re({title:"Error loading settings",description:y.message,variant:"destructive"})}finally{i(!1)}},x=async()=>{l(!0),d(!1);try{const{error:y}=await $.rpc("update_twilio_settings",{p_account_sid:e.account_sid,p_auth_token:e.auth_token,p_phone_number:e.phone_number,p_enabled:e.enabled});if(y)throw y;n(e),d(!0),setTimeout(()=>d(!1),3e3),re({title:"Configuration saved",description:"Twilio settings have been updated successfully."})}catch(y){console.error("Error saving Twilio settings:",y),re({title:"Error saving settings",description:y.message,variant:"destructive"})}finally{l(!1)}},g=()=>{t(r)},w=(y,v)=>{t(b=>({...b,[y]:v}))};return a?s.jsx(Y,{children:s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(xk,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(le,{className:"text-xl",children:"Twilio Configuration"}),s.jsx(St,{children:"Loading settings..."})]})]})})}):s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(xk,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(le,{className:"text-xl",children:"Twilio Configuration"}),s.jsx(St,{children:"Configure Twilio for SMS and messaging services"})]})]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsx($r,{children:s.jsxs(Fr,{children:["Get your Twilio credentials from the"," ",s.jsx("a",{href:"https://console.twilio.com/",target:"_blank",rel:"noopener noreferrer",className:"font-medium underline",children:"Twilio Console"}),". You'll need an Account SID, Auth Token, and a phone number."]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gt,{id:"twilio-enabled",checked:e.enabled,onCheckedChange:y=>w("enabled",y)}),s.jsx(Q,{htmlFor:"twilio-enabled",className:"cursor-pointer",children:"Enable Twilio Integration"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"account-sid",children:"Account SID"}),s.jsx(de,{id:"account-sid",type:"text",value:e.account_sid,onChange:y=>w("account_sid",y.target.value),placeholder:"AC...",className:"font-mono text-sm"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your Twilio account identifier"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"auth-token",children:"Auth Token"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(de,{id:"auth-token",type:u?"text":"password",value:e.auth_token,onChange:y=>w("auth_token",y.target.value),placeholder:"Your auth token",className:"font-mono text-sm"}),s.jsx(O,{type:"button",variant:"outline",size:"icon",onClick:()=>f(!u),children:u?s.jsx(xs,{className:"h-4 w-4"}):s.jsx(Mr,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Authentication token for Twilio API (keep secure)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"phone-number",children:"Phone Number"}),s.jsx(de,{id:"phone-number",type:"text",value:e.phone_number,onChange:y=>w("phone_number",y.target.value),placeholder:"+1234567890",className:"font-mono text-sm"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your Twilio phone number for sending SMS (include country code)"})]})]})]}),s.jsxs(ac,{className:"flex flex-col gap-3 bg-muted/20 border-t",children:[m&&!c&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600 dark:text-amber-400 w-full",children:[s.jsx(je,{variant:"outline",className:"border-amber-600 dark:border-amber-400",children:"Unsaved Changes"}),s.jsx("span",{className:"text-xs",children:"You have unsaved changes"})]}),c&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400 w-full",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Configuration saved successfully"})]}),s.jsxs("div",{className:"flex gap-2 w-full",children:[s.jsxs(O,{onClick:g,disabled:o||!m,variant:"outline",className:"flex-1",children:[s.jsx(xi,{className:"mr-2 h-4 w-4"}),"Reset"]}),s.jsx(O,{onClick:x,disabled:o||!m,className:"flex-1",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Rt,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):c?s.jsxs(s.Fragment,{children:[s.jsx(st,{className:"mr-2 h-4 w-4"}),"Saved"]}):"Save Configuration"})]})]})]})}function lNe(){const[e,t]=h.useState({api_key:"",from_domain:"",enabled:!1}),[r,n]=h.useState({api_key:"",from_domain:"",enabled:!1}),[a,i]=h.useState(!0),[o,l]=h.useState(!1),[c,d]=h.useState(!1),[u,f]=h.useState(!1),m=JSON.stringify(e)!==JSON.stringify(r);h.useEffect(()=>{p()},[]);const p=async()=>{try{const{data:y,error:v}=await $.rpc("get_resend_settings");if(v)throw v;y&&y.length>0&&(t(y[0]),n(y[0]))}catch(y){console.error("Error loading Resend settings:",y),re({title:"Error loading settings",description:y.message,variant:"destructive"})}finally{i(!1)}},x=async()=>{l(!0),d(!1);try{const{error:y}=await $.rpc("update_resend_settings",{p_api_key:e.api_key,p_from_domain:e.from_domain,p_enabled:e.enabled});if(y)throw y;n(e),d(!0),setTimeout(()=>d(!1),3e3),re({title:"Configuration saved",description:"Resend settings have been updated successfully."})}catch(y){console.error("Error saving Resend settings:",y),re({title:"Error saving settings",description:y.message,variant:"destructive"})}finally{l(!1)}},g=()=>{t(r)},w=(y,v)=>{t(b=>({...b,[y]:v}))};return a?s.jsx(Y,{children:s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(Ul,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(le,{className:"text-xl",children:"Resend Configuration"}),s.jsx(St,{children:"Loading settings..."})]})]})})}):s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(Ul,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(le,{className:"text-xl",children:"Resend Configuration"}),s.jsx(St,{children:"Configure Resend for email delivery services"})]})]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsx($r,{children:s.jsxs(Fr,{children:["Get your Resend API key from the"," ",s.jsx("a",{href:"https://resend.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"font-medium underline",children:"Resend Dashboard"}),". Make sure to verify your domain first."]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gt,{id:"resend-enabled",checked:e.enabled,onCheckedChange:y=>w("enabled",y)}),s.jsx(Q,{htmlFor:"resend-enabled",className:"cursor-pointer",children:"Enable Resend Integration"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"api-key",children:"API Key"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(de,{id:"api-key",type:u?"text":"password",value:e.api_key,onChange:y=>w("api_key",y.target.value),placeholder:"re_...",className:"font-mono text-sm"}),s.jsx(O,{type:"button",variant:"outline",size:"icon",onClick:()=>f(!u),children:u?s.jsx(xs,{className:"h-4 w-4"}):s.jsx(Mr,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"API key for Resend email service (keep secure)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"from-domain",children:"From Domain"}),s.jsx(de,{id:"from-domain",type:"text",value:e.from_domain,onChange:y=>w("from_domain",y.target.value),placeholder:"noreply@yourdomain.com",className:"font-mono text-sm"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Verified domain email address for sending emails"})]})]})]}),s.jsxs(ac,{className:"flex flex-col gap-3 bg-muted/20 border-t",children:[m&&!c&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600 dark:text-amber-400 w-full",children:[s.jsx(je,{variant:"outline",className:"border-amber-600 dark:border-amber-400",children:"Unsaved Changes"}),s.jsx("span",{className:"text-xs",children:"You have unsaved changes"})]}),c&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400 w-full",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Configuration saved successfully"})]}),s.jsxs("div",{className:"flex gap-2 w-full",children:[s.jsxs(O,{onClick:g,disabled:o||!m,variant:"outline",className:"flex-1",children:[s.jsx(xi,{className:"mr-2 h-4 w-4"}),"Reset"]}),s.jsx(O,{onClick:x,disabled:o||!m,className:"flex-1",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Rt,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):c?s.jsxs(s.Fragment,{children:[s.jsx(st,{className:"mr-2 h-4 w-4"}),"Saved"]}):"Save Configuration"})]})]})]})}function cNe(){const[e,t]=h.useState(!1),[r,n]=h.useState(null),[a,i]=h.useState(!1),{toast:o}=Ge();h.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:f,error:m}=await $.from("storage_policy").select("*").single();if(m)throw m;n(f)}catch(f){console.error("Error fetching storage policy:",f),o({title:"Error",description:"Failed to load storage policy",variant:"destructive"})}},c=(f,m)=>{r&&(n({...r,[f]:m}),i(!0))},d=async()=>{if(r){t(!0);try{const{error:f}=await $.from("storage_policy").update({max_upload_mb:r.max_upload_mb,max_longest_edge_px:r.max_longest_edge_px,compression_quality:r.compression_quality,enforce_webp:r.enforce_webp,updated_at:new Date().toISOString()}).eq("id",r.id);if(f)throw f;o({title:"Success",description:"Storage policy updated successfully"}),i(!1)}catch(f){console.error("Error updating storage policy:",f),o({title:"Error",description:f.message||"Failed to update storage policy",variant:"destructive"})}finally{t(!1)}}},u=()=>{r&&(n({...r,max_upload_mb:5,max_longest_edge_px:1600,compression_quality:80,enforce_webp:!0}),i(!0))};return r?s.jsxs(Y,{children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(AW,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(le,{children:"Storage Configuration"}),s.jsx(St,{children:"Configure upload limits, compression, and per-plan storage quotas"})]})]})}),s.jsxs(X,{className:"space-y-6",children:[s.jsxs($r,{children:[s.jsx(jd,{className:"h-4 w-4"}),s.jsx(Fr,{children:"A 30002000 PNG (~3.5MB) will be compressed to ~300-600KB WebP after processing."})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"max_upload_mb",children:"Max Upload Size (MB)"}),s.jsx(de,{id:"max_upload_mb",type:"number",min:1,max:50,value:r.max_upload_mb,onChange:f=>c("max_upload_mb",parseInt(f.target.value))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum file size before compression"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"max_longest_edge_px",children:"Max Longest Edge (px)"}),s.jsx(de,{id:"max_longest_edge_px",type:"number",min:800,max:4e3,step:100,value:r.max_longest_edge_px,onChange:f=>c("max_longest_edge_px",parseInt(f.target.value))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Images will be resized to fit within this dimension"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"compression_quality",children:"Compression Quality (0-100)"}),s.jsx(de,{id:"compression_quality",type:"number",min:0,max:100,value:r.compression_quality,onChange:f=>c("compression_quality",parseInt(f.target.value))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Higher values = better quality but larger files"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Q,{htmlFor:"enforce_webp",children:"Force WebP Format"}),s.jsx(gt,{id:"enforce_webp",checked:r.enforce_webp,onCheckedChange:f=>c("enforce_webp",f)})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Convert all images to WebP for better compression"})]})]}),s.jsxs($r,{className:"border-primary/20 bg-primary/5",children:[s.jsx(jd,{className:"h-4 w-4 text-primary"}),s.jsxs(Fr,{children:[s.jsx("strong",{children:"Storage quotas are now configured per plan."})," Go to ",s.jsx("strong",{children:"Admin  Subscriptions"})," to set storage limits for each subscription plan (Free, Premium, Gold)."]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsxs(O,{onClick:d,disabled:e||!a,children:[s.jsx(aa,{className:"w-4 h-4 mr-2"}),"Save Changes"]}),s.jsxs(O,{variant:"outline",onClick:u,disabled:e,children:[s.jsx(xi,{className:"w-4 h-4 mr-2"}),"Reset to Defaults"]})]})]})]}):s.jsx("div",{children:"Loading..."})}function gO(){return s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ND,{className:"h-6 w-6 text-primary"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configuration"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage and view your application configuration keys and settings"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(tNe,{}),s.jsx(xn,{className:"my-6"}),s.jsx(cNe,{}),s.jsx(xn,{className:"my-6"}),s.jsx(sNe,{}),s.jsx(xn,{className:"my-6"}),s.jsx(rNe,{}),s.jsx(xn,{className:"my-6"}),s.jsx(nNe,{}),s.jsx(xn,{className:"my-6"}),s.jsx(aNe,{}),s.jsx(xn,{className:"my-6"}),s.jsx(iNe,{}),s.jsx(xn,{className:"my-6"}),s.jsx(oNe,{}),s.jsx(xn,{className:"my-6"}),s.jsx(lNe,{})]})]})}function xO(){const[e,t]=h.useState([]),[r,n]=h.useState(0),[a,i]=h.useState(!1),[o,l]=h.useState(new Set(JSON.parse(localStorage.getItem("dismissedBroadcasts")||"[]")));h.useEffect(()=>{c();const g=$.channel("broadcasts").on("postgres_changes",{event:"*",schema:"public",table:"broadcasts"},()=>{c()}).subscribe();return()=>{$.removeChannel(g)}},[]);const c=async()=>{try{const{data:g,error:w}=await $.from("broadcasts").select("*").eq("active",!0).order("created_at",{ascending:!1});if(w){console.error("Error loading broadcasts:",w);return}t(g||[])}catch(g){console.error("Error:",g)}},d=g=>{const w=new Set(o);w.add(g),l(w),localStorage.setItem("dismissedBroadcasts",JSON.stringify([...w]))},u=g=>{switch(g){case"info":return s.jsx(jd,{className:"h-5 w-5 text-blue-500"});case"warning":return s.jsx(us,{className:"h-5 w-5 text-yellow-500"});case"success":return s.jsx(wd,{className:"h-5 w-5 text-green-500"});case"error":return s.jsx(S1,{className:"h-5 w-5 text-red-500"});default:return s.jsx(jd,{className:"h-5 w-5 text-blue-500"})}},f=g=>{switch(g){case"error":return"destructive";case"warning":return"secondary";default:return"default"}},m=e.filter(g=>!o.has(g.id)),p=m[r];h.useEffect(()=>{m.length>0&&!a&&i(!0)},[m.length,a]);const x=()=>{p&&d(p.id),m.filter(w=>w.id!==(p==null?void 0:p.id)).length>0||i(!1),n(0)};return!p||!a?null:s.jsx(Xe,{open:a,onOpenChange:()=>x(),children:s.jsxs(Qe,{className:"max-w-md",children:[s.jsxs(et,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[u(p.type),s.jsxs("div",{className:"flex-1",children:[s.jsx(tt,{className:"text-left text-lg font-semibold",children:p.title}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx(je,{variant:f(p.type),children:p.type.charAt(0).toUpperCase()+p.type.slice(1)}),m.length>1&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:[r+1," of ",m.length]})]})]})]}),s.jsx(En,{className:"text-left text-base text-foreground",children:p.message})]}),s.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:s.jsxs(O,{variant:"outline",onClick:x,className:"flex items-center space-x-2",children:[s.jsx(er,{className:"h-4 w-4"}),s.jsx("span",{children:"Dismiss"})]})})]})})}function dNe(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/-/g,"+").replace(/_/g,"/"),n=atob(r),a=new Uint8Array(n.length);for(let i=0;i<n.length;++i)a[i]=n.charCodeAt(i);return a}function vO(){const[e,t]=h.useState(!1);return h.useEffect(()=>{(async()=>{try{if(!("serviceWorker"in navigator)||!("PushManager"in window))return;const{data:{user:n}}=await $.auth.getUser();if(!n)return;const a=await navigator.serviceWorker.register("/sw.js"),{data:i}=await $.functions.invoke("push-config"),o=i==null?void 0:i.publicKey;if(!o){console.warn("VAPID public key not configured");return}let l=Notification.permission;if(l==="default"&&(l=await Notification.requestPermission()),l!=="granted")return;let c=await a.pushManager.getSubscription();c||(c=await a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:dNe(o)}));const d={user_id:n.id,subscription_data:c.toJSON(),user_agent:navigator.userAgent};await $.from("push_subscriptions").upsert([d],{onConflict:"user_id,subscription_data"}),t(!0)}catch(n){console.warn("Push setup failed:",n)}})()},[]),null}function uNe(e,t){try{const r=document.querySelector('link[rel="manifest"]');r&&r.remove();const n={name:"Tagmentia",short_name:"Tagmentia",description:"Organize and manage your video collections",start_url:"/",display:"standalone",background_color:"#ffffff",theme_color:"#3B82F6",orientation:"portrait-primary",icons:[{src:t,sizes:"64x64 32x32 24x24 16x16",type:"image/x-icon"},{src:e,sizes:"192x192",type:"image/png",purpose:"any maskable"},{src:e,sizes:"512x512",type:"image/png",purpose:"any maskable"}],share_target:{action:"/add",method:"GET",enctype:"application/x-www-form-urlencoded",params:{title:"title",text:"text",url:"url"}}},a=new Blob([JSON.stringify(n)],{type:"application/json"}),i=URL.createObjectURL(a),o=document.createElement("link");o.rel="manifest",o.href=i,document.head.appendChild(o)}catch(r){console.error("Failed to update manifest icons:",r)}}function yO(){const{currentFaviconUrl:e,currentLogoUrl:t}=hn();return h.useEffect(()=>{const r=e||"/favicon.ico",n=e||t||"/favicon.ico",a=(i,o,l)=>{let c=document.querySelector(l?`#${l}`:`link[rel="${i}"]`);c||(c=document.createElement("link"),c.rel=i,l&&(c.id=l),document.head.appendChild(c));const d=new URL(o,window.location.origin).href;c.href!==d&&(c.href=d)};a("icon",r,"favicon"),a("shortcut icon",r),a("apple-touch-icon",n,"apple-touch-icon"),uNe(n,r)},[e,t]),null}const fNe=768,bO="sidebar_collapsed";function Jz(){const[e,t]=h.useState(window.innerWidth),[r,n]=h.useState(()=>localStorage.getItem(bO)==="true");h.useEffect(()=>{let i;const o=()=>{clearTimeout(i),i=setTimeout(()=>{t(window.innerWidth)},200)};return window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o),clearTimeout(i)}},[]);const a=()=>{n(i=>{const o=!i;return localStorage.setItem(bO,String(o)),o})};return{isMobile:e<=fNe,width:e,sidebarCollapsed:r,toggleSidebar:a}}const hNe=({activeTab:e})=>{const t=kn(),r=[{icon:Eh,label:"Dashboard",path:"/dashboard",key:"dashboard"},{icon:Fl,label:"Categories",path:"/categories",key:"categories"},{icon:vt,label:"Search",path:"/search",key:"search"},{icon:xt,label:"Reminders",path:"/reminders",key:"reminders"},{icon:yD,label:"Account",path:"/account",key:"account"}],n=(a,i)=>e?e===i:t.pathname===a;return s.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-card/90 backdrop-blur-sm border-t border-border pb-safe",children:s.jsx("div",{className:"flex items-center justify-around py-2 px-4",children:r.map(({icon:a,label:i,path:o,key:l})=>s.jsxs(Re,{to:o,className:ne("flex flex-col items-center gap-1 py-2 px-3 rounded-lg transition-all duration-200 min-w-0",n(o,l)?"text-primary bg-primary/10":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[s.jsx(a,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"text-xs font-medium truncate",children:i})]},l))})})},mNe=()=>{const e=kn(),{sidebarCollapsed:t,toggleSidebar:r}=Jz(),n=[{icon:Eh,label:"Dashboard",path:"/dashboard-web",key:"dashboard"},{icon:Fl,label:"Categories",path:"/categories-web",key:"categories"},{icon:Vt,label:"Videos",path:"/videos-web",key:"videos"},{icon:vt,label:"Search",path:"/search-web",key:"search"},{icon:xt,label:"Reminders",path:"/reminders-web",key:"reminders"},{icon:xr,label:"Notes",path:"/notes-web",key:"notes"},{icon:yD,label:"Account",path:"/account-web",key:"account"}],a=i=>e.pathname===i||e.pathname.startsWith(i+"/");return s.jsxs("nav",{"aria-label":"Primary",className:ne("fixed left-0 top-0 h-full bg-card border-r border-border transition-all duration-300 z-40 flex flex-col",t?"w-[72px]":"w-[240px]"),children:[s.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[!t&&s.jsx("h2",{className:"font-semibold text-lg text-foreground",children:"Menu"}),s.jsx(O,{variant:"ghost",size:"icon",onClick:r,className:"ml-auto","aria-label":t?"Expand sidebar":"Collapse sidebar",children:t?s.jsx(qx,{className:"w-5 h-5"}):s.jsx(Wx,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 py-4 overflow-y-auto",children:s.jsx("ul",{className:"space-y-1 px-2",children:n.map(({icon:i,label:o,path:l,key:c})=>s.jsx("li",{children:s.jsxs(Re,{to:l,className:ne("flex items-center gap-3 px-3 py-3 rounded-lg transition-all duration-200 relative group",a(l)?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),"aria-current":a(l)?"page":void 0,children:[a(l)&&s.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-primary rounded-r-full"}),s.jsx(i,{className:"w-5 h-5 flex-shrink-0"}),!t&&s.jsx("span",{className:"text-sm font-medium truncate",children:o}),t&&s.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-popover text-popover-foreground text-sm rounded-md shadow-md opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50",children:o})]})},c))})})]})},pNe=({children:e})=>{const{isMobile:t,sidebarCollapsed:r}=Jz();return s.jsxs("div",{className:"app-shell min-h-screen",children:[!t&&s.jsx(mNe,{}),s.jsx("main",{className:ne("min-h-screen transition-all duration-300","pb-safe",!t&&(r?"ml-[72px]":"ml-[240px]"),t&&"pb-20"),children:e}),t&&s.jsx(hNe,{})]})};function gNe(){const e=Ie();h.useEffect(()=>{if(!ko.isNativePlatform())return;let r=null;return Zr(async()=>{const{App:n}=await import("./index-BJA2HfCG.js");return{App:n}},[]).then(({App:n})=>{n.addListener("appUrlOpen",a=>{t(a.url)}),n.addListener("appStateChange",a=>{a.isActive&&n.getLaunchUrl().then(i=>{i!=null&&i.url&&t(i.url)})}),n.getLaunchUrl().then(a=>{a!=null&&a.url&&t(a.url)}),r=()=>{n.removeAllListeners()}}).catch(n=>{console.warn("Capacitor App plugin not available:",n)}),()=>{r==null||r()}},[e]);const t=r=>{try{const n=new URL(r);if(n.protocol==="tagmentia:"){const a=n.searchParams.get("url");if(a){const i=encodeURIComponent(a);e(`/add?url=${i}`);return}}if((n.hostname==="tagmentia.com"||n.hostname.endsWith(".tagmentia.com"))&&n.pathname==="/add"){e(`/add${n.search}`);return}}catch(n){console.error("Error handling deep link:",n)}}}function xNe(){const e=Ie();h.useEffect(()=>{const r=new URLSearchParams(window.location.search).get("url");if(r){const a=encodeURIComponent(r);e(`/add?url=${a}`,{replace:!0});return}const n=localStorage.getItem("pendingShare");if(n&&n.trim()){localStorage.removeItem("pendingShare");const a=encodeURIComponent(n.trim());e(`/add?url=${a}`,{replace:!0})}},[e])}const wO=new hK;function jO(){return gNe(),null}function vNe(){return xNe(),null}const yNe=()=>window.location.hostname.startsWith("admin.")?s.jsx(Vk,{client:wO,children:s.jsxs(Vw,{children:[s.jsx(jk,{}),s.jsx(_k,{}),s.jsx(Qk,{children:s.jsxs(SP,{children:[s.jsx(jO,{}),s.jsx(xO,{}),s.jsx(vO,{}),s.jsx(yO,{}),s.jsxs(Kk,{children:[s.jsx(Ne,{path:"/auth/login",element:s.jsx(tP,{})}),s.jsx(Ne,{path:"/auth/forgot-password",element:s.jsx(iP,{})}),s.jsx(Ne,{path:"/auth/reset-password",element:s.jsx(oP,{})}),s.jsxs(Ne,{path:"/",element:s.jsx(Xm,{children:s.jsx(_P,{})}),children:[s.jsx(Ne,{index:!0,element:s.jsx(lO,{})}),s.jsx(Ne,{path:"users",element:s.jsx(T0,{})}),s.jsx(Ne,{path:"waitlist",element:s.jsx(cO,{})}),s.jsx(Ne,{path:"messaging",element:s.jsx(pO,{})}),s.jsx(Ne,{path:"billing",element:s.jsx(dO,{})}),s.jsx(Ne,{path:"subscriptions",element:s.jsx(uO,{})}),s.jsx(Ne,{path:"configuration",element:s.jsx(gO,{})}),s.jsx(Ne,{path:"settings",element:s.jsx(L0,{})})]}),s.jsx(Ne,{path:"/account-suspended",element:s.jsx(lP,{})}),s.jsx(Ne,{path:"*",element:s.jsx(XE,{})})]})]})})]})}):s.jsx(Vk,{client:wO,children:s.jsxs(Vw,{children:[s.jsx(jk,{}),s.jsx(_k,{}),s.jsx(Qk,{children:s.jsxs(SP,{children:[s.jsx(vNe,{}),s.jsx(jO,{}),s.jsx(xO,{}),s.jsx(vO,{}),s.jsx(yO,{}),s.jsxs(Kk,{children:[s.jsxs(Ne,{path:"/admin",element:s.jsx(Xm,{children:s.jsx(_P,{})}),children:[s.jsx(Ne,{index:!0,element:s.jsx(lO,{})}),s.jsx(Ne,{path:"users",element:s.jsx(T0,{})}),s.jsx(Ne,{path:"waitlist",element:s.jsx(cO,{})}),s.jsx(Ne,{path:"messaging",element:s.jsx(pO,{})}),s.jsx(Ne,{path:"billing",element:s.jsx(dO,{})}),s.jsx(Ne,{path:"subscriptions",element:s.jsx(uO,{})}),s.jsx(Ne,{path:"configuration",element:s.jsx(gO,{})}),s.jsx(Ne,{path:"settings",element:s.jsx(L0,{})})]}),s.jsx(Ne,{path:"/auth/login",element:s.jsx(tP,{})}),s.jsx(Ne,{path:"/auth/signup",element:s.jsx(mie,{})}),s.jsx(Ne,{path:"/auth/verify-email",element:s.jsx(pie,{})}),s.jsx(Ne,{path:"/auth/onboarding",element:s.jsx(gie,{})}),s.jsx(Ne,{path:"/auth/forgot-password",element:s.jsx(iP,{})}),s.jsx(Ne,{path:"/auth/reset-password",element:s.jsx(oP,{})}),s.jsx(Ne,{path:"/account-suspended",element:s.jsx(lP,{})}),s.jsx(Ne,{path:"/account-deleted",element:s.jsx(xie,{})}),s.jsx(Ne,{path:"/",element:s.jsx(eP,{})}),s.jsx(Ne,{path:"/home",element:s.jsx(eP,{})}),s.jsx(Ne,{path:"/privacy-policy",element:s.jsx(bie,{})}),s.jsx(Ne,{path:"/terms",element:s.jsx(wie,{})}),s.jsx(Ne,{path:"/support",element:s.jsx(Jie,{})}),s.jsx(Ne,{path:"/account-deletion",element:s.jsx(noe,{})}),s.jsxs(Ne,{element:s.jsx(pNe,{children:s.jsx(TI,{})}),children:[s.jsx(Ne,{path:"/splash",element:s.jsx(sae,{})}),s.jsx(Ne,{path:"/dashboard",element:s.jsx(fte,{})}),s.jsx(Ne,{path:"/dashboard-web",element:s.jsx(Cte,{})}),s.jsx(Ne,{path:"/categories",element:s.jsx(vre,{})}),s.jsx(Ne,{path:"/categories-web",element:s.jsx(yre,{})}),s.jsx(Ne,{path:"/categories-grid",element:s.jsx(bre,{})}),s.jsx(Ne,{path:"/categories/add",element:s.jsx(Cre,{})}),s.jsx(Ne,{path:"/add",element:s.jsx(Jre,{})}),s.jsx(Ne,{path:"/category/:id",element:s.jsx(Nre,{})}),s.jsx(Ne,{path:"/category-web/:id",element:s.jsx(Sre,{})}),s.jsx(Ne,{path:"/category/:categoryId/add-video",element:s.jsx(LE,{})}),s.jsx(Ne,{path:"/add-video",element:s.jsx(LE,{})}),s.jsx(Ne,{path:"/category/:categoryId/add-screenshot",element:s.jsx(VE,{})}),s.jsx(Ne,{path:"/add-screenshot",element:s.jsx(VE,{})}),s.jsx(Ne,{path:"/search",element:s.jsx(Cne,{})}),s.jsx(Ne,{path:"/search-web",element:s.jsx(_ne,{})}),s.jsx(Ne,{path:"/videos",element:s.jsx(kne,{})}),s.jsx(Ne,{path:"/videos-web",element:s.jsx(Ene,{})}),s.jsx(Ne,{path:"/reminders-web",element:s.jsx(Qse,{})}),s.jsx(Ne,{path:"/reminders",element:s.jsx(Jse,{})}),s.jsx(Ne,{path:"/video/:id",element:s.jsx(WE,{})}),s.jsx(Ne,{path:"/video-web/:id",element:s.jsx(WE,{})}),s.jsx(Ne,{path:"/screenshots",element:s.jsx(qse,{})}),s.jsx(Ne,{path:"/screenshots-web",element:s.jsx(Hse,{})}),s.jsx(Ne,{path:"/notes",element:s.jsx(Kse,{})}),s.jsx(Ne,{path:"/notes-web",element:s.jsx(Yse,{})}),s.jsx(Ne,{path:"/notes/add",element:s.jsx(Zse,{})}),s.jsx(Ne,{path:"/account",element:s.jsx(rae,{})}),s.jsx(Ne,{path:"/account-web",element:s.jsx(nae,{})}),s.jsx(Ne,{path:"/help-feedback",element:s.jsx(vie,{})}),s.jsx(Ne,{path:"/upgrade",element:s.jsx(yie,{})}),s.jsx(Ne,{path:"/users",element:s.jsx(Xm,{children:s.jsx(T0,{})})}),s.jsx(Ne,{path:"/settings",element:s.jsx(Xm,{children:s.jsx(L0,{})})})]}),s.jsx(Ne,{path:"*",element:s.jsx(XE,{})})]})]})})]})}),bNe=()=>{if(!(typeof window>"u"))try{["tagmentia_global_logo_config","logo_config","tagmentia_logo_v1","tagmentia_logo_v2","tagmentia_logo_v3"].forEach(t=>{localStorage.getItem(t)&&(console.log(` Clearing old cache: ${t}`),localStorage.removeItem(t))}),"caches"in window&&caches.keys().then(t=>{t.forEach(r=>{(r.includes("logo")||r.includes("branding"))&&(console.log(` Clearing service worker cache: ${r}`),caches.delete(r))})}),console.log(" Old logo caches cleared")}catch(e){console.error("Error clearing old caches:",e)}};bNe();WR(document.getElementById("root")).render(s.jsx(fe.StrictMode,{children:s.jsx(yNe,{})}));export{BI as W,Zr as _,UI as r};
